{"meta":{"title":"宅世界","subtitle":"生命不止    折腾不休","description":"","author":"ROOT","url":"https://blog.bingfengs.xyz","root":"/"},"pages":[{"title":"tags","date":"2021-08-01T10:23:38.000Z","updated":"2021-08-01T11:28:35.453Z","comments":true,"path":"tags/index.html","permalink":"https://blog.bingfengs.xyz/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"proxychains + V2raya","slug":"proxychains-V2raya","date":"2022-05-29T01:33:59.000Z","updated":"2022-05-29T01:51:14.173Z","comments":true,"path":"2022/05/29/proxychains-v2raya/","link":"","permalink":"https://blog.bingfengs.xyz/2022/05/29/proxychains-v2raya/","excerpt":"","text":"对 Linux 的科学上网的环境头疼很久，由于服务器是在天翼云上面的 Ubuntu 主机，跑个 git 一点速度都没有，真 TM 想爆粗口。想起以前看到过的神器 proxychains。于是决定试试。毕竟无论 apt， git ，还是 curl 等等，单独去指定代理太麻烦了，配置文件各有各的，脑袋记不住。这个服务器考虑到稳定性，没有安装 GUI 界面，所以刚开始并不打算在服务器上部署 V2ray。但是去网上转了一圈，发现免费的 HTTP 代理没有一个能用(浪费时间的东西)。于是顺便在服务器上安装了 V2rayA。 所以，有了 proxychains + V2rayA 这个组合，做个记录 proxychains安装我使用的是 Ubuntu，所以一行命令搞定。当然，你也可以自己编译（可以参考下面编译这一步骤）。官方的 Github apt install proxychains4 请注意，install 后必须是 proxychains4，如果只是 proxychains，会安装旧的版本 – 3。 编译（可选） 安装编译环境 apt-get install build-essential 克隆代码 git clone git@github.com:rofl0r/proxychains-ng.git cd proxychains-ng 编译 sudo make sudo make install sudo make install-config 找到配置文件，复制到 etc 目录下面 cp ./src/proxychains.conf /etc/proxychians.conf 修改配置 注释 strict_chain 添加 一行配置 socks5 192.168.1.1 1080 测试，能看到输出结果就是通了 proxychains4 -f /etc/proxychians.conf curl -v google.com 配置配置文件的位置：/etc/proxychains4.conf 注销 proxy_dns 该参数会代理 DNS，如果要使用本地的 DNS，注销即可 注销 strict_chain，开启 dynamic_chain strict_chain 是官方默认，但是这有个问题：如果你指定多个代理，他会按照代理的顺序，将数据包依次通过这些代理。 dynamic_chain：该配置项能够通过ProxyList中的每个代理运行流量，如果其中一个代理关闭或者没有响应，它能够自动选择ProxyList中的下一个代理； strict_chain：该配置为ProxyChains的默认配置，不同于dynamic_chain，也能够通过ProxyList中的每个代理运行流量，但是如果ProxyList中的代理出现故障，不会自动切换到下一个。 random_chain：该配置项会从ProxyList中随机选择代理IP来运行流量，如果ProxyList中有多个代理IP，在使用proxychains的时候会使用不同的代理访问目标主机，从而使主机端探测流量更加困难。 添加代理 在该文件的最后位置，指定代理，可以有多个，格式如下： http 127.0.0.1 23334 同时，注销默认的 socks4 127.0.0.1 9050 使用方法只需在需要代理的命令前面加入 proxychains4 就行，或者直接 proxychains，这两个做了映射，是同一个东西 proxychains curl google.com 你还能像这样，查看你代理后的 IP 地址proxychains curl myip.ipip.netproxychains curl cip.cc V2rayA上面说了 proxychains 的使用方法，但是我们还需要有一个代理，才能畅快使用外网。我去网上找了一堆免费的 HTTP 代理，发现没一个能用的，curl 各种报错，白瞎了我一个晚上。想想还是安装一个 v2ray 到服务器算了。于是找了这个 V2rayA。部署和使用方法可以参考官方的文档 首先，你要确认你用的是哪个个核心：v2fly or xray。 在没有科学上网的环境下，要去使用一键脚本安装 V2rayA，会进入死循环。没办法，只能使用离线安装的方法来搞。 我这里以 Xray 为例： 官方的一键安装脚本为： # bash -c &quot;$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)&quot; @ install 直接在本地浏览器访问 https://github.com/XTLS/Xray-install/raw/main/install-release.sh 然后把脚本的内容复制到远程服务器上，保存为文件，这里命名为 go.sh，赋予 744 的权限（用 chmod 命令） Xray-core 下载的 URL： https://github.com/XTLS/Xray-core/releases/ 根据自己的服务器的 CPU 架构选择对应的安装包， 我这里是：Xray-linux-64.zip。这里，我们需要下载好安装包，然后上传到服务器 安装，使用 --local 指定安装包的位置 go.sh install --local Xray-linux-64.zip 禁用 xray 服务。安装后可以关掉服务，因为 v2rayA 不依赖于该 systemd 服务。 systemctl disable xray --now 到这里，Xray 的 core 就安装好了，接下来安装 V2rayA 的本体 同理，去 Github 下载对应 CPU 架构和发行版的安装包，上传到服务器 https://github.com/v2rayA/v2rayA/releases 我用的是 Ubuntu，所以直接下载 Debian 的就行。包名如下：installer_debian_amd64_1.5.7.deb 安装，自行替换 deb 包所在的实际路径 apt install /path/download/installer_debian_xxx_vxxx.deb 指定 v2rayA 调用的 Xray_core。Xray 一键安装的脚本安装的文件路径如下： installed: &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;xray.service installed: &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;xray@.service installed: &#x2F;usr&#x2F;local&#x2F;bin&#x2F;xray &#x2F;&#x2F; 记下这个路径 installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;xray&#x2F;*.json installed: &#x2F;usr&#x2F;local&#x2F;share&#x2F;xray&#x2F;geoip.dat installed: &#x2F;usr&#x2F;local&#x2F;share&#x2F;xray&#x2F;geosite.dat installed: &#x2F;var&#x2F;log&#x2F;xray&#x2F;access.log installed: &#x2F;var&#x2F;log&#x2F;xray&#x2F;error.log 新建文件夹 /etc/systemd/system/v2raya.service.d，然后新建一个 xray.conf 的文件，添加以下内容，后面的路径根据Xray 实际安装后的来 [Service] Environment&#x3D;&quot;V2RAYA_V2RAY_BIN&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;xray&quot; 重启服务 systemctl daemon-reload &amp;&amp; sudo systemctl restart v2raya 启动 v2rayA 并设置开机自启 systemctl start v2raya.service systemctl enable v2raya.service 访问服务器的公网 IP，端口号是 2017。会出现配置的页面，这个前后端分离的设计得给赞，特别适合没有安装桌面环境的系统。之后，你可以创建一个配置节点，如果在 TLS 中出现 xtls，证明 Xray 的核心安装正确并被识别 按照提示填写对应的参数即可。也有设置可以修改 http 和 socks5 的端口号。 到这里基本就没什么问题了，对比了去 github clone 东西，简直就是天和地的区别。起飞啰。。。。。。 Reference https://coding.tools/cn/blog/using-proxy-in-linux-ubuntu-with-v2ray-privoxy-proxychainshttps://freesilo.com/?p=1244","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"翻墙","slug":"翻墙","permalink":"https://blog.bingfengs.xyz/tags/%E7%BF%BB%E5%A2%99/"}]},{"title":"Linux 配置各种代理","slug":"Linux-配置各种代理","date":"2022-04-24T13:57:15.000Z","updated":"2022-05-29T01:53:15.404Z","comments":true,"path":"2022/04/24/linux-pei-zhi-ge-chong-dai-li/","link":"","permalink":"https://blog.bingfengs.xyz/2022/04/24/linux-pei-zhi-ge-chong-dai-li/","excerpt":"","text":"每次兴致冲冲想在 Linux 实现某种功能，最能浇灭兴致的：无非就是上不了 Google，查不了资料，apt、git 各种卡顿龟速。于是整理了这篇文章，归纳 Linux 各种工具的代理配置。后续会不断更新这篇文章 Git配置 全局配置（Global） git config --global http.proxy http://proxyUsername:proxyPassword@proxy.server.com:port git config --global http.proxy socks5://127.0.0.1:1080 local to repositoryin its .git/config file 查看 To show the current configuration of all http sectionsgit config --global --get-regexp http.* locallygit config --get-regexp http.* 查看 git 配置git config --list Unsetgit config --global --unset http.proxy 检查代理的是否生效ssh -T git@github.comssh -T -p 443 git@ssh.github.com using an SSH connection made over the HTTPS port Morehttps://gist.github.com/evantoli/f8c23a37eb3558ab8765 apt编辑 /etc/apt/apt.conf Acquire::http::proxy &quot;http:&#x2F;&#x2F;&lt;proxy&gt;&quot;; Acquire::https::proxy &quot;https:&#x2F;&#x2F;&lt;proxy&gt;&quot;; Acquire::ftp::proxy &quot;ftp:&#x2F;&#x2F;&lt;proxy&gt;&quot;; Acquire::socks::proxy &quot;socks:&lt;proxy&gt;&quot;; Example：Acquire:http::proxy &quot;http://192.168.100.100:2333&quot;; export直接在用户根目录下的 .bashrc 或者 .zshrc 文件追加下面内容 http代理的： export http_proxy&#x3D;&quot;http:&#x2F;&#x2F;localhost:port&quot; export https_proxy&#x3D;&quot;http:&#x2F;&#x2F;localhost:port&quot; socks5 代理的： export http_proxy&#x3D;&quot;socks5:&#x2F;&#x2F;127.0.0.1:1080&quot; export https_proxy&#x3D;&quot;socks5:&#x2F;&#x2F;127.0.0.1:1080&quot; 然后刷新一下source ~/.bashrc 注意，这种方法对 apt 这个命令并不生效 Github 的 git 与 https这里说下两种方法的区别 https 链接样式：https://github.com/shenqizhi/blog.git 使用端口：443 可以使用的代理：socks 与 http 认证方法：账号密码认证，token 认证 git 链接样式：&#x67;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#x68;&#x75;&#98;&#46;&#x63;&#x6f;&#109;:shenqizhi/blog.git 使用的端口：22，基于 SSH 可以使用的代理：无（本人测试，无法使用 socks 和 http，其他的方法未知） 认证方法：私钥公钥认证 基于以上，建议使用 https 与 GitHub 通信。 # 待验证 git config --global core.gitproxy &quot;git-proxy&quot; git config --global socks.proxy &quot;localhost:1080&quot; knowledgeSOCKS only supports TCP and UDP, not ICMP packets, which are used by ping and tracert. Ping and traceroute make use of lower layer network protocols (ICMP and/or UDP, in particular, which are layer 4 protocols) and will not work over an HTTP (layer 7) tunnel A VPN creates a virtual network card, allowing you to use TCP, UDP, ICMP, SSH, FTP, and any other protocol. It gets its own IP address and have its own routing. a proxy server acts as a relay. There’s a specific proxy protocol to handle HTTP - it’s called HTTP proxy for this reason. And there’s a SOCKS proxy that can proxy any service that is TCP/IP based (HTTP/HTTPS, SSH, FTP…).","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"翻墙","slug":"翻墙","permalink":"https://blog.bingfengs.xyz/tags/%E7%BF%BB%E5%A2%99/"}]},{"title":"linux 彩色终端配置","slug":"linux-彩色终端配置","date":"2022-04-24T13:18:51.000Z","updated":"2022-04-24T13:54:25.040Z","comments":true,"path":"2022/04/24/linux-cai-se-zhong-duan-pei-zhi/","link":"","permalink":"https://blog.bingfengs.xyz/2022/04/24/linux-cai-se-zhong-duan-pei-zhi/","excerpt":"","text":"上次在树莓派安装了 Kali，一直对它的终端念念不忘，命令行有色彩区分，而且能自动补全，比原生的黑白不知高到哪里去。 于是去网上查了下，打算把虚拟的 Debian 系统搞上这个功能。实现过程还是挺简单的，记录一下。 参考了如下的文章，这个文章还有更多的介绍。我这里只整理我自己需要的东西做记录： https://www.cnblogs.com/bamanzi/p/colorful-shell.html 离线 Archive 步骤首先，所有的操作都是基于 zsh 的， 因此我们要替换系统默认的 bash 替换 bash 为 zsh 查看当前系统支持的 shellcat /etc/shells 查看当前的 shellenv | grep SHELLecho $SHELL 安装 zshapt install zsh 替换为 zsh，需要重新 login 一次chsh -s /bin/zsh 使用 zsh 自带的样式 zsh 自带一些简单的样式，对于不想大动干戈或者临时使用，可以运行如下的命令： autoload -Uz promptinit promptinit prompt adam2 用 prompt -l 可以列出所有的提示符配置，有兴趣可以逐个体验 安装 zsh 高级样式 这里我们使用 Prezto 这个工具，需要从 Github 下载安装 用 git 复制项目到你的电脑，国内需要自己指定一个代理（git config –global http.proxy)git clone --recursive https://github.com/sorin-ionescu/prezto.git &quot;$&#123;ZDOTDIR:-$HOME&#125;/.zprezto&quot; 创建 Zsh 的配置文件 setopt EXTENDED_GLOB for rcfile in \"$&#123;ZDOTDIR:-$HOME&#125;\"/.zprezto/runcoms/^README.md(.N); do ln -s \"$rcfile\" \"$&#123;ZDOTDIR:-$HOME&#125;/.$&#123;rcfile:t&#125;\" done 如果上面的步骤报错，证明配置文件已经存在，可以追加如下代码到你用户的 .zshrc 文件里，解决上述问题source &quot;$&#123;ZDOTDIR:-$HOME&#125;/.zprezto/init.zsh&quot; 开启 promptautoload -Uz promptinitpromptinit 重新 login，使主题生效，之后使用 pormpt -l，列出支持的主题，你会发现主题的数目变多了 安装字体 字体的链接 https://github.com/romkatv/powerlevel10k#fonts 如果是本地 termianl，请将字体安装在本地系统。如果是远程 SSH，请将字体安装在执行 SSH 的系统里。Windows 安装好字体之后，直接在 SSH 软件里调用就行，如 git 的 bash 里可以选择字体 MesloLGS NF Regular。 配置 powerlevel10k 添加如下代码到 ~/.zpreztorc 文件 zstyle :prezto:module:prompt theme powerlevel10k 重启 zsh exec zhs 此时会自动启动主题的 wizard，如果没有启动，可以自己手动执行下面的命令 p10k configure 语法高亮 mkdir -p ~/.zsh/plugins git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.zsh/plugins/zsh-syntax-highlighting echo \"source ~/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\" >> ~/.zshrc source ~/.zshrc ls 高亮 你可以添加 alias ls=&#39;ls --color=auto&#39;到你的 ~/.bashrc。 auto 这个值可以确保你将 ls 的输出重定向到一个文件时不会产生问题。 OthersLinux 安装字体这里演示如何在 Linux 里安装字体 https://blog.csdn.net/Yang838020787/article/details/118141643 添加 mkfontscale 和 mkfontdir 命令：apt install ttf-mscorefonts-installer 添加 fc-cache:apt install fontconfig 在 /usr/share/fonts 下新建一个目录 test，把字体文件 .ttf 复制到该目录下面，之后进入 test 目录，执行下面的命令。其中 mkfontscale 会生成一个 fonts.scale 的目录，mkfontdir 会生成一个 fonts.dir 的目录。 然后执行如下命令 mkfontscale mkfontdir fc-cache","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"}]},{"title":"Selenium","slug":"Selenium","date":"2022-02-19T09:41:02.000Z","updated":"2022-02-24T14:17:32.130Z","comments":true,"path":"2022/02/19/selenium/","link":"","permalink":"https://blog.bingfengs.xyz/2022/02/19/selenium/","excerpt":"","text":"简介在很多情况下，我们都需要一个能模拟用户在浏览器中行为的工具。可能我们会觉得抓包请求的方式过于复杂且容易被网站的反爬虫机制封杀，而我们很多情况下又不是非常在意性能，此时 Selenium 就是一个适合的选择。 Selenium 是一个将浏览器自动化的工具，一般所说的 Selenium 指的是 Selenium WebDriver。 旗下有三套件： WebDriver：是一套操作浏览器的 API IDE：具体实现就是一款浏览器插件，可以在 Chrome 和 Firefox 上面搜索安装。能够记录浏览器操作的步骤，并导出为编程文件（如 .py)。 可以作为学习 WebDriver 的工具 Grid：跨平台远程自动操作脚本 Selenium 还为各类语言提供了客户端使用户可以在各类语言里直接进行调用。 Selenium最初的目的是为网页提供自动化测试的工具，然而现在更多的被用在爬虫等领域。 安装这篇文章使用 Python 作为基础环境。请先安装最新版的 Python 到系统上面。然后执行 pip install selenium，安装 selenium。由于 Selenium 需要对浏览器进行操作，因此除了 Selenium，我们还需要下载浏览器驱动。注意：驱动需要下载浏览器对应的版本。 Browser Download URL Firefox https://github.com/mozilla/geckodriver/releases Chrome https://chromedriver.chromium.org/downloads Python 需要调用浏览器的 driver，我们需要指定 driver 的位置。 如果 selenium 找不到 driver， 会报如下错误 raise WebDriverException(selenium.common.exceptions.WebDriverException: Message: ‘geckodriver’ executable needs to be in PATH.) 方法 1 以 Windows 10 和 firefox 为例： 将 geckodriver.exe 放到下面的路径，不能修改文件名： C:\\Users\\Bin\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\ 方法 2 或者，添加到系统路径 echo %PATH% setx PATH &quot;%PATH%;C:\\WebDriver\\bin&quot; 然后 cmd 运行 chromedriver.exe， 如果有以下提示，代表成功 Starting ChromeDriver 95.0.4638.54 (d31a821ec901f68d0d34ccdbaea45b4c86ce543e-refs&#x2F;branch-heads&#x2F;4638@&#123;#871&#125;) on port 9515 Only local connections are allowed. Please see https:&#x2F;&#x2F;chromedriver.chromium.org&#x2F;security-considerations for suggestions on keeping ChromeDriver safe. ChromeDriver was started successfully. 方法 3 直接指定 driver 的路径 service = Service(executable_path=\"/path/to/chromedriver\") driver = webdriver.Chrome(service=service) 基本语法 Chrome from selenium import webdriver from selenium.webdriver.chrome.options import Options as ChromeOptions options = ChromeOptions() driver = webdriver.Chrome(options=options) driver.quit() Firefox from selenium.webdriver.firefox.options import Options as FirefoxOptions options = FirefoxOptions() driver = webdriver.Firefox(options=options) driver.quit() 基本操作(8个) 基于 Selenium 4.1.0 driver = webdriver.Chrome() # 指定浏览器驱动，Chrome 的写法大小写敏感，Firefox 同样 driver.get(\"http://www.google.com\") # take action on browser title = driver.title # request browser information, such as browser size/position, cookies driver.implicitly_wait(0.5) # Establish Waiting Strategy. An implicit wait is rarely the best solution, but it's the easiest to demonstrate here, so we'll use it as a placeholder. search_box = driver.find_element(By.NAME, \"q\") # Find an element search_button = driver.find_element(By.NAME, \"btnK\") # same as above search_box.send_keys(\"Selenium\") # take action on element search_button.click() # same as above driver.find_element(By.NAME, \"q\").get_attribute(\"value\") # request element information driver.quit() # end the seesion Firefox option firefox set a custom profile https://www.programcreek.com/python/example/100026/selenium.webdriver.FirefoxProfile from selenium.webdriver.firefox.options import Options from selenium.webdriver.firefox.firefox_profile import FirefoxProfile options=Options() firefox_profile = FirefoxProfile() firefox_profile.set_preference(\"javascript.enabled\", False) options.profile = firefox_profile OR (旧版本的 selenium 使用，现在 FirefoxProfile 已经弃用) import os from selenium import webdriver fp = webdriver.FirefoxProfile() fp.set_preference(\"browser.download.dir\", os.getcwd()) browser = webdriver.Firefox(firefox_profile=fp) back &amp; forward &amp; refresh driver.get(\"https://selenium.dev\") driver.back() driver.forward() driver.refresh() alert from selenium.webdriver.common.by import By from selenium import webdriver driver = webdriver.Firefox() driver.get(\"https://www.selenium.dev/documentation/webdriver/browser/alerts/\") # Click the link to activate the alert driver.find_element(By.LINK_TEXT, \"See an example alert\").click() # Wait for the alert to be displayed and store it in a variable alert = wait.until(expected_conditions.alert_is_present()) # Store the alert text in a variable text = alert.text # Press the OK button alert.accept() # confirm operation # Click the link to activate the alert driver.find_element(By.LINK_TEXT, \"See a sample confirm\").click() # Wait for the alert to be displayed wait.until(expected_conditions.alert_is_present()) # Store the alert in a variable for reuse alert = driver.switch_to.alert # Store the alert text in a variable text = alert.text # Press the Cancel button alert.dismiss() # prompt operation # Click the link to activate the alert driver.find_element(By.LINK_TEXT, \"See a sample prompt\").click() # Wait for the alert to be displayed wait.until(expected_conditions.alert_is_present()) # Store the alert in a variable for reuse alert = Alert(driver) # Type your message alert.send_keys(\"Selenium\") # Press the OK button alert.accept() cookie from selenium import webdriver driver = webdriver.Chrome() # Navigate to url driver.get(\"http://www.example.com\") # Adds the cookie into current browser context driver.add_cookie(&#123;\"name\": \"foo\", \"value\": \"bar\"&#125;) # Get cookie details with named cookie 'foo' print(driver.get_cookie(\"foo\")) # 注意，是用 ‘foo' 来查找。 # 可以追加多个 cookie，这些 cookie 组成一个列表。 driver.add_cookie(&#123;\"name\": \"test1\", \"value\": \"cookie1\"&#125;) driver.add_cookie(&#123;\"name\": \"test2\", \"value\": \"cookie2\"&#125;) # Get all available cookies print(driver.get_cookies()) # Delete a cookie with name 'test1' driver.delete_cookie(\"test1\") # Deletes all cookies driver.delete_all_cookies() windows &amp; tabs driver.current_window_handle # 获取当前的 window handle driver.window_handles # 获取所有的 handle, 返回列表 driver.switch_to.window(window_handle) # 切换到其他 tab # Opens a new tab and switches to new tab driver.switch_to.new_window('tab') # Opens a new window and switches to new window driver.switch_to.new_window('window') driver.close() # close current tab driver.quit() # close all the tabs Quit will: Close all the windows and tabs associated with that WebDriver session Close the browser process Close the background driver processNotify Selenium Grid that the browser is no longer in use so it can be used by another session (if you are using Selenium Grid) auto quit： with webdriver.Firefox() as driver: # WebDriver code here... # WebDriver will automatically quit after indentation try: #WebDriver code here... finally: driver.quit() window size &amp; position width = driver.get_window_size().get(\"width\") height = driver.get_window_size().get(\"height\") driver.set_window_size(1024, 768) x = driver.get_window_position().get('x') y = driver.get_window_position().get('y') driver.set_window_position(0, 0) driver.maximize_window() driver.minimize_window() driver.fullscreen_window() screenshot driver.save_screenshot('./imagetest.png') # 只能截取当前浏览器显示的区域 ele = driver.find_element(By.CSS_SELECTOR, 'h1') # Returns and base64 encoded string into image ele.screenshot('./image.png') # 截取选中的元素 locator 这里最好用的当属 XPATH，掌握了这个，其他可以不用滴。后面有关于 XPATH 用法的介绍 Locator Description class name Locates elements whose class name contains the search value (compound class names are not permitted) css selector Locates elements matching a CSS selector id Locates elements whose ID attribute matches the search value name Locates elements whose NAME attribute matches the search value link text Locates anchor elements whose visible text matches the search value partial link text Locates anchor elements whose visible text contains the search value. If multiple elements are matching, only the first one will be selected. tag name Locates elements whose tag name matches the search value xpath Locates elements matching an XPath expression find_element 函数用法 示例代码： &lt;ol id&#x3D;&quot;vegetables&quot;&gt; &lt;li class&#x3D;&quot;potatoes&quot;&gt;… &lt;li class&#x3D;&quot;onions&quot;&gt;… &lt;li class&#x3D;&quot;tomatoes&quot;&gt;&lt;span&gt;Tomato is a Vegetable&lt;&#x2F;span&gt;… &lt;&#x2F;ol&gt; &lt;ul id&#x3D;&quot;fruits&quot;&gt; &lt;li class&#x3D;&quot;bananas&quot;&gt;… &lt;li class&#x3D;&quot;apples&quot;&gt;… &lt;li class&#x3D;&quot;tomatoes&quot;&gt;&lt;span&gt;Tomato is a Fruit&lt;&#x2F;span&gt;… &lt;&#x2F;ul&gt; fruits = driver.find_element(By.ID, \"fruits\") fruit = fruits.find_elements(By.CLASS_NAME, \"tomatoes\") fruit = driver.find_elements(By.CSS_SELECTOR,\"#fruits .tomatoes\") plants = driver.find_elements(By.TAG_NAME, \"li\") for e in plants: print(e.text) 示例代码： &lt;input class=\"gLFyf gsfi\" jsaction=\"paste:puy29d;\" maxlength=\"2048\" name=\"q\" type=\"text\" aria-autocomplete=\"both\" aria-haspopup=\"false\" autocapitalize=\"none\" autocomplete=\"off\" autocorrect=\"off\" autofocus=\"\" role=\"combobox\" spellcheck=\"false\" title=\"Google 搜索\" value=\"\" aria-label=\"搜索\" data-ved=\"0ahUKEwiU6uvQ4_b1AhVjJ0QIHVxJAeAQ39UDCAQ\"> from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Firefox() driver.get(\"https://www.google.com\") driver.find_element(By.CSS_SELECTOR, '[name=\"q\"]').send_keys(\"webElement\") driver.find_element(By.NAME, \"q\") driver.find_element(By.CLASS_NAME, \"gLFyf\").send_keys(\"webElement\") # 注意，class 有两个：gLFyf gsfi, 中间是个空格分开 # Get attribute of current active element attr = driver.switch_to.active_element.get_attribute(\"title\") print(attr) # \"Google 搜索\" click &amp; sendkey .click() driver.find_element(By.NAME, \"q\").send_keys(\"webdriver\" + Keys.ENTER) from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Chrome() # Navigate to url driver.get(\"http://www.google.com\") # Store 'SearchInput' element SearchInput = driver.find_element(By.NAME, \"q\") SearchInput.send_keys(\"selenium\") # Clears the entered text SearchInput.clear() 查看元素属性 value = driver.find_element(By.NAME, 'btnK').is_enabled() .is_selected() .tag_name # 没有括号 .is_displayed() res = driver.find_element(By.CSS_SELECTOR, \"h1\").rect #返回字典格式的 长宽，左上角的坐标数据 cssValue = driver.findElement(By.LINK_TEXT, \"More information...\").value_of_css_property('color') # Get CSS Value text = driver.find_element(By.CSS_SELECTOR, \"h1\").text # get the text Select from selenium.webdriver.support.select import Select select_element = driver.find_element(By.ID,'selectElementID') select_object = Select(select_element) # &lt;select> # &lt;option value=value1>Bread&lt;/option> # &lt;option value=value2 selected>Milk&lt;/option> # &lt;option value=value3>Cheese&lt;/option> # &lt;/select> # Select an &lt;option> based upon the &lt;select> element's internal index select_object.select_by_index(1) # Select an &lt;option> based upon its value attribute select_object.select_by_value('value1') # Select an &lt;option> based upon its text select_object.select_by_visible_text('Bread') # Return a list[WebElement] of options that have been selected all_selected_options = select_object.all_selected_options # Return a WebElement referencing the first selection option found by walking down the DOM first_selected_option = select_object.first_selected_option # Return a list[WebElement] of options that the &lt;select> element contains all_available_options = select_object.options # Deselect an &lt;option> based upon the &lt;select> element's internal index select_object.deselect_by_index(1) # Deselect an &lt;option> based upon its value attribute select_object.deselect_by_value('value1') # Deselect an &lt;option> based upon its text select_object.deselect_by_visible_text('Bread') # Deselect all selected &lt;option> elements select_object.deselect_all() does_this_allow_multiple_selections = select_object.is_multiple # Finally, some &lt;select> elements allow you to select more than one option. You can find out if your &lt;select> element is one of these by using this 基于相对位置的定位 email_locator = locate_with(By.TAG_NAME, \"input\").above(&#123;By.ID: \"password\"&#125;) submit_locator = locate_with(By.TAG_NAME, \"button\").below(&#123;By.ID: \"email\"&#125;.to_right_of(&#123;By.ID: \"cancel\"&#125;) email_locator = locate_with(By.TAG_NAME, \"input\").near(&#123;By.ID: \"lbl-email\"&#125;) waitfrom selenium.webdriver.support.ui import WebDriverWait driver.navigate(\"file:///race_condition.html\") el = WebDriverWait(driver).until(lambda d: d.find_element_by_tag_name(\"p\")) assert el.text == \"Hello from JavaScript!\" WebDriverWait(driver, timeout=3).until(some_condition) driver = Firefox() driver.get(\"http://somedomain/url_that_delays_loading\") wait = WebDriverWait(driver, 10, poll_frequency=1, ignored_exceptions=[ElementNotVisibleException, ElementNotSelectableException]) element = wait.until(EC.element_to_be_clickable((By.XPATH, \"//div\"))) xpathhttps://www.lambdatest.com/blog/complete-guide-for-using-xpath-in-selenium-with-examples/ //div[@id=&#39;app&#39;]/div 与 //div[@id=&#39;app&#39;]//div 区别：前者只定位 id 为 app 的 div 的子代 div。 绝对路径 /html//div/div/div/div[1]/div/a/img /，一个斜杆表示绝对路径，html 后有两个 //， 表示相对路径。相对路径和绝对路径可以混用（个人理解） 相对路径 //tagname[@Attribute=&#39;Value&#39;] 相对路径，两个 // 例子： //a[@class=&#39;googleSignInBtn&#39;] //input[@name=&#39;phone&#39;] //a[@href=&#39;/login&#39;] //input[@placeholder=&#39;Full Name*&#39;] contains //tagname[contains(@attribute,constantvalue)] constant value: 常量 例子： //button[contains(@class,&#39;submit-btn&#39;)] 注意下面的 html 代码，class 有很多个属性，我们使用 contains 就可以只用包含其中的一个 &lt;button id=\"signup-button\" data-sitekey=\"6LceAqQaAAAAAO0LcIgLnXy3gH_M3X5aDrqUihHw\" data-callback=\"onSubmit\" data-amplitude=\"R_signup\" type=\"submit\" class=\"w-full influ2--goal submit-btn font-semibold tracking-custom flex items-center xxxl:h-54 xxl:h-47 h-40 bg-black text-white xxxl:text-size-16 xxl:text-size-14 text-size-12 justify-center rounded submit-btn g-recaptcha\">Free Sign Up&lt;/button> //a[contains(.,&#39;Ask Question&#39;)] a 标签下有 ‘ask Question’ text，最常用 //a[text()=&#39;Ask Question&#39;] 与上面的区别： https://stackoverflow.com/questions/69909751/why-is-xpath-containstext-substring-not-working-as-expected?noredirect=1&amp;lq=1 contains 与 [@Attribute=’Value’] 用法的区别：contains 可以只包含属性中的部分字段，而后者必须全部包含 例如：&lt;span id=&#39;select2-chosen-19&#39;&gt;，后面的 19 是随机生成的，我们在定位的时候，就可以选择 contains， //span[contains(@id,&#39;select2-chosen&#39;)] text() //tagname[text()=&#39;Text of the Web Element&#39;] //span[text()=&#39;Sign up with Google&#39;] and &amp; or XPath=//tagname[@attribute1=value1 or @attribute2=value1] XPath=//tagname[@attribute1=value1 and @attribute2=value1] 必须使用小写，不然会报错 //input[@name=&quot;email&quot; and contains(@placeholder,&#39;Email&#39;)] Starts-With() The Starts-With() method is similar to the Contains() method. It is helpful in the case of web elements whose attribute value can change dynamically. //tagname[starts-with(@attribute,value)] //input[starts-with(@placeholder,&#39;Phone&#39;)] &lt;input id=\"phone\" type=\"phone\" pattern=\"[0-9\\+\\- ]+\" placeholder=\"Phone (+1 555 555 5555)*\" name=\"phone\" value=\"\" required=\"required\" class=\"w-full tracking-custom xxxl:text-size-18 xxl:text-size-16 text-size-14 placeholder:text-gray-300 text-black rounded-md py-10 xxxl:pl-24 xxl:pl-18 pl-12 pr-75 xxxl:h-54 xxl:h-47 h-40 \"> index //tagname[@attribute=&#39;value&#39;][Index Number] (//div[@class=&#39;form-group&#39;]//select)[2] 找到第二个 div 下的 select 元素 chained Xpath //tagname1[@attribute1=value1]//tagname2[@attribute2=value2] //label[@name=&#39;i_agree&#39;]//input[@data-amplitude=&#39;R_pp&#39;] &lt;label class=\"i_agree flex items-center xxxl:text-size-16 xxl:text-size-14 text-size-12 text-black font-normal mb-0\">&lt;input id=\"i-agree\" data-amplitude=\"R_agree\" type=\"checkbox\" name=\"i_agree\" required=\"required\" class=\" \"> &lt;samp class=\"customcheckbox\" style=\"margin-right: 5px;\">&lt;/samp> &lt;div data-amplitude=\"R_pp\">I agree to LambdaTest's &lt;a target=\"_blank\" href=\"https://www.lambdatest.com/legal/privacy\" class=\"text-blue-100 hover:underline\">Privacy Policy&lt;/a> &amp;amp; &lt;a target=\"_blank\" data-amplitude=\"R_tos\" href=\"https://www.lambdatest.com/legal/terms-of-service\" class=\"text-blue-100 hover:underline\">Terms of Service&lt;/a>&lt;/div>&lt;/label> XPath axes总结如下，一个图胜过千言万语。 https://stackoverflow.com/questions/49966055/difference-between-child-following-and-descendant-in-xpath-axes Following 与 Following-Sibling 区别：前者是当前节点后面所有的节点的总和（范围是整个 DOM），而后者则是同一个 parent 下后面的节点的总和 Following This can be used when you have a unique attribute of the tag before your actual web element. For example, on using Following, you can have all the elements that follow the current node, and you can simply use Index or another chained XPath to locate your actual web element. //tagname[@attribute=&#39;value&#39;]//following::tagname //div[contains(@class,&#39;password-group&#39;)]//following::div//input[@type=&#39;phone&#39;] &lt;div class=\"w-full custom__border xxxl:mt-23 xxl:mt-20 mt-18 password-group\"> &lt;div class=\"w-full relative custom__border \"> &lt;input type=\"password\" name=\"password\" placeholder=\"Desired Password*\" required=\"required\" id=\"userpassword\" minlength=\"8\" class=\"w-full tracking-custom xxxl:text-size-18 xxl:text-size-16 text-size-14 placeholder:text-gray-300 text-black rounded-md py-10 xxxl:pl-24 xxl:pl-18 pl-12 pr-75 xxxl:h-54 xxl:h-47 h-40 \"> &lt;div class=\"absolute right-0 top-0 flex items-center xxxl:h-54 xxl:h-47 h-40 font-normal cursor-pointer pr-18 uppercase\"> &lt;span onclick=\"togglePasswordVisibility(this, 'userpassword');\" class=\"password-group-text xxxl:text-size-14 xxl:text-size-12 text-size-10 block text-gray-300 tracking-custom\">Show&lt;/span> &lt;/div> &lt;/div> &lt;/div> &lt;div class=\"w-full custom__border xxxl:mt-23 xxl:mt-20 mt-18 \"> &lt;input id=\"phone\" type=\"phone\" pattern=\"[0-9\\+\\- ]+\" placeholder=\"Phone (+1 555 555 5555)*\" name=\"phone\" value=\"\" required=\"required\" class=\"w-full tracking-custom xxxl:text-size-18 xxl:text-size-16 text-size-14 placeholder:text-gray-300 text-black rounded-md py-10 xxxl:pl-24 xxl:pl-18 pl-12 pr-75 xxxl:h-54 xxl:h-47 h-40 \"> &lt;/div> Following-Sibling As the term signifies, siblings are those nodes that share the same parent or are at the same level. Hence, Following-Sibling will return you the node at the same level and after the current node. //tagname[@attribute=&#39;value&#39;]//following-sibiling::tagname //option[@value=&#39;Manager&#39;]//following-sibling::option[1] same as //option[@value=&#39;Manager&#39;]//following-sibling::option[@value=&#39;Director/VP&#39;] &lt;select value=\"value=\" id=\"designation\" required=\"required\" name=\"designation\" class=\"w-full tracking-custom xxxl:text-size-18 xxl:text-size-16 text-size-14 placeholder:text-gray-300 text-black rounded-md py-10 xxxl:px-24 xxl:px-18 px-12 xxxl:h-54 xxl:h-47 h-40 custom_select\"> &lt;option selected=\"selected\" value=\"\" disabled=\"disabled\" hidden=\"hidden\">Designation/Role&lt;/option> &lt;option value=\"Student/Freelancer\">Student / Freelancer&lt;/option> &lt;option value=\"Developer/Tester\">Developer / Tester&lt;/option> &lt;option value=\"Manager\">Manager&lt;/option> &lt;option value=\"Director/VP\">Director / VP&lt;/option> &lt;option value=\"Founder/CXO\">Founder / CXO&lt;/option> &lt;/select> Preceding 与 following 相对，寻找当前节点的前的元素 locate all the elements before the current node //tagname[@attribute=&#39;value&#39;]//preceding::tagname Preceding-Sibling get all the nodes that are siblings or at the same level but are before your current node. Child //tagname[@attribute=&#39;value&#39;]//child::tagname Parent //tagname[@attribute=&#39;value&#39;]//parent::tagname Descendant Descendants refer to the child nodes, grandchild nodes, etc. //tagname[@attribute=&#39;value&#39;]//descendant::tagname Ancestor Ancestors refer to the parent nodes, grandparent nodes, etc. //tagname[@attribute=&#39;value&#39;]//ancestors::tagname 特殊? //input[attribute::name = &#39;q&#39;] scrollhttps://www.lambdatest.com/blog/scroll-a-webpage-in-selenium-using-java/ JavaScriptExecutor in Selenium is used to execute the code written in Javascript within the Selenium automation framework. This interface has two methods namely ExecuteScript and ExecuteAsyncScript which are used to execute the JavaScript code. scroll down to the bottom of the page 移动到网页底部 driver.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;) 移动到网页顶部 (&quot;window.scrollTo(0,0)&quot;) scroll by the visibility of WebElement on the page test_element = driver.find_element(By.XPATH, \"//a[contains(.,'关于我们')]\") driver.execute_script(\"arguments[0].scrollIntoView();\", test_element) scroll down in a page by specified pixels driver.execute_script(&quot;window.scrollBy(0,3000)&quot;) specify the number of pixels the page has to be scrolled。第一个参数控制左右。正数向右，负数向左。第二个参数控制上下，正数为向下，负数向上。","categories":[],"tags":[{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"自动化","slug":"自动化","permalink":"https://blog.bingfengs.xyz/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"}]},{"title":"IPv6 基础","slug":"IPv6","date":"2021-12-14T14:46:22.000Z","updated":"2021-12-14T15:00:42.117Z","comments":true,"path":"2021/12/14/ipv6/","link":"","permalink":"https://blog.bingfengs.xyz/2021/12/14/ipv6/","excerpt":"","text":"基础APNIC亚太互联网信息中心（Asia-Pacific Network Information Centre) 全球五大区域性互联网注册管理机构之一，成立於1993年，负责亚太地区IP地址、ASN（自治系统号）的分配并管理一部分根域名服务器镜像。總部設於澳洲布里斯本。 APNIC负责亚洲太平洋区域，包含56个经济體，分為東亞、南亞、東南亞、太平洋、中亞等五區，其中東亞區域包含中國大陸、北韓、香港、日本、澳門、蒙古、南韓及台灣 IP 地址互联网协议地址（Internet Protocol Address） ICANN非营利性国际组织，Internet Corporation for Assigned Names and Numbers ICANN 将部分 IP 地址 和 AS 号码分配给洲际级的互联网注册机构（Regional Internet Registry，RIR），再由 RIR 负责该地区的 IP 地址和 AS 号码地址分配，登记注册。 通常 RIR 会将地址进一步分配给区内大的 NIR/LIR，然后由它们进一步分配。 中国情况：1997 年成立的中国互联网络信息中心（CNNIC） 属于中央网络安全和信息化委员会办公室直属事业单位，作为国家注册服务机构（NIR）行使国家互联网信息中心职责，是我国企事业单位首选的 IP 地址分配服务机构。 同时，根据企事业自身情况，也可在 APNIC、CERNIC、CNISP、中国电信三大运营商等单位获取 IP 地址。 ISP ICP IDC ISP 互联网服务接入提供商（Internet Services Provider) ISP 向客户提供了网络接入等互联网增值业务。站在用户角度来说就似乎你把上网费交给了谁，谁就是 ISP。国内的 ISP 有：中国电信、中国移动、中国联通、塞尔网络、长城宽带、广电网络等 ICP 互联网内容提供商（Internet Content Provider） ICP 向用户提供了各种各样的服务，例如查询、聊天、游戏、新闻、音乐、购物等。世界知名的 ICP 有亚马逊、腾讯、阿里巴巴、百度、京东等 IDC 互联网数据中心服务商（Internet Data Center） IDC 向 ICP、企业和各类网站提供了大量的地址带宽资源以及相关服务，涉及服务器托管、空间租用、带宽接入服务等。IDC 要具备充足电力、建筑的高抗震承重性、恒温恒湿、光缆连通、24小时监控服务等。 中国的 IDC 有中国电信、中国联通、中国移动、世纪互联、光环新网、鹏博士、中联数据等 others AS 自治系统（Autonomous System）号码：独立网络的标识，能对网络进行自由的管理，过滤信息，控制网络流量，给使用单位更大的管理权限，是一组 IP 地址的集合，是使用统一内部路由协议的一组网络。如果成员单位的网络路由器准备采用 EGP（Exterior Gateway Protocol）、BGP（Border Gateway Protocol）或 IDRP（OSI Inter-Domain Routing Protocol），可以申请 AS 号码。 简单地说，如果把 IP 比作门牌号，AS 号码就好比是门牌号所在的大街。AS 号码是一组 IP 地址集合的管理 物联网 Internet of Things，IoT 内容分发网络 Content Delivery Network，CDN。中国的 CDN 有三大基础电信运营商、网宿科技、蓝汛、阿里云、风行极客等。 IPv6 相关组织 IETF ICANN IPv6 论坛（IPv6 Forum） WIDE（Widely Integrated Distributed Environment） 3GPP（the 3rd Generation Partnership Project） ITU-T IPv6 地址分类 单播地址 Unicast Address。 IPv6 单播地址功能与 IPv4 地址一样受限于 CIDR，由两部分组成，一部分用来标识网络，一部分用来标识接口 包含四种类型： 全球单播地址 全球路由前缀 + 子网 ID + 接口 ID 三部分组成 全球路由前缀：global routing prefix，占 48 位，分配给各公司和机构 子网 ID：subnet ID，这是二级地址，占 16 位，用于各公司和机构创建自己的子网 接口 ID：interface ID，这是三级地址，占 64 位，用于指明主机或路由器单个网络接口，这在统一子网内是唯一的 本地单播地址 类似 IPv4 地址中的局域网专用地址 兼容性地址 现阶段，IPv4 与 IPv6 需要共存，在 IPv6 的传输机制中包含一项可以在 IPv4网络上传输的 IPv6 数据包的技术，这些路由器可以同时支持 IPv4 和 IPv6。如果要使用这项技术，就需要给 IPv6 的节点分配一个嵌入 IPv4 地址的 IPv6 地址，这被陈伟 IPv4 兼容地址。 该地址前 80 位都是 0，第 81~96 位是 0000，最后 32 位是 IPv4 地址。 这里使用的 IPv4 地址必须是全球唯一的 IPv4 单播地址 还有一种和 IPv4 兼容地址很相似，也似乎嵌入 IPv4 地址的 IPv6 地址，叫做 IPv4 映射地址。它可以把 IPv4 地址映射为 IPv6 地址。只是格式上有些略微不同，第 81~96 位是 ffff 特殊地址 包括未指定地址和环回地址。未指定地址（0:0:0:0:0:0:0:0 或 ::）仅用于表示某个地址不存在。等价于 IPv4 中的 0.0.0.0 环回地址（0:0:0:0:0:0:0:1 或 ::1），允许节点将数据包发送给自己。等价 IPv4 中的 127.0.0.1 多播地址 Multicast Address，也叫组播，多点广播或群播。 以 11111111 开头，即 ff 为前缀，4b 的标志位，4b 的组播范围和 112b 的多播组标识符（组 ID）组成。例如：ff23::c156:67de:788b:cf9b 标志位 其高 3b 位为 0，剩下的低 1b 位用于判断多播地址是 “永久性” 还是 “临时性”的。为 0 则是永久的 组播范围 用于定义组播地址的范围类型 任播地址 Anycast Address，是一种网络寻址和路由的策略，使得数据可以根据路由拓扑来决定送到 “最近” 或 “最好” 的目的地，决定由路由选择协议确定。常使用 BGP 来实现任播 路由协议 &amp; 可被路由协议 路由协议（Routing Protocols）和 可被路由协议（Routed Protocols）是两个概念。例如，IP 数据报能被路由，因此，IP 协议是一个可被路由的协议 无状态地址自动配置协议 &amp; IPv6 动态主机配置协议 IPv6 的自动配置中包含两种技术： 一种是传统的有状态自动配置，典型代表就是与 IPv4 相对应的 DHCPv6； 另一种是无状态的 IPv6 自动配置，典型的代表是 RADVD（路由广播守护（The Router Advertisement Daemon）。 在无状态地址自动配置技术中，网络接口接收路由器宣告的全局地址前缀，再结合接口 ID 得到一个可聚集全局单播地址。以 RADVD 为代表的无状态自动配置不需要消耗很多机器资源，也不像传统 DHCP 一样需要维护一个本地数据库来维护地址分配状态，它只是广播前缀地址，客户端收到这种广播后再自己使用 EUI64 算法生成全球唯一 IPv6 地址，进行自我配置。因此 RADVD 不能进行 NTP/DNS（DNS 存疑） 等其他传统 DHCP 服务器所能进行的配置。甚至严格地说，它只进行路由广播，地址都是很客户端自己根据算法和规范进行配置。 在有状态地址自动配置技术下，通过采用动态主机配置协议，需要配备专门的 DHCP 服务器，网络接口通过客户端/服务器模式从 DHCP 服务器得到地址配置信息。如果希望为客户端指定更加详细的 DNS 设定，NTP 设定，可以考虑 DHCPv6 + RADVD（stateless） 常用的 IPv6 路由协议 RIPng Routing Information Protocol next generation， RIP 协议下一代。 OSPFv3 是专门为 IPv6 设计的，是一种链路状态的路由协议。 IS-ISv6 Intermediate System-to-Intermediate System, 中间系统到中间系统 BGP4+ 为了使 BGP4（Border Gateway Protocol 4）能够支持 IPv6 等多种网络层协议，BGP4 进行了扩展即 BGP4+。 RIPng 和 OSPFv3 协议都是在一个自治系统内部使用，与这两个协议不同，BGP4+ 协议被设计在多个自治系统之间进行路由信息交换 过渡技术 双栈技术 指在网络节点上同时运行 IPv4 和 IPv6 两种协议，从而在 IP 网络中形成逻辑上相互独立的两个网络。源地址根据要访问的目的地址的类型，自动选取 IPv4 协议或 IPv6 协议。网络设备则更具网络数据包的协议头类型来选择不同的协议栈进行存储转发。双协议栈实现了 IPv4 和 IPv6 网络共存的问题，但解决不了两者互通的问题，并且双协议栈也无法节约 IPv4 地址 隧道技术 6PE 基于 MPLS 的隧道技术，核心思想是借助成熟的 BGP MPLS VPN 技术平台实现在启用 MPLS 的 IPv4 骨干网上传输 IPv6 数据报文。 6VPE 6over4 DS-lite 翻译技术（IPv4/IPv6 协议转换技术） NAT64 NAT64 是有状态的网络层协议翻译技术。为实现 IPv4 网络和 IPv6 网络的互通，需要将 IPv4 地址和端口号与 IPv6 地址和端口号奖励地址映射表。IVI 和 NAT64 的提出实际上是用于替代 NAT-PT。但由于 IVI 的翻译是一对一的，一个 IPv4 地址转换为一个 IPv6 地址，需要耗费较多 IPv4 地址，而 NAT64 却拥有一个地址池，能够使多个 IPv6 地址对应于一个 IPv4 地址。 NAT64 支持 NAT64 的双栈路由器部署在 IPv4 网络和 IPv6 网络的边界上。一个接口运行的是 IPv6，另一个接口上运行的是 IPv4。NAT64 模块将 IPv6 数据报文翻译成 IPv4 数据报文，当流量返回时，模块又根据地址映射表将 IPv4 数据报文翻译成 IPv6 数据报文，使得 IPv4 和 IPv6 节点之间能相互访问 464XLAT 6RD IPv6 过渡技术总体上可以分为隧道，翻译两个大类。隧道技术采用的是一种协议封装于另外一种协议的方式，他只要求升级隧道的入口和出口设备。但隧道端点需要封装/解封装，转发效率低，也无法实现 IPv4 和 IPv6 的互访。 3 种翻译技术中， NAT64 支持场景较小，只能实现 IPv6 主机到 IPv4 服务器的单向访问 未完待续","categories":[],"tags":[{"name":"网络","slug":"网络","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%BB%9C/"}]},{"title":"Fiddler 入门","slug":"Fiddler","date":"2021-12-14T14:22:40.000Z","updated":"2022-02-19T10:01:26.831Z","comments":true,"path":"2021/12/14/fiddler/","link":"","permalink":"https://blog.bingfengs.xyz/2021/12/14/fiddler/","excerpt":"","text":"抓包的英文为：sniffer packet 或 packet capture。这篇文章介绍常用的两款软件：Wireshark 和 Fiddler。这两者的主要区别是： Wireshark 可以捕捉三四层（TCP/IP)网络包，以及高层的 HTTP、HTTPS 协议（HTTPS 不能解密）。 Fiddler 专注处理 HTTP 以及 HTTPS，主要用于 WEB 调试。 本文先介绍 Fiddler，Wireshark 后面抽空再写一篇。另外文本介绍了 HTTP 协议的一些知识，这对了解 Fiddler 和抓包很有必要，请仔细阅读。 Fiddler使用 Fiddler 需要有一些 HTTP 协议的基础。 下载 https://www.telerik.com/fiddler/fiddler-classic Fiddler 是商业软件，我们下载 classic 版本就行，这个是免费的。Fiddler 是基于 C# 开发的。主要在 Windows 运行。目前的版本是 4。如果是其他系统，需要下载其他的 Fiddler 版本（收费）。 原理你打开软件后，Fiddler 会自动添加一个系统代理，端口号为 8888。 http&#x3D;127.0.0.1:8888;https&#x3D;127.0.0.1:8888 下面两个都是同样 端口可以改的，位置如下： 这里有一个坑，如果你的电脑有翻墙的软件，请注意兼容问题。如果你的代理软件没有开启 系统代理, 但是在 Firefox 和 Chrome 下面都抓不到包的话，请检查你的浏览器设置 Firefox 在网络设置里面，请选择 No proxy Chrome 这种情况一般是安装了 SwitchyOmega 等代理插件造成的。请选择 Direct 解决问题 或者直接开启无痕模式即可 界面 主体的左边是捕获的 http 包。右边是一些工具，其中最常用的是 Inspectors，这个是包的查看器。在这个选项中，可以查看包的头部 Headers 或者直接 Raw 格式查看。右边这一块，分为上下两部分，分别对应 请求报文 和 响应报文 左边 Body 这一列是 HTTP 响应中包含的字节数（byte） 如果右边报文里面出现乱码，请打开 Decode 按钮，然后重启软件 点击左下角的 Capturing 可以停止抓包 功能捕捉 HTTPS 包HTTPS 是加密的，我们需要在系统安装 Fiddler 所提供的证书，来实现 HTTPS 解密。关于为啥要安装证书，以及证书的作用及重要性，请自行 Google 查询。很多审计系统，比如深信服，同样需要在客户电脑安装证书之后才能解密 HTTPS，实现监控。 修改 User-AgentFiddler 可以帮我们修改 User-Agent，这样就能伪装成任何客户端。 父请求和子请求在一个网页中，打开一个网页的过程如下： 在浏览器输入 URL。 浏览器会发送第一个 HTTP 请求去获取页面布局的 HTML，这个请求叫做 父请求。然后服务器把 HTTP 响应发回给浏览器。 浏览器会分析 HTTP 响应中的 HTML。如果发现 HTML 中引用了很多其他文件，比如图片、CSS 文件、JS 文件等，浏览器会自动再次发送很多 HTTP 请求，去获取图片、CSS 文件或者 JS 文件。这些 HTTP 请求叫做 子请求。 当所有子请求的响应都返回后，浏览器会把 1 个父请求加上多个子请求渲染出来，这样就形成一个页面，网页就在浏览器上显示出来。 在这里可以筛选出相应的包 查看响应HTTP 响应可能是 HTML 文档，可能是一个图片，也可能是一个 JSON。使用 Raw 选项卡可以查看完整的 HTTP 响应，WebView 可以查看 HTML 文档，ImageView 可以查看图片，JSON 可以通过 JSON tab 来查看 断点Fiddler 本身是一个代理服务器，其可以设置断点，拦截住 HTTP，修改之后再放行。 全局断点 这种方法会拦截所有的会话，位置如下：Rules &gt; Automatic Breakpoint Before Requests：修改 HTTP 请求 After Requests： 修改 HTTP 响应 单个断点 在软件左下角的 QuickExec 输入 bpu URL（如上图），这种方法只拦截你输入的 URL。要想消除单个断点，可以在命令行中输入 bpu。这种是修改 HTTP 请求 bpafter URL 则是修改 HTTP 响应。同样输入 bpafter 则是取消单个断点。 TextWizard这是一个可以帮助你对字符进行 Encode 和 Decode 的小工具Tools &gt; TextWizard 常用快捷键Ctrl + X 删除所有 SessionCtrl + A 选择所有 SessionESC 不选择任何的 SessionCtrl + I 反选 SessionDelete 删除选择的 SessionShift + Delete 删除未选择的 SessionR 重放选择的 Session （可以多个）Shift + R 多次重放选择的 Session（可以重放多个 Session）U 无条件地重放选择的 Session（不会发送 If-Modified-Since 和 If-None-Match header）Shift + U 多次无条件重放P 选择 “当前 Session” 的 “父 Session” （这个功能取决于 Referer Header）C 选择 “当前 Session” 的 “子 Session”D 选择 “重复的 Session”（有相同 URL 和 method）BackSpace 或鼠标上的 “back” 选择 “上次选择的 Session”M 给选择的 Session 加注释Alt + 鼠标左键 选择相关联的多个 SessionAlt + Q: 快速将焦点定位到 QuickExec 命令行Ctrl + I： 当选择了一个 session 的时候， 可以快速将此 session 的 URL 插入到当前命令行光标处 QuickExecFiddler 左下角有一个命令行工具，可以直接输入命令。常用的命令如下： help 打开官方的使用页面介绍，所有命令都会列出来 cls 清屏，Ctrl + X 同样效果 select 选择会话的命令 ?.png 用来选择 .png 后缀的图片 bpu 截获 request urlreplace www.test.com www.test-dev.com 替换掉 host。（最初发送给 A 站点的 HTTP 请求，都被 Fiddler 转发到 B 站点，而在浏览器中毫无感觉，测试或者 debug 中经常有这种需求） 具体命令请参考：https://www.fiddlerbook.com/fiddler/help/quickexec.asp Fiddler 插件下载地址：https://www.telerik.com/fiddler/add-ons JavaScript Formatter格式化 JavaScript 代码 Gallery 插件选择很多图片的会话后，Gallery 插件可以显示这些图片的缩略图 AutoResponderFiddler 可以替换自动返回的一个伪造的 HTTP 响应。跟下断点修改 HTTP 响应差不多，只不过 AutoResponder 是自动的。 拖动左边的 Session 到 AutoResponder 中 然后我们选择 Find a file...，将其替换。 选中 Enable rules，激活规则。选中 Unmatched requests passthrough，放行不匹配的 HTTP 请求。单击 Save 这样文件就会自动替换成我们选择的文件。 手机抓包Fiddler 可以捕获 iOS、Android 等远程设备的包。 原理：安装 Fiddler 的电脑与手机设备处于同一个局域网。Fiddler 作为代理服务器。我们只需在手机指定 proxy server（fiddler 所在电脑的 IP 地址） 的地址即可。当然，如果你想查看加密的 HTTPS 流量，需要在手机设备安装 Fiddler 的证书。 首先，我们需要打开 Fiddler 的设置 然后下载生成证书的插件，手机安装证书的操作自行 Google 吧 这里可以选择要捕获的设备 Composer这个组件可以用来发送 HTTP。 Composer 有两种编辑模式，Parsed 和 Raw 局限可以抓取支付宝、淘宝等手机 APP 的信息, 不过有些手机走的是 HTTP2 协议，所以抓不到，这种情况就得用 wireshark 抓包了，不过抓取后，解密是个问题。 Fiddler 并不支持全部协议，目前已知的有 HTTP2、TCP、UDP、WebSocket 等，如果应用走了这些协议，那么 iddler 肯定是抓不到的 证书写死在 APP 中，Fiddler 不能抓取。也就是说，APP 不信任 Fiddler 颁发的证书，而只信任自己的证书 HTTP 协议HTTP协议采用了请求/响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。 HTTP 协议采用请求/响应模型。客户端向服务器发送一个请求报文，服务器以一个状态作为响应。 请求报文 Request 一个 HTTP 请求报文由请求行（Request line）、请求头部（Header）、空行和请求数据 4 个部分组成 Request line 报文第一行（示例中因为 URL 太长，导致了换行，其实只有一行） Post 表示请求方法（Method），常见的还有 Get。（具体参考本文的 [HTTP 请求方法]) 请求方法后面接请求的 URL。 之后的 HTTP/1.1 表示使用的 HTTP 版本。 Header Cookie 也是 Header 中的一部分 Body 报文的实体，这个部分在 Get 方法里面是没有的。 在 Header 和 Body 之间需要空出一行。 首先声明，HTTP协议没有对传输的数据大小进行限制，HTTP协议规范也没有对URL长度进行限制。 而在实际开发中存在的限制主要有：GET: 特定浏览器和服务器对URL长度有限制，例如IE对URL长度的限制是2083字节(2K+35)。对于其他浏览器，如Netscape、FireFox等，理论上没有长度限制，其限制取决于操作系统的支持。POST: 由于不是通过URL传值，理论上数据不受限。但实际各个WEB服务器会规定对post提交数据大小进行限制，Apache、IIS6都有各自的配置。 HTTP 请求方法常见的有：GET | POST | PUT | DELETE。可以理解为：对某个资源分别进行 查 | 改 | 增 | 删 四个操作。参见的 GET 和 POST 还有一个 HEAD，类似于 GET 请求，只不过服务器返回的响应中没有具体的内容，用于获取报头。 GET 是最常见的方法，用于获取资源，常用于向服务器查询某些信息。 带参数的 Get: 浏览器可以在 GET 方法中把数据传送给服务器，如下 问号后面是数据，这种叫做查询字符串（Query String) 查询字符串以 名=值 这样的形势出现，多个名值之间用字符 &amp; 隔开。这种方式不适合传送私密数据。另外，由于不同的浏览器对地址的字符限制也有所不同，一般最多只能识别1024个字符，所以如果需要传送大量数据的时候，也不适合使用GET方式。 POST POST 允许客户端给服务器提供更多的信息。 图中红框部分即为 POST 的内容，同样也是 名=值 这样的形势出现，多个名值之间用字符 &amp; 隔开。 PUT 从客户端向服务器传送的数据取代指定文档的内容 DELETE 请求服务器删除指定的页面 响应报文 Response 响应报文由响应行（Response line）、响应首部（Response header）、空行、主体（Body）组成 同样，在 Header 和 Body 之间需要空出一行。 Response line 第一行，由 HTTP 协议版本号、状态码、状态消息 3 部分组成。如下： HTTP&#x2F;1.1 200 OK HTTP 状态码状态码用来告诉 HTTP 客户端， web 服务器是否产生了什么响应 分 5 大类 1XX 100 ~ 101 信息提示，表示请求已被成功接收，继续处理 2XX 200 ~ 206 成功 200（OK） 最常见的，成功响应的状态码 204（No Content，没有内容） 返回的 HTTP 响应只有一个状态行和 一些 Header，没有实体内容（Body） 作用如下： 在不获取资源的情况下了解资源的情况，比如判断其类型 查看某个对象是否存在 测试资源是否被更改 206（Partial Content，部分内容）服务器已经成功处理了部分 GET 请求作用如下： 迅雷或者 HTTP 下载工具都是使用 206 状态码来实现断点续传的 将一个大文档分解为多个下载段同时下载，比如在线看视频 3XX 300 ~ 305 重定向。要完成请求，必须进行更进一步的处理 301（Moved Permanently) 表示请求的网页已经永久性地转移到另一个地址 作用如下： 防止用户输错域名。比如 Goolge 担心用户输错域名，就把其他类似的域名买下来，比如 go0gle.com，然后重定向到 www.google.com。 网站更换域名。一些网站壮大后，会换个更好的域名。比如京东以前的域名是 www.360buy.com，现在的域名是 www.jd.com。 有多个权重不错的域名，需要把所有的权重都传递到新域名上，这就需要 301 重定向了。**如果不设置 301，多个域名绑定在一个主机头上，会被搜索引擎认为是两个相同的站点，不利于网站的排名。绑定的域名越多，内容重复度也就越高，排名越低。 302（Found）当我们访问一个 URL 的时候，服务器要我们访问另一个资源，这时候浏览器会继续发一个 HTTP，请求访问新的资源。比如：有些需要登陆才能查看的页面，我们会被服务器返回 302，跳转到登录页面。 301 和 302 区别：两者语法上是一摸一样的，都是在 Location 中返回新的 URL。具体区别在： 301 表示旧地址的资源已经被永久移除了（这个资源不可访问了），搜索引擎会把权重算到新的地址； 302 表示旧地址的资源还在（仍然可以访问），这个重定向只是临时从旧地址跳转到新地址。 304（Not Modified）表示上次的文档已经缓存了，还可以继续使用。304 的响应是没有 Body 的 4XX 400 ~ 415 客户端错误，请求有语法错误或请求无法实现 400（Bad Request） 表示客户端请求有语法错误（如表单错误、Cookie 错误），不能被服务器所理解。 401（Unauthorized） 未授权错误。有些网页采用的是 HTTP 基本认证（Basic Authentication），需要在 HTTP 请求上带上 Authorization Header，否则服务器会返回状态码 401。 403（Forbidden） 表示 Web 客户端发送的请求被 Web 服务器拒绝了。如果服务器想说明为什么拒绝请求，可以在 Body 中描述原因。但是这个状态码通常表示服务器不想说明拒绝原因 404（Not Found） 当你访问一个 URL，这个 URL 的域名是正确的，但是定位的资源不存在，服务器就会返回 404，告诉浏览器资源不存在（意味 URL 输入错误） 5XX 500 ~ 505 服务器错误，服务器未能实现合法的请求 500（Internal Server Error） 服务器内部错误。原因很多，比如代码错误、数据库连接语句出错、程序内部抛出异常、空指针错误等。 503（Server Unavailable） 表示服务器暂时不可用。由于服务器维护或过载，服务器当前无法处理请求。这个状况是临时的，并且将在一段时间后恢复。 HTTP 版本 https://juejin.cn/post/6844903923136856078https://www.jianshu.com/p/52d86558ca57 HTTP 0.9 -&gt; HTTP 1.0 -&gt; HTTP 1.1 -&gt; HTTP 2 HTTP 1.1 是在 1.0 发布之后的半年就推出了，完善了 1.0 版本。目前也还有很多的互联网项目基于 HTTP 1.1 在向外提供服务。 虽然在2015年，HTTP 2 就发布了，但是目前互联网的服务中，使用 HTTP 1.x 版本的服务不在少数，其中可能很大的一个原因是在当前的主流浏览器比如 chrome、Firefox 它们只支持基于 TLS 部署的 HTTP 2 协议，也就是说需要你的网站先升级为 HTTPS 才可以。然而 HTTPS 是需要申请证书的。当然如果你的网站已经升级过 HTTPS 了，那么想升级 HTTP 2 就非常容易了。 HTTP Content-type https://tool.oschina.net/commons 链接记录了各种文件后缀在 HTTP 里的表达。如： 后缀 表示 .html text/html .mp3 audio/mp3 .pdf application/pdf Header 上图框选的都是 Header HTTP 请求和 HTTP 响应中都有很多用于缓存的 Header。HTTP 缓存是指当 Web 请求抵达缓存时，如果本地有“已缓存的”副本，就可以从本地存储设备而不是原始服务器中提取这个文档。 Cookies *Cookie 是一种 HTTP Header**。 它由 key = value 的形式组成。有多个 key value 值，用 ; 分隔。浏览器把 Cookie 通过 HTTP 请求中的 “Cookie：头部内容” 发送给 Web 服务器，Web 服务器通过 HTTP 响应中的 “Set-Cookie：头部内容” 把 Cookie 发送给浏览器。 Accept表示浏览器客户端可以接受的媒体类型。例如：Accept：text/html 代表浏览器可以接受服务器返回 html。通配符 * 代表任意类型，例如： Accept: text/html,*/*;q=0.8 代表浏览器可以处理所有的类型。一般浏览器客户端给 Web 服务器发送的都是这个。 Accept-Encoding这个跟压缩有关，告诉服务器，浏览器所支持的压缩类型 Accept-Language浏览器声明自己接受的语言。如下：Accept-Language: en-US;q=0.8,zh-CN;q=0.6,zh;q=0.4,zh-TW;q=0.2 User-Agent作用时浏览器用来告诉服务器，客户端使用的操作系统及版本、cpu 类型、浏览器及版本、浏览器的渲染引擎、浏览器的语言、浏览器插件等。 Referer主要让服务器判断来源页面，即用户是从哪个页面来的。网站通常用其来统计用户来源，看用户是从搜索页面来的，还是其他网站链接过来的，或是从书签等访问的。有时也被用作防盗链，即下载时判断来源地址是不是在网站域名之内，否则就不能下载或显示。 Connection从 HTTP/1.1 起，系统默认都开启了 Connection：Keep-Alive，保持连接特性。它有一个保持时间，可以在不同的服务器软件中设定这个时间。 Host这个 Header 是必须的，它的作用是指定被请求的主机和端口号，它通常从 HTTP URL 中提取出来。 缓存有关的 Header HTTP 请求相关Cahce-Control: max-age=0：以秒为单位If-Modified-Since: Mon,19 Nov 2012 08:38:01 GMT：缓存文件的最后修改时间If-None-Match: &quot;0693f67a67cc1:0&quot;：缓存文件的 Etag 值Cache-Control：no-cache：不使用缓存Pragma: no-cache：不使用缓存 HTTP 响应相关Cache-Control: public：响应被缓存，并且在多用户间共享Cache-Control: private：响应只能作为私有缓存，不能再用户之间共享Cache-Control: no-cache：提醒浏览器要从服务器提取文档进行验证Cache-Control: no-store：绝对禁止缓存（用于机密，敏感文件）Cache-Control: max-age=60：60s 之后缓存过期（相对时间）Date: Mon, 19 Nov 2021 80:39:00 GMT：当前响应发送的时间Expires: Mon, 19 Nov 2021 08:40:01 GMT：缓存过期的时间（绝对时间）Last-Modified: Mon, 19 Nov 2012 08:38:01 GMT：服务器端文件的最后修改时间ETag: &quot;20b1add7ec1cd1:0&quot;：服务器端文件的 ETag 值浏览器优先使用 cache-control，之后才是 Expires HTTP 压缩HTTP 采用通用的压缩算法，比如用 gzip 来压缩 HTML、JavaScript、CSS 文件，能大大减少网络传输的数据量，提高了用户显示网页的速度。但是会增加服务器的开销。压缩的过程： 浏览器发送 HTTP 请求给 Web服务器，请求中的 Header: Accept-Encoding: gzip, deflate。（告诉服务器，浏览器支持 gzip 压缩） Web 服务器接到 HTTP 请求后，生产原始的 HTTP 响应，其中有原始的 Content-Type 和 Content-Length。 Web 服务器通过 gzip 来对 HTTP 响应进行编码，编码后 Header 中有 Content-Type 和 Content-Lenght（压缩后的大小），并且增加了 Content-Encoding: gzip，然后把 HTTP 响应发送个浏览器。 浏览器接收到 HTTP 响应后，根据 Content-Encoding: gzip 来对 HTTP 响应进行解码，获取到原始 HTTP 响应后显示出网页。 可以使用的编码有： gzip，实体采用 GNU zip 编码 compress， 实体采用 UNIX 的文件压缩程序 deflate，采用 zlib 的格式压缩的 identity，表示没有对实体进行编码；当没有 Content-Encoding header 时，默认就是这种情况。 URL EncodeURL 编码就是把所有非英文字幕、数字字符都替换成百分号后加两位十六进制数，如空格的编码为 %20。 HTTP 认证 基本认证一些网站和 Web 服务使用的是 HTTP 基本认证。有些桌面应用程序也通过 HTTP 协议 跟 Web 服务器交互，桌面应用程序一般不会使用 Cookie，而是把 “用户名 + 冒号 + 密码” 用 Base64 编码放在 HTTP 请求中的 Header Authorization 中发送给服务端，这种方法叫 HTTP 基本认证（Basic Authentication） 缺点: HTTP 协议是无状态的，同一个客户端对服务器的每个请求都需要认证。 Base64 是一种可逆编码，非常容易破解 使用基本认证登录后，除非关闭浏览器或清除历史记录，否则将无法登出 无法防止重放攻击。 摘要认证 https://www.cnblogs.com/xiaohuochai/p/6189065.html Reference https://www.jianshu.com/p/a2c4ede32d11https://zhuanlan.zhihu.com/p/141205398https://www.cnblogs.com/biyeymyhjob/archive/2012/07/28/2612910.html","categories":[],"tags":[{"name":"抓包","slug":"抓包","permalink":"https://blog.bingfengs.xyz/tags/%E6%8A%93%E5%8C%85/"}]},{"title":"Build a mysql of docker env","slug":"Build-a-mysql-of-docker-env","date":"2021-07-28T11:55:17.000Z","updated":"2022-05-29T01:48:30.766Z","comments":true,"path":"2021/07/28/build-a-mysql-of-docker-env/","link":"","permalink":"https://blog.bingfengs.xyz/2021/07/28/build-a-mysql-of-docker-env/","excerpt":"","text":"安装 Docker这里我用虚拟机里的 Debian 系统演示，这里我没有安装 Sudo更加详细的信息可以参考官方的说明 https://docs.docker.com/engine/install/debian/ 升级 apt update 安装必要软件 apt-get install apt-transport-https ca-certificates curl gnupg lsb-release 添加官方 GPG Key（后面的 –socks5 是指定代理，视自己网络环境添加） curl -fsSL https://download.docker.com/linux/debian/gpg --socks5 192.168.100.133:23333 | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg 添加官方 docker 安装源 echo \\ &quot;deb [arch&#x3D;amd64 signed-by&#x3D;&#x2F;usr&#x2F;share&#x2F;keyrings&#x2F;docker-archive-keyring.gpg] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian \\ $(lsb_release -cs) stable&quot; | tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list &gt; &#x2F;dev&#x2F;null 再次 update apt update 安装（如果安装过程缓慢，请参考下面的 proxychains 解决方案，或换个时间段再试试） apt install docker-ce docker-ce-cli containerd.io 验证安装 docker -v 添加 MySQL 查找 MySQL docker search mysql 下载官方最新的镜像 docker pull mysql:latest 查看本地镜像 docker images 运行 MySQL 容器 docker run -d --name mysql-test -p 3307:3306 -e MYSQL_ROOT_PASSWORD&#x3D;123456 -v &#x2F;mydocker&#x2F;mysql&#x2F;conf:&#x2F;etc&#x2F;mysql&#x2F;conf.d -v &#x2F;mydocker&#x2F;mysql&#x2F;logs:&#x2F;var&#x2F;log&#x2F;mysql -v &#x2F;mydocker&#x2F;mysql&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql mysql -d: 后台运行 -p 3307:3306：将主机的 3307 端口映射到 docker 容器的 3306 端口(第一个是主机端口号，第二个是容器端口号) --name mysql：运行服务名字 -v /mydocker/mysql/conf:/etc/mysql/conf.d：将主机/mydocker/mysql录下的conf/my.cnf 挂载到容器的 /etc/mysql/conf.d -v /mydocker/mysql/logs:/var/log/mysql：将主机/mydocker/mysql目录下的 logs 目录挂载到容器的 /logs。 -v /mydocker/mysql/data:/var/lib/mysql ：将主机/mydocker/mysql目录下的data目录挂载到容器的 /var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456：初始化 root 用户的密码 --character-set-server=utf8mb4 ：设置字符集 --collation-server=utf8mb4_unicode_ci：设置校对集 进入 MySQL 终端 docker exec -it 529a4d9afd8e /bin/bash -it：启动交互界面 529a4d9afd8e：可以是 ID 或是容器名称 开始使用 MySQL mysql -u root -p12345 你没看错，-p 参数和密码是连在一起的。如果你分开输入，会要求你再输入一次密码 Docker 一些基本操作 查看运行的容器 docker ps 停止容器 docker stop 容器id 强制停止容器 docker kill 容器id 删除容器 docker rm -f 容器ID 其他apt 代理问题原因：Aptitude will not use the HTTP Proxy environment variables 详细 VIM 操作1. 选定文本块。使用v进入可视模式，移动光标键选定内容。 2.复制的命令是y，即yank（提起） ，常用的命令如下： y 在使用v模式选定了某一块的时候，复制选定块到缓冲区用； yy 复制整行（nyy或者yny ，复制n行，n为数字）； y^ 复制当前到行头的内容； y$ 复制当前到行尾的内容； yw 复制一个word （nyw或者ynw，复制n个word，n为数字）； yG 复制至档尾（nyG或者ynG，复制到第n行，例如1yG或者y1G，复制到档尾） 3. 剪切的命令是d，即delete，d与y命令基本类似，所以两个命令用法一样，包括含有数字的用法. d 剪切选定块到缓冲区； dd 剪切整行 d^ 剪切至行首 d$ 剪切至行尾 dw 剪切一个word dG 剪切至档尾 4. 粘贴的命令式p，即put（放下） p 小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面 P 大写P代表贴至游标前（上），整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后） 注： 在正则表达式中，^表示匹配字符串的开始位置，$表示匹配字符串的结束位置。 命令前面加数字表示重复的次数，加字母表示使用的缓冲区名称。使用英文句号&quot;.&quot;可以重复上一个命令。 在复制粘贴时，另一组常用的命令是u（撤销操作），U（撤销某一行最近所有修改），Ctrl+R（重做），这些功能主要是vim中的，vi中略有差别 ———————————————— 原文链接：https:&#x2F;&#x2F;blog.csdn.net&#x2F;lanxinju&#x2F;article&#x2F;details&#x2F;5727262 curl 使用方法 https://www.jianshu.com/p/fc0eb6c60816https://itbilu.com/linux/man/4yZ9qH_7X.html verbose 模式，显示详细的连接信息 curl -v www.baidu.com 保存网页 curl -o [文件名] google.com 代理 --socks5 192.168.100.133:23333 参考 https://blog.csdn.net/J080624/article/details/104297654https://www.runoob.com/docker/docker-install-mysql.html","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"Docker","slug":"Docker","permalink":"https://blog.bingfengs.xyz/tags/Docker/"}]},{"title":"脊椎的一些事","slug":"脊椎的一些事","date":"2021-05-22T01:27:59.000Z","updated":"2021-10-11T13:00:46.193Z","comments":true,"path":"2021/05/22/ji-zhui-de-yi-xie-shi/","link":"","permalink":"https://blog.bingfengs.xyz/2021/05/22/ji-zhui-de-yi-xie-shi/","excerpt":"","text":"背景因为平时坐姿的问题，加上办公室久坐，导致脊椎出现一系列的问题。恰巧看到酷安上的一篇文章，里面有一本书 麦肯基疗法 7步告别颈椎腰椎烦恼，看了一遍做了个总结。这个酷友还分享了一系列的软件（仅限 Android，苹果用户可以去 App Store 根据名字搜索下载。），大家可以安装试用看看。我这里转载一下，里面资源还是挺多的。有需要可以直接点击下载 文档BackExerciseseyeExercises 基础知识脊椎脊椎的結構與功能 不良姿势 疼痛的位置疼痛的第一次发作时，位置通常在颈部附近，靠近中心（10.9）或位于一侧（10.10）。通常情况下，疼痛会在几天内减弱。疼痛再次发作时，则可能就会延伸到肩部（10.11），甚至到达肩胛（10.12）。反复多次发作后，疼痛可能会一直延伸到上臂外侧和后侧，并一直向下到达肘部（10.13），甚至可能蔓延到手腕或手掌（10.14）。由于颈部的问题，有些人还会感觉到头痛。这种头痛通常都位于颈部上端、大脑后部单侧或两侧（10.15）。有时，疼痛也会越过头顶从后部一直蔓延到眼后（单侧或者两侧） 如何形成腰椎前凸坐姿让自己尽可能佝偻起来（4.8），保持几秒钟，然后直立起身体，尽可能突出脊椎前凸，正确坐姿的极端状态就是这样了（4.9）。保持这个姿势几秒钟，然后在回到放松的姿态（4.8）。 想要长时间保持 4.9 的坐姿是不可能的，因为脊椎会感受到很大的压力，长时间保持这个姿势甚至会导致疼痛。想要做的既正确又舒适，不需要挺得那么直。你可以先做成上门那种极端姿势，然后将脊椎前凸收到的压力减小约10%，并注意不要勾腰（4.10） 可以使用 腰部支撑卷 来辅助改善坐姿 站姿有些人站立太长实践 也会感到下背部疼痛，就好像久坐时一样。久坐时，支撑脊柱的肌肉感到疲劳并放松下来，使我们容易变得弯腰驼背。而在我们放松地战力的时候，腰椎前凸却会过分向前弯曲，达到另一个极端。 这种姿势与驼背的坐姿完全相反。想要长时间这样站立也是不可能的，因为这种腰椎前凸极度扩张的姿势也会使腰椎受到很大的压力。 长时间站立时，必须保持正确的站姿。挺直后背，并经常提醒自己，不要使腰椎前凸过分弯曲 睡姿 请使用 夜间专用型的腰部支撑卷 来改善睡眠姿势 引起颈痛的原因 久坐我们在走动时（尤其是快步走动德时候）都会自然而然地保持比较挺拔德姿势。在走路时，我们的头部会回缩到脊椎的正上面以便获得最大程度德支撑。而当我们坐在椅子里休息时，头部和颈部就会慢慢地突出，因为支撑头颈部德肌肉会慢慢变得疲劳。肌肉疲劳后，你就会想要放松，随后德坐姿就会变得不正确。 长时间保持这种头部突出德姿势会导致韧带过度拉伸。很容易引起椎间盘髓核变形。 坐式头部回缩运动每组做 15 到 20 次，每天早中晚各做 1 组。练习时每个动作的幅度都应该做到最大。当你将头部尽量回缩后，你就做出了“头部回缩”的姿势。这个姿势就是头颈部正确姿势的极端状态 长期保持头部回缩的极端姿势是不可能的，这个姿势颈椎会受到很大压力。你可以将动作幅度减小约 10%，这个就是正确的姿势了。 麦肯基疗法 – 背部练习 1 – 俯卧不适用颈部疼痛患者。 这个练习主要用于治疗急性的背痛（近期发生的、较为剧烈的疼痛，与长期的，若隐若现的疼痛相对应）。这个可以说是麦肯基疗法中的急救措施 练习 2 – 俯卧伸展运动将手肘放在垂直于肩膀之下的地方，使上半身支撑在前臂之上。首先 深呼吸几次，然后尽量完全放松下背部的肌肉。保持这一姿势 2 到 3 分钟。 主要用于急性下背部疼痛的治疗，如同练习 1 一样，练习 2也是麦肯基疗法中的急救练习。对于慢性和复发性疼痛患者，也可以有不错的效果。 每组练习中应该做一次练习 2， 如同练习 1 一样， 请每 2 小时做一次 如果你在练习中感觉到突发的疼痛加剧，请增大双臂手肘之间的距离，使上半身倾斜的角度降低到你可以忍受的程度 练习 3 – 卧式伸展运动需要先做练习1 和练习 2 继续保持俯卧的姿势，面向前方。将双手放在肩膀之下，摆出准备做俯卧撑的姿势。接下来就可以做练习 3 了 伸直手臂，在疼痛可以忍受的前提下尽量撑起上半身 —- 盆骨以上的部分。在做这个动作的同时，注意完全放松髋部、臀部和双腿，使背部尽量伸展。此时髋关节会自然向后移动。 将这个姿势保持一两秒钟，然后在回到开始时的姿势。每次重复这一动作时，尽量使运动的幅度比上一次更大一些，以便在一组练习结束时，你的背部能伸展到最大的程度，手臂也能尽量地伸直。 每次伸直手臂时，记住要保持这一姿势一两秒的时间, 这是本项练习的关键。如果你感觉到疼痛减弱或者发生集中（或者两者都有），你可以将这一姿势再多保持一段时间。每组做 10 次。同样，每天应该练习 6 到 8 组。 练习 4 – 站立伸展运动发生急性下背部疼痛时，如果条件不容许你躺下了，那么你可以用练习 4 来代替练习 3。不过，这项练习没有 3 那么有效。依旧是每组 10 次， 每天 6 到 8 组。 一旦你完全康复，不再患有下背部疼痛，练习 4 就是你最佳的预防病痛复发的工具。作为预防措施使用时，你可以再每次弯腰工作一段时间后就做一次练习 4。记住一定要在疼痛产生之前进行此项练习 练习 5 – 平躺弯曲运动 使两膝靠近胸部。抱住双腿，在疼痛可以忍受的前提下轻柔而缓慢地将两膝尽量靠近胸部。保持这个姿势 1 到 2 秒，然后放开双腿回到开始时的姿势。在进行本项练习时记住不要抬起头颈部，还有放下双腿时不要将腿伸直 每组仅重复 5 到 6 次， 每天 3 到 4 组。 当膝盖靠近胸部时，你的腰椎前凸就消失了。因此，为了消除可能由此产生的关节变形，进行完弯曲练习后(练习 5、6、7)，一定要再做一组练习 3 练习 6 – 坐式弯曲运动无论练习 5 是否对缓解你的背部疼痛和僵硬有效，请在连续练习 5 一周后再开始练习 6。 每组只需做 5 到 6 次， 每天 3 到 4 组。在做过练习 6 后必须马上做练习 3 练习 7 – 站立式弯曲运动无论练习 6 是否对缓解你的背部疼痛和僵硬有效，请在连续练习 6 两周后再开始练习 7。 每组只需做 5 到 6 次， 每天 1 到 2 组。在做过练习 7 后必须马上做练习 3。 完全摆脱疼痛 3 个月之后，请千万不要在一天的头 4 个小时内做练习 7 。 没有反应或没有改善 疼痛集中于单侧 将臀部扭向身体比较不痛的那一侧。 盆骨部分没有保持在较低的位置。 降低盆骨的位置有两个方法： 让另一个人压住你的下背部 或者： 麦肯基疗法 – 颈部分为 7 个部分.每组练习中最多只会用到 1 到 2 项。 随着练习的继续，如果原来位于脊椎一侧、扩散到肩膀或手臂的疼痛转移到了颈部的中部，即疼痛移动并发生了集中，这是一个好现象。 刚开始练习时，疼痛可能会有所增加。 练习 1 – 坐式头部回缩运动头部回缩指的是将头部向后拉 坐在椅子或凳子上，平视前方，并完全放松。此时你的头部会微微伸出（12.2）。缓慢且平稳地向后移动你的头部，直到不能再向后为止（12.3）。在做这个动作时，不要将下巴翘起。换句话说，请一直平视前方，不要让头部向后倾斜，也不要向上看。当你的头部向后移动到最大幅度后，你就做出了头部回缩的姿势（12.3）。请保持这个姿势几秒钟，然后放松，这时你的头部和颈部就会在此恢复自然突出的姿势。在重复这一动作时，请确保你的动作幅度达到了最大。 你可以将双手放在下巴上，并将头部慢慢地进一步向后推，这样可以使练习更加有效（12.4） 本项练习主要用于对颈部疼痛的治疗，而不是预防。 在治疗颈部疼痛时，本项练习应当每天做 6 到 8 组，每组 10 次。 如果在练习的同时感觉到突发的疼痛，你可以用练习 3 代替。 如果用于预防，你应当在感觉需要的时候就做 5 到 6 次（看个人情况决定）。 练习 2 – 坐式颈部伸展运动伸展就是向后弯曲。 在做本项练习之前请先做练习1。 抬起下巴，头部后仰，就像要仰望星空一样（12.6）。做这个动作时不要向前移动脖子。尽量后仰头部，并不断地将头部稍稍左右转动（转动约 2 厘米，12.7、12.7a），预测同时，进一步向后仰头。几秒钟后，恢复到开始时的姿势。每次练习时都请确保将动作尽可能做到最大幅度。 这项练习既可以用于治疗，也可以用于预防。 练习 2 应当每天做 6 到 8 组，每组 10 次。 如果感觉疼痛难忍，可以用练习 3 代替 可以将练习 1 和 练习 2 合并一起做 练习 3 – 平躺头部回缩运动仰卧在床上，头部放在床边，不要靠在床头上。放松头部和肩膀，不要使用枕头。 使用头部的力量（不要用手）尽量将头部向床垫上压，同时收回下颚（12.9）。也就说，你要在直视天花板的同时尽量将头部向后移动。保持这一姿势几秒钟，然后放松。此时你的头部和颈部会自然恢复到开始的姿势。每次练习都请确保你的头部和颈部已经向后移动到了最大幅度。 本项练习主要用于急性颈部疼痛的治疗。在做完十次头部回缩的动作后，你必须评估一下这个练习对你颈部疼痛症状的影响。如果疼痛集中或强度减轻，那么你可以放心继续进行本项练习。在这种情况下，你应当每天练习 6-8 组，每组 10 次。 如果疼痛显著加重并蔓延到了离脊椎较远的位置，或者手指有针刺感和麻木感，请立即停止练习并向专家咨询。 练习 4 – 平躺颈部伸展运动做本项练习之前，你必须先做练习 3。 仰卧在床上，用一只手支撑住头部，慢慢移动，使你的头、脖子和肩膀都露在床沿外。 在用一只手支撑住头部的同时，缓慢地仰头（12.11）。然后逐步把手移开（12.12），并尽可能地看地板，将头部的动作幅度做到最大。保持这一姿势的同时不断地将头稍稍左右转动（12.13），并继续努力后仰。颈部伸展的幅度达到最大之后，保持这个姿势放松 2 - 3 秒。 将头托在脑后，慢慢使头部恢复到水平的位置，然后移动身体，使头部再次完全靠到床上，回到休息的状态。在做完这项练习后，记得一定要平躺在床上休息几分钟然后再起来，休息的时候不要 用枕头。 每组练习中练习 4 只需做一次。 除了练习时身体的姿势不同之外，练习 1 与练习 3、练习 2 与练习 4 其实是一样的 练习 5 – 颈部侧弯运动做在椅子上，重复做几次练习 1，然后保持头部回缩的姿势（12.14），准备开始练习 5。 将颈部向一侧弯曲，然后继续向感到疼痛的一侧弯曲头部（12.15）。也就是，平视前方，让一只耳朵靠近肩膀（不要转动头部）。做这个动作时头部一定要保持回缩的姿势。你也可以将手放在头部一侧，轻轻地将头部进一步向疼痛的一侧扳，这样将使练习更加有效（12.16）。保持这个姿势几秒钟，然后恢复到开始的姿势。 这项练习对单侧疼痛或者偏向一侧的疼痛特别有效。 每天做 6 到 8 组，每组 10 次。直到疼痛发生集中为止。 练习 6 – 颈部转动运动转动指的是从一侧转到另一侧 坐在椅子上，做几遍练习 1 ，然后保持头部回缩的姿势，准备开始练习 6。 将头部从一侧转到另一侧，尽量将转动的幅度做到最大（12.18），同时保持头部回缩的姿势。如果你在转向一侧时感觉到的疼痛比转向另一侧时大，你可以只做转向疼痛一侧的动作。随着练习的继续，这种疼痛应该会集中到中部，或者逐渐消退。 如果疼痛加重，或者疼痛没有发生集中，那么请改为只做转向疼痛较轻一侧的动作。 等到转向一侧的疼痛与转向另一侧相当时，或者转动头部不会感觉到疼痛的时候，你就可以继续从一侧转向另一侧的练习了。 在转动时使用双手慢慢地进一步加大头部的运动的幅度会使练习更加有效（12.19、12.19a）。将转动到最大幅度的姿势保持几秒钟，然后恢复到开始的状态。 本项练习既可以用来治疗颈部疼痛，又可以用来预防颈部疼痛。 用作治疗时，需要每天做 6 到 8 组，每组 10 次。无论疼痛有没有集中，有没有减缓，练习 6 只能在做过练习 1 和 练习 2 之后才能做。 用作预防颈部疼痛时，请每隔 2 到 3 天做一组，每组 5 到 6 次。 练习 7 – 坐式颈部弯曲运动弯曲指的时向前弯曲颈部 坐在椅子上，目视前方，并完全放松，准备练习 7 低头含胸，让下巴尽量靠经胸部（12.21）。双手交叠于脑后（12.22）。放松双臂，手肘指向地面。此时，双臂的重量将进一步下拉你的头部，使下巴进一步靠近胸部（12.23）。 双手微微用力将头部进一步向下来将本项练习更加有效。保持头部最接近胸部的姿势 2 - 3 秒，然后恢复到开始时的姿势。 本项练习主要用于治疗头痛，并对急性发作恢复之后残留的颈部疼痛和僵硬也有一定的效果。无论哪种情况，本项练习都应当每天做 6 - 8 组，每组 2 - 3 次。 其他书里面提到的支撑卷，我在某宝关键字 麦肯基 支撑卷，出来的结果要不价格太高，便宜的卖家还不发货。看评论也就一块泡沫棉加个外套，还卖 50 几。个人推荐买网易严选那个靠枕，个人用起来还行。乳胶的，外套摸起来很舒服。（我趁活动下单的，好东西值这个价） 还有一个睡觉用的支撑卷，目前我试了这个。同样也是乳胶内芯。千万不要贪便宜，我在 PDD 下单的那个，乳胶都裂开了，然后退了。 这个都是事后的治理方案，在自己还没有问题的时候，多起来动动。注意自己的坐姿。每天抽出时间去跑步，让身体留点汗。","categories":[],"tags":[{"name":"养生","slug":"养生","permalink":"https://blog.bingfengs.xyz/tags/%E5%85%BB%E7%94%9F/"}]},{"title":"记一次看病经历","slug":"记一次看病经历","date":"2021-04-23T11:11:41.000Z","updated":"2021-04-28T11:55:51.753Z","comments":true,"path":"2021/04/23/ji-yi-ci-kan-bing-jing-li/","link":"","permalink":"https://blog.bingfengs.xyz/2021/04/23/ji-yi-ci-kan-bing-jing-li/","excerpt":"","text":"经过刚开始的一周，右下腹隐隐作痛，自己并没有当回事。到了第二周，疼痛还在继续，终于意识到不对劲，我就开始慌了。 第一次挂号 &amp; 检查于是我想起以前去体检的时候，检查出胆内有结石。于是马上挂了个肝胆外科的号（03-19）。问诊当天，我拿我以前的体检的彩超报告给医生看。但是看不出什么问题（坑 1-1）。然后开了一张单让我再去做一次彩超，说是医院外边的体检中心报告不行。如下是医生打的彩超体检单。 做彩超的时间是 03-25（坑 1-2）。做完彩超做完后，等 1 个小时就可以拿到纸质报告。帮我检查的是一个刚工作的医生（女生），说右下腹是阑尾的地方，并不是胆（教训）。说阑尾炎最好还是做 CT 效果更好，做超声检查不出问题（坑 2-1）。检查结果和我在体检中心的结果差不多，但是详细了一点。因为彩超检查不出问题，我又已经等了一周，肯定不想继续拖延下去，于是就有了下面去做 CT 的事情。 第二次检查做 CT 不是在医院的，彩超都要等一个星期，我不想继续干等下去。就去了一家私人医学影像诊断中心（要有门路）。不得不说，这效率是真的高，下午预约，5点就能做（03-25）。而且人不多，服务比医院不要好太多！但是，费用会比医院贵一点，做一个螺旋 CT 平扫 500 人民币。而且，这里并没有专业医生给你建议，只有一个引导员（坑 3-1）。你只能凭你在医院医生的建议或自己的直觉来决定你自己要做什么检查。对了，这个影像中心前台清一色 iMac。检查完，等半个小时，就能拿胶片。但是结果要明天才出。 下面是检查的结果，注意 请结合临床。在报告出现这些字眼，可以说这个报告没检查出什么问题。是该松一口气，还是为下面还要继续检查叹气？ 在这期间，开始吃一些抗生素（阿莫西林），但是没见效果。 第二次 &amp; 第三次挂号CT 结果出来，可是中山一医那边挂不到号。于是，我换了一家比较小的医院，挂了消化内科门诊（03-27）。把最近的检查都给医生看，也没得出什么结果，继续让我口服抗生素，换了头孢克肟。 其实到这里，我就应该转换一下思路，或许不是什么大问题，也许不是阑尾有问题，而是其他地方。但是我这个一根筋，害。。。 把医生开的药吃完后，疼痛还在继续，而且更疼了。没办法，又挂了一个号（03-31）。这回这个医生检查就比较仔细，但是看报告也不能确定什么问题。在他的问答之下，我才发现我一直排便是不正常的，黑色。医生说可能是血便（教训）。于是建议我住院，然后做肠镜和胃镜。到这里，我已经怀疑是不是肿瘤问题了。当时医院快要下班了（一般 5 点半），医生让我快点，不然可能这星期安排不上检查。我匆匆交完做核酸的费用，做完核酸检测后，准备办理入院。谁知，要缴纳按金 2000 多，还不支持支付宝等。需要银行卡转账。当时身边只有医保卡。无奈只得作罢。 第四次挂号在入院做肠胃镜失败后，我在中山医挂到号了（04-01）。这个医生一边喝咖啡，就看了几下我的报告，也没多问啥，又开了一张检查单，这回是 x 射线检查。这回不会像彩超那样要等很久了，明天就可以做检查 这个是检查单 在做这个之前，需要先服用钡餐。其主要成分是硫酸钡。开药的人告诉我和水按照一比一的比例混合，服用半包（250g）。喝起来有点水果味，也不是很难喝。 下面是一些做钡剂照影的知识和免责声明： 检查做完检查第二天就可以拿报告 又是 请结合临床。奔溃 第五次挂号到这里，我已经被折腾很累了。在 04-02 刚好挂到一个号，但是同样以前的那些报告医生说没用！需要再重新检查。这个医生也怀疑是肿瘤，说我前面做的 CT 平扫是检查不出肿瘤的，如果做的是增强就可以。 然后给我开了个肠镜的检查的单，让我去预约。也开了一点药。 尾声这次的检查比较戏剧性，因为检查也要等几天。这几天内，老家寄了一些草药还有肠炎药（肠炎宁，整肠生，诺氟沙星胶囊），吃完排便症状有些改善。自己紧张的心情也有所缓解。于是冷静想了下，去买了一些阿本达唑。这个是治肠道寄生虫的，我要把这个因素也排除。吃了一阵，但是疼痛还在继续。这个期间，因为一些原因，我推迟了肠镜的检查，一方面是情况有所好转，另一方面，是肠镜检查有点麻烦，所以打算找个机会跟胃镜一起做了。我清楚自己的消化道是有点问题的，但是一直没有重视去检查。 讽刺的是，后来这个疼痛的问题我自己找到了。一次洗澡时候，去搓后背，发现 尾椎 那里有些疼痛。按下去，很酸痛。到此，我确定问题并不是右下腹，肠道发炎估计在吃完那些药之后，应该是缓解了，而是后背尾椎。难怪这个疼痛的位置一直捉摸不定。 最近几天，开始贴膏药了。虽然且消化道还是有点问题，但是没有以前那么严重，只能慢慢调节了。 吐槽各种坑： 一般医生每天要接上百个号，不可能有那么多时间耐性给你仔细检查。本人内向加上对自己身体认识匮乏，对一些问题，比如什么程度算疼？哪里疼？可能都不能准确回答。这些因素就导致医生不能准确诊断 我下腹疼了两个星期，还要让我等 6 天才能做检查。可见医疗资源紧张。这个也怪我本人当初太天真，定了一个热门医院的点。我试图去让医院的人帮我调整体检的时间，但是给出的答案：医生帮你安排的就是最早的时间。这里要指出一点：医生只帮你问诊，给出建议。有些事情（比如彩超检查的时间）是后台系统帮你安排的，这个你回去找医生也没用，或许你加钱走急诊通道能搞定？ 到这里，可见门诊的医生和检查的医生建议是不一样的。一个彩超，一个 CT。而且，在做彩超时，这个检查医生很多都是不确定的，经常要问身边另一个医生（是她的师姐）。我的理解是，门诊的医生要排除右下腹其他器官的问题，但是我体检的报告该有的都有了，为什么还要我再检查一遍，是信不过外边私人机构的检查？ 在不清楚状况下，自己随便做检查。劳财伤身。比如 CT 有平扫和增强之分，你知道哪个适合你吗。我当时是不知道的。 后来才了解到，阑尾炎也有急性和慢性之分。 这个中间有个小插曲。因为医院预约不到号，我想先去社区医院开点药先缓解一下。我拿着超声和 CT 的检查报告给医生看，他直接叫我去大医院看。连进一步的诊断都没有，就把我打发走了。估计看我拿了一堆报告，以为是大病，他搞不定吧。 教训： 只能怪自己无知，连胆的位置都不清楚。以前中学学习生物课程的热情随着人的成长，都被磨没了吧！知识都还老师了 又一次认识到自己的无知。对自己身体的认知真的很缺乏。 总结 定点不要选择一些热门的医院。年轻人还年轻，一般不会出现什么大问题，大定点选择一个离自己比较近的三甲医院就行。像中山医这种专业性强，里面的医生平时接诊的都是重病的患者，小病也会被当成大病来对待诊断。试想一个普通的肠炎，被上升到阑尾炎，肿瘤的程度，能不吓人吗 医院里的医生，平时工作的强度大，生死离别可能也看多了，一般都是比较冷漠的，你要自己多问几句，不然辛辛苦苦等上的号，可能就一分钟的对话就结束了。 对自己的身体要有一定的认知，不要哪里痛，痛的是什么位置都不知道就去医院问诊，这样医生都帮不了你 如果身体出了问题，一定要引起重视。但是重视不意味着慌忙跑医院。看病要从小到大的顺序来。先自己预估问题所在，能在药店买点药解决，就先试试。不行先到社区医院，然后再到大医院。一有异样就跑大医院，浪费医疗资源不说，自己还费钱费力。 不要太相信医生。有时候受限于自己的表达，或医生的经验，极有可能误诊。要减低误诊的概率，你可以在不同医院，挂两三个号，多问一些医生。然后自己进行判断 不要在自己不了解某项检查的作用的情况下，冒然去做检查。即使医生建议，你也应该要去了解一下该项检查的作用。 身体出现问题，可以告知家人朋友，让他们帮你出主意。有时候经验比检查有用 以前我是一个坚定的西医支持者，经过怎么一轮折腾下来，我也能理解为什么有些人会选择中医进行治疗。有些病，有时候挖根掘底想要找出问题所在，是不可能的。中国的医疗已经不是匮乏能形容的。看个病，你得先挂号，能不能挂到号是一回事。号挂到了，医生检查询问一下，开出一张检查单，让你去检查。什么时候能安排检查还得看运气。检查结果出了，又得挂个号，再去问医生。。。。。。这一套操作下来，能不累吗 以前看到医生抗议罢工，我是支持的。那是我没有站在患者的角度来考虑。如果真得了病，又没有医生救援，真的不是滋味。周末医院不接诊，从效益来说，真的很浪费。 一个什么样的系统，就会孕育出什么样的人 平时多注意自己的身体。这次爆发的原因估计就是下午经常点外卖，然后吃了不卫生的。吃完就躺在椅子上午休。久坐是肠道的敌人，顺带压迫到了脊椎，才造成了这次的灾难。 其他被医疗问题困扰的，绝对不止我一个 Twitter link 收款单，可以看到医保的扣费情况","categories":[],"tags":[{"name":"养生","slug":"养生","permalink":"https://blog.bingfengs.xyz/tags/%E5%85%BB%E7%94%9F/"},{"name":"看病","slug":"看病","permalink":"https://blog.bingfengs.xyz/tags/%E7%9C%8B%E7%97%85/"}]},{"title":"OpenWrt 入门","slug":"OpenWrt-入门","date":"2021-04-06T12:16:12.000Z","updated":"2021-04-06T12:53:18.084Z","comments":true,"path":"2021/04/06/openwrt-ru-men/","link":"","permalink":"https://blog.bingfengs.xyz/2021/04/06/openwrt-ru-men/","excerpt":"","text":"最近弄到了一个斐讯 K2，打算刷个 OpenWrt 来作为主路由，中间折腾了些，写篇博文记录一下。 刷机K2 这台路由器的刷机资源是很丰富的，从 OpenWrt 官网支持的情况可以看出。有如下的固件可以挑选 华硕的老毛子 Padavan、纯净的华硕 Padavan、Tomato Phoenix 不死鸟固件、PandoraBox 潘多拉盒子、OpenWRT 下载的时候，需要注意版本： A版是K2固件，官方说明：https://openwrt.org/toh/hwdata/phicomm/phicomm_k2_psg1218，根据说明A版有5个Ethernet ports，对应K2。B版是K2C固件，官方说明：https://openwrt.org/toh/hwdata/phicomm/phicomm_k2_psg1218_rev.b，根据说明B版有4个Ethernet ports，对应K2C。 我拿到的这个已经刷好 breed 和 潘多拉固件。可能第一次接触路由器刷机的人不知道 breed 是啥。通俗解释就是：相当于安卓机上的 recovery。（看到有人说是 bootloader，但我个人习惯理解成 recovery） Breed 是由 huzibbs 开发的一个号称“刷不死”的引导加载器，相当于手机上的 bootloader。 刷机的教程可以参考如下链接。Ps：我个人是很不喜欢这个 breed 的，网上的教程基本都是围绕这个东西来的。我没找到像手机那样线刷的教程，无奈。。。而且，那个方便你刷入 breed 的助手软件 Windows 会报毒。后面有时间找找用救砖的方式，能不能实现线刷 https://post.smzdm.com/p/awx0k9qk/ 有些固件，像 OpenWrt，可以直接在里面刷其他的固件，而不需要通过 breed。但是有些就不行，像老毛子的 Padavan。 OpenWrt 系统摸索OpenWrt 相对于其他系统没有预置太多的功能，界面也很简单，适合喜欢折腾的人。 系统默认是英文的。这几天摸索下来，已经习惯了，不打算换中文了。网上有换中文的教程 网页界面有防错机制，每当应用了新的修改后，有 90 秒倒计时。如果不能在此时间内再次访问 Web 管理界面，设置会自动回滚到修改前。人性化的设置。但是也有一点要注意：如果修改了 lan 的网段，请记得动作要迅速一点，用新的网段地址访问，不要用旧的地址不停刷新 Web 管理界面了！ Interface这个项目下面主要有 WAN LAN 两个子块。顾名思义，这两个就是设置你外网和内网的 WANWAN 这一块，是设置如何连接上级网络的。如果你路由器直接连接光猫，光猫设置了桥接模式，那这个我们可以用路由器直接拨号（如下图）。拨号我们直接在 WAN 下进行就行，那个 WAN_6 暂时可以不用管。协议选 PPPoE。然后填写运营商的账号和密码。 如果你家里已经有一个路由器了，你打算扩展网络，这里的协议你可以选择 DHCP。 在 Physical Settings，Interfac 我们选择 eth0.2。这个因人而异。其实这个 eth0.2 是一个 VLAN，后面我会介绍一下它。这个就是绑定WAN 这个配置到具体的物理接口。 LAN这块是配置你内网用的，我们可以在这里修改我们内网的网段。一般光猫或其他路由器会占用 192.168.1.0/24 这个网段，我尽量避免冲突，这里设置了 192.168.101.0/24 这个网段。 下图 192.168.101.1 是这个路由器 LAN 的网关地址。子网掩码我们默认就行 255.255.255.0。 同样，我们在 Interface 选择需要绑定的接口，这里我选择了路由器后面的网线接口，2.4G 无线，5G 无线这三个接口。 DHCP 的某些设置也是在 LAN 这个块里。 Wireless这块你可以设置路由器的无线模块。 2.4G &amp; 5G 相同的 SSID引用恩山论坛的结论： https://www.right.com.cn/forum/thread-451408-1-1.html WIFI名字改成一样的，然后在无线安全里把802.11r 快速切换打开就行了。只要是支持802.11r 就没问题 一些扩展：关于Wi-Fi漫游的一些Tips Switch这里可以设置路由器的 VLAN，详细可以参考下面的文章。我就不重复造轮子了。 OpenWrt 多WAN口以及扩展WAN口详细配置教程 上面连接访问不了，点击浏览离线版本：离线版本 Bugs OpenWRT 一开始死活拨不上号，一直报下面的错误。后来给 WAN 绑定了另一个小米牌子路由器的 Mac 地址，奇迹般的可以了，也不知道是为啥。电信送的小米的 3C 路由器。。。 绑定的方法：https://www.v2ex.com/t/219380 无线连接突然无法获取 IP 地址。最终解决方法是：打上 Force 的勾，然后重启 LAN 服务 电信拨号的一点小常识猫的默认账号密码贴在光猫底下的 useradmin，只能改改 WiFi 之类的设置，很是鸡肋。如果要改动物理网口的连接模式，还需要进入超级管理员界面。我这边很幸运，用的是默认的密码。如果不是，自己 Google 破解的方法或跟安装师傅要。 实测 TEWA-600AGM 可行。 超级用户：telecomadmin 密码：nE7jA%5m 获取外网地址一般电信会分配给你 100 打头的 IP 地址，那个是内网地址来的，具体可以参考这篇文章。如果需要外网地址，又不想打电话投诉之类的，有个简单的方法，账号名加上 pub 或 vip。如下： gzDSLxxxxxxxx@163.gd 变成 gzDSLxxxxxxxx@pub.163.gd 即可 参考爱一枝梅","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"2021 年的番茄教程","slug":"2021-年的番茄教程","date":"2021-01-31T06:26:11.000Z","updated":"2021-01-31T11:59:00.700Z","comments":true,"path":"2021/01/31/2021-nian-de-fan-qie-jiao-cheng/","link":"","permalink":"https://blog.bingfengs.xyz/2021/01/31/2021-nian-de-fan-qie-jiao-cheng/","excerpt":"","text":"距离上次的翻墙教程已经快一年多了，现在又有新的翻墙姿势，要跟上时代的步伐，于是今天水了这篇。 上次用的是 WebSocket + TLS + Web 的方法。我在搬瓦工搭建后的使用效果并不是很理想，每到特殊日子就定期抽风。于是打算试试其他的，后面试过 Torjan，最近也不是很给力。最后就先试试 Xray 这种方法 Xray 介绍关于 Xray 的介绍，可以参考这个作者的文章 https://tlanyan.me/xray-tutorial/ Xray 的一键部署脚本网上有很多的部署脚本，我这里就不像上次一样班门弄斧了。（其实是懒）具体可以参考下面的教程，真的很方便。这个脚本很详细，有多种协议方法可以挑选，连 BBR 都帮你考虑到了。感谢作者 https://www.jamesdailylife.com/xray-core-xray-vless-tcp-xtls wget -N --no-check-certificate &quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;mack-a&#x2F;v2ray-agent&#x2F;master&#x2F;install.sh&quot; &amp;&amp; chmod 700 &#x2F;root&#x2F;install.sh &amp;&amp; &#x2F;root&#x2F;install.sh 温馨提示：CentOS 已经接近淘汰的状态，虽然 CentOS 7 还有几年的支持时间，但是大势已去。而且用上面的脚本还会提示 “系统版本过低”。于是我选择 Debian 替代 CentOS。（你们啊，不要老想用 Ubuntu，哪天它也做出像 Redhat 一样的决定，啧啧啧。。。） V2ray 的客户端这里有一些各个平台的 V2ray 客户端汇总，个人推荐 Windows 目前用 v2rayN。以前因为兼顾 Linux，我选了 Qv2ray，但是目前 Windows 版本上的 Pre 版本有莫名奇妙的 Bug，暂时先弃用。 https://tlanyan.me/v2ray-clients-download/ VPS 推荐Hostdare, 这个目前使用还行，虽然专业比不上搬瓦工。但是不像搬瓦工那样被 GFW 盯得那么紧。目前看 Youtube 能流畅 1080 P, 也没有像以前那样晚高峰抽风","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"}]},{"title":"一些总结","slug":"最近一些总结","date":"2021-01-28T14:16:45.000Z","updated":"2021-01-31T12:43:42.920Z","comments":true,"path":"2021/01/28/zui-jin-yi-xie-zong-jie/","link":"","permalink":"https://blog.bingfengs.xyz/2021/01/28/zui-jin-yi-xie-zong-jie/","excerpt":"","text":"博客现状正如我的 slogan，只要我还能折腾，这个博客就会更新下去，即使没有人看。 距离这个博客成立有 2 年多了，它的前身 2019 年初是我在 WordPress 上搭建的一个试验网站，从此喜欢把自己折腾的经历写成东西。不但给我这个记性不好的人参考，老了之后来看看自己年轻的坑也挺好的。 自从博客迁移 Hexo 后，逛 GayHub 成了日常，也看了很多志同道合的人写的一些个人博客，很能开拓视野，学习了很多。最近懒癌又发作，没写多少东西，而且都是半成的，后面要把这些博文的坑填完。博客新增了一个 【实验室】 的功能，里面有一些自己实验共享出来的东西，感兴趣的人可以试试。然后自己搭了个代号为 “SEKAI” 的 jsproxy 反代程序，留给自己备用，当然，你要知道地址，也是可以用的。(^_^) 后续等时间精力充足，再继续优化下去吧。当然，我侧重点是内容，后面偶尔搞搞博文的封面图，每篇一张路人惠图，绝不重样。二次元驱动我 最近收获 最近无意看到一篇文章，关于排版的，受益良多。是关于标点符号如何排版的。发现我以前的标点符号使用确实有问题，后续会改进。 https://tingtalk.me/style-guide/","categories":[],"tags":[{"name":"废话","slug":"废话","permalink":"https://blog.bingfengs.xyz/tags/%E5%BA%9F%E8%AF%9D/"}]},{"title":"最近装机折腾","slug":"最近装机折腾","date":"2021-01-23T07:06:20.000Z","updated":"2021-10-11T13:09:52.570Z","comments":true,"path":"2021/01/23/zui-jin-zhuang-ji-zhe-teng/","link":"","permalink":"https://blog.bingfengs.xyz/2021/01/23/zui-jin-zhuang-ji-zhe-teng/","excerpt":"","text":"最近因为服役的笔记本性能已经遇到瓶颈，新装了一台新的台式机。上次用台式还是大学那会。虽然 AMD Yes ，但我还是选择了 Intel。（精神股东，滑稽） 这台电脑预计服役 5 年，后续还要考虑小升级的情况。主要用来跑跑 Adobe 全家桶，还有折腾一些系统。关键，数据文件存储就靠它了。 一定要是 ITX一定要是 ITX一定要是 ITX 配置单2021-01 - 机箱 【307,狗东】 乔思伯（JONSBO）U3 * 主板：24.5 24.5 * 硬盘 3.5：2个 * 散热器： 175mm * 支持水冷 120 * 显卡：260mm - CPU 【CPU + 主板、散热 1729+69，某宝】 i5-10600KF * 6&#x2F;12 * 125w * DDR4-2666 * 4.10&#x2F;4.80 GHz * PCI 3.0 - 主板 技嘉 B460M AORUS PRO * 24.4 24.4 * M.2 NVMe SATA * 双通道 4内存 * 自带 M.2 无线 Wi-Fi 接口 - 散热 玄冰400 - 电源 【369，某宝】 长城 V5 金牌全模组电源 * 500W * 金牌 * 全模组 - 内存 【218 + 210，某宝】 SAMSUNG * 8G x 2 * DDR4 2666 - 硬盘 【695，某宝】 希捷 ST4000VN008 * 酷狼 4T * CMR - 固态 【509，某宝】 凯侠 RD10 * 带缓存 512M * TLC - 显卡 【150，某宝】 丽台 Q2000 花费：4256 --------------------------------- 旧硬件： - 1T 机械硬盘 - 500G MLC SATA M.2 盘 理由 自己用的电脑，在电源和机箱我不想缩预算。这两件套就算其他硬件过时了，还是可以继续拿来别的机器使用。机箱我选了低调的铝合金 ITX 机箱，适合我这种不喜欢光污染的人，简简单单很好看。电源是长城的，买的是全模组的，机箱空间有限，后面如果散热不行，可以定制线来剩下一些空间。一直用这个牌子，没出问题就不换牌子了 CPU + 主板 + 散热器，淘宝一家直接搞定。这个价格，CPU 还是盒装的，我有点怀疑是不是散片自己加个包装的，但这个无伤大雅。主板是小雕的 PRO 版本，不得不说，PRO 还是有点可取的，起码那个散热片的重量就让我直呼好家伙。但是除了散热马甲，看其它评测，貌似和普通的版本没什么区别。官网渠道购买，有无马甲价格差了 100，不是很值得购买。但是淘宝是个神奇的地方，我买的这家还挺便宜的。这家顺带下单玄冰反人类，69，只要69，还要啥自行车。本来还想试试利民的散热器的，罢了，罢了 这个机箱可以容下两块 3.5 寸盘，我两个盘位都用了。买了一个酷狼来体验，希望稳一点 内存没啥说的，最近也涨价。我问了很多店，基本金手指都有痕迹。京东的回答是这样的： 我分开两家店买，两条都有轻微的划痕，这个真的不好判断是不是二手。。。 一提显卡就心累，加价五六百还要抢购。挑这个时候装机，选了个 10 年前上市的丽台亮机卡。先用着吧 固态挑了很多评测推荐的 凯侠（东芝） RD10。这年头 MLC 难找。就算找到了，那个价格，啧啧啧（没错，我就说你三星）。妥协用了 TLC。 不足 淘宝购买方式 狗东的服务态度还是物流，都是淘宝不能比及的。但是你架不住它每件商品能给你便宜一点（至于为什么便宜，这个很值得考量）。为了省那个几十块，你在淘宝需要花精力去辨别这个产品是不是翻新的、有瑕疵的。 我在购买那个希捷的硬盘时，狗东原价接近 800 的硬盘。在淘宝你能找到 400，500，600 等价位的商家。你知道我看到 400 价位时差点剁手吗？比较了两三家 400-500 价位的商家，评论都看了几遍。基本都是正常，没翻车。直到我看到一个买家评论了：用膝盖想想都知道是翻新的。我刹住车了。我也没法验证那些低价硬盘的质量，只得折中选了个国行盒装的，价格比京东低。买回来，包装盒和硬盘上的 SN 号一致，软件查看 SN 也一样。到这里，我只能认为是全新正品。我没有去希捷官网查看 SN，这个 SN 号伪造应该不难吧？现在中国的造假仿制技术修改硬盘信息都不是问题。我买的那个硬盘，实测拷贝了 2T 的数据，速度不错，几天体验下来，没啥问题。后续再继续观望吧 我就问你，看到这个价格，能不心动吗？关键淘宝很多这个价位是没有标注翻新二手之类的字样！淘宝的信息不对称，加上自己喜欢贪便宜（不排除有些没税的商家嘛），我觉得以我的购物趋向，在淘宝买到劣质商品的比例可能要高过拼多多了。所以机器能点亮装系统之后，第一件事就是运行各种硬件测试工具。 另一个比较窝心的事：那个长城的电源也是便宜 30 块买的，结果模组线包装是拆过的，少了一条 SATA 电源线。我用不到那么多 SATA，就没计较，不过差评是少不了的。还是信息不对称和贪便宜造成的。。。。。 还是那句话，一分钱一分货。千万别贪便宜 还有一个问题，这个也不能称得上是问题，淘宝第一次遇到，纪念一下 散热器割手 从第一个玄冰 400 开始，估计已经用了五六个了，每次手都避免不了被割几个划痕，对得起反人类 400 这个称号 主板 这个才是我这回装机的大坑。买的是技嘉的主板，这货居然把 CSM disable 了。搞得我那个亮机卡识别不了，买的又是无核显的 CPU。主板一直报错。这个问题一开始不确定问题所在，把能卸的硬件全都拆了，来回折腾了几次。你要知道这个是 ITX 机箱啊，那个心情。。。 刚开始报错是蜂鸣器短响五下，查了下，CPU 错误。我擦，坏的 CPU 都能让我买到，我可以去买乐透了。但后面问了卖家，是显卡的锅，准确来说，是主板的 BIOS 的设置认不出这个亮机卡。现在的主板上面带有指示灯可以查看是哪个部件出问题（以前一直不知道这些灯的作用，现在懂了排错还是挺有用的，赞一个） 更多的信息，可以参考知乎的这个帖子，感谢大佬指路。 https://zhuanlan.zhihu.com/p/36530184 显卡 10年前的亮机卡，只能支持到 1080p（之前测试条件有限，现在买了个 2K 的显示器，DP 直连，完美 2K)，而且只有 DVI 和 DP 口。 后续升级 显卡 听说英伟达 2020 的销售额完成了，发布的新卡都成了空气卡。英伟达的崛起就靠你们矿老板了！只能等矿热之后价格减下来再说了。 内存 后面降价再买两条 8G。这个不难。 存储 后续加一个 2.5 寸 SATA 盘，安装黑苹果或 Linux。 继续堆机械硬盘，目前 4T + 1T 的配置估计半年就告急，后面淘汰 1T，换成 6T 的 无线 考虑黑苹果，或者有网络的限制，加个 PCI 或 M.2 的无线网卡 TPM 2.0 Windows 11 来了，但是这个主板不带 TPM。可以淘宝买一个，看了下，80 软妹币，坑爹。 总结 差价不上 30 的，以后都狗东买算了。淘宝心累 主板 CPU 套装 可以无脑淘宝。 存储之类的，我就认命，买来测试没问题就行。靠金手指来判断已经行不通了。 附上几张照片吧，没多拍 其他如果有四个内存插槽，内存顺序怎么安排？ 如果只有两条内存组成双通道，那就用 A2 和 B2 口","categories":[],"tags":[{"name":"硬件","slug":"硬件","permalink":"https://blog.bingfengs.xyz/tags/%E7%A1%AC%E4%BB%B6/"}]},{"title":"VBS 实战","slug":"VBS-实战","date":"2020-12-12T06:17:38.000Z","updated":"2022-04-24T14:25:09.469Z","comments":true,"path":"2020/12/12/vbs-shi-zhan/","link":"","permalink":"https://blog.bingfengs.xyz/2020/12/12/vbs-shi-zhan/","excerpt":"","text":"会有今天这篇文章，就要说起 Microsoft Support for Office Deployment 写的这个一万多行的VBS脚本。本来想自己写一个统计 Office 版本的脚本，但是网上搜了一圈，都无法判断出 2016 和 365 的，只能看版本号。。。咬牙继续搜，就看到这个玩意。慢慢解剖分析消化吧 https://gallery.technet.microsoft.com/office/68b80aba-130d-4ad4-aa45-832b1ee49602 我把 VBS 复制下来，有需要可以直接下载： 点我下载 然后，介绍一个网站，可以查一些函数，方法的介绍。输入关键词就行 https://www.devguru.com/content/site/search.html 一些总结这些是对上面那个脚本的一些分析，我做了截取分析，添加了一些备注，可以下来运行一下。(中文乱码请下载后用UTF-8打开) 判断Folder是否存在判断同一个脚本是否重复运行获取当前用户的桌面路径获取某个注册表Key的Value获取当前运行脚本的名称(文件名)判断注册表Key是否存在 下面这些是以前的借鉴的一些脚本，也放上来备份吧。给大家一些建议，重要的东西记得备份好，不然哪天突然消失了，后悔都来不及；可执行程序不要随便命名。 （说的就是用test做文件名的我。整理的时候，误点了test.vbs，整个文件夹都没了。MD，里面有 rm 命令。。。） 放张图压压惊 excel操作 对象 (class): Application (Excel应用程序本身) Workbooks Worksheets Range (单元格) 方法 (members): Open Close 属性: Author Dim (Dimension 尺寸) Dim i As Integer &#39;整数类型变量 Dim i As String Dim i As Range &#39;单元格对象 Dim i As Workbook &#39;工作簿 Dim i As Worksheet &#39;工作表 Workbooks：所有excel当前打开的工作簿（即所有打开的excel文件）Workbook：Workbooks的成员ActiveWorkbook：当前工作簿ThisWorkbook：当前VB正在运行的工作簿Worksheets：所有工作表。 可以通过下标或者名字引用Worksheet例如引用第一个：Worksheets(1)，最后一个: Worksheets.Count，引用指定的：Worksheets(&quot;shee1&quot;) Worksheet：Worksheets的成员ActiveWorksheet：当前worksheet Cells：Cells(row,column)代表单个单元格。 例如Cells(1,1),Cells(10,4)分别代表A1,D10 获取单元格的行号,列号(待测试) Cells(1, 1) &#x3D; Selection.Row Cells(1, 2) &#x3D; Selection.Column selection &#x3D; Range(&#39;b2&#39;).row ActiveCell：活动工作簿的活动单元格，或指定工作表的活动单元格Range：指定区域，例如Range(“A1:H8”) 或者[A1],[A1:C5]的中括号形式 例子获取外网IP地址,并邮件通知这个脚本产生的背景是这样的:有一个条网线,有外网地址,但是不是固定.想要远程回里面内网的PC,于这个脚本产生了,让它定时提醒新的IP地址 &#39;Set Wshshell &#x3D; CreateObject(&quot;Wscript.shell&quot;) times &#x3D; 1 Do Set ie&#x3D;CreateObject(&quot;InternetExplorer.Application&quot;) ie.Visible&#x3D;false ie.navigate &quot;http:&#x2F;&#x2F;ip.cn&#x2F;&quot; &#39;从ip.cn获取IP地址信息 Do WSH.Sleep 500 Loop Until ie.readyState&#x3D;4 str &#x3D; replace(ie.Document.getElementByID(&quot;result&quot;).innertext,vbCrLf,&quot; &quot;) &#39;msgbox str Set reg &#x3D; New RegExp &#39;这里设置一个正则,用来提取出ip.cn返回信息中的ip地址 reg.Pattern &#x3D; &quot;(\\d+\\.)&#123;3&#125;\\d+&quot; ip &#x3D; reg.Execute(str)(0) &#39;CreateObject(&quot;wscript.Shell&quot;).run &quot;mshta vbscript:ClipBoardData.setData(&quot;&quot;Text&quot;&quot;,&quot;&quot;&quot;&amp;ip&amp;&quot;&quot;&quot;)(window.close)&quot;, 0, true &#39;这里是将ip地址复制到剪贴板,这里并不需要 &#39;msgbox &quot;IP: &quot; &amp; ip &amp; &quot; Copy to Clipboard done!&quot; ie.quit &#39;这里退出前面打开的ie ipTemp &#x3D; &quot;127.0.0.1&quot; if ip &lt;&gt; ipTemp then call sendMail() end if ipTemp &#x3D; ip WScript.Sleep 18800000 times &#x3D; times + 1 Loop Until times &gt; 1000 function sendMail () Set objEmail &#x3D; CreateObject(&quot;CDO.Message&quot;) objEmail.From &#x3D; &quot;xxxx@outlook.com&quot; objEmail.To &#x3D; &quot;xxxx@gmail.com&quot; objEmail.Subject &#x3D; &quot;The External IP had been changed!&quot; sendmsg &#x3D; &quot;New IP: &quot; &amp; ip &amp; chr(13) &amp; _ &quot;&lt;br&#x2F;&gt; Update Time: &quot; &amp; now() objEmail.Htmlbody &#x3D; sendmsg &#39;htmlbody 是发送HTML格式的文本. &#39;下面是配置smtp服务器的信息,这里我以outlook为例.(默默说一句,微软对自家的东西兼容真心laji) with objEmail.Configuration.Fields .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;sendusing&quot;) &#x3D; 2 .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;smtpserver&quot;) &#x3D; &quot;smtp.office365.com&quot; .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;smtpserverport&quot;) &#x3D; 25 .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;smtpauthenticate&quot;) &#x3D; 1 .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;sendusername&quot;) &#x3D; &quot;xxxx@outlook.com&quot; .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;sendpassword&quot;) &#x3D; &quot;xxxxx&quot; &#39;.Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;sendtls&quot;) &#x3D; True .Item (&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;smtpconnectiontimeout&quot;) &#x3D; 60 .Item(&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;cdo&#x2F;configuration&#x2F;smtpusessl&quot;) &#x3D; True .Update end with objEmail.Send end function &#39;vbs 目前 outlook 账号只能用ssl, 现在没有找到问题所在. 但是再outlook app 里面,可以指定使用 STARTTL,端口为587,所以上面那个tls注释掉了 &#39;https:&#x2F;&#x2F;www.tachytelic.net&#x2F;2018&#x2F;12&#x2F;email-vbscript-vba-office-365&#x2F; Outlook 自动发送邮件&#39;sdt 为今日日期的字符串，比如 &#39;2010-12-9&#39;，可用于附件名字里 sdt &#x3D; FormatDateTime(Date) &#39; 注意：以单引号&#39;开头的行为注释 &#39; receiptions 为收件人列表，多个收件人之间用分号隔开 &#39; Subject 为邮件标题 &#39; Body 为邮件正文 &#39; Attachments 为附件列表，每个附件都需附带路径。 &#39; autoSend 设置是否直接发送，设置为False时将停留在最后窗口，需手动按Outlook的发送按钮进行发送 receiptions &#x3D; &quot;xxxx@xxx.com; xxxx@gmail.com&quot; &#39;接收人 Subject &#x3D; &quot;This is a auto send email test &quot; &amp; sdt Body &#x3D; &quot;Hi, team &lt;br&#x2F;&gt;&quot; &amp; _ &quot;&amp;emsp; This is another line! &lt;br&#x2F;&gt;&quot; &amp; _ &quot;another line&quot; &#39;&lt;br&#x2F;&gt; 换行 &amp;emsp 空格 &#39;Attachments &#x3D; Array(&quot;D:\\report &quot; &amp; sdt &amp; &quot;.docx&quot;, &quot;D:\\report &quot; &amp; sdt &amp; &quot;.pdf&quot;) autoSend &#x3D; False &#39; 以下代码无需修改 Dim xOutLook Dim xMail On Error Resume Next Set xOutLook &#x3D; GetObject(, &quot;Outlook.Application&quot;) If xOutLook Is Nothing Then Set xOutLook &#x3D; CreateObject(&quot;Outlook.Application&quot;) End If Set xMail &#x3D; xOutLook.CreateItem(olMailItem) With xMail .Display Dim signature signature &#x3D; .HTMLBody .To &#x3D; receiptions .Subject &#x3D; Subject .HTMLBody &#x3D; Body .Importance &#x3D; olImportanceNormal &#39; 设置优先级, olImportanceHigh为高优先级 If IsArray(Attachments) Then Dim attachment For Each attachment In Attachments .Attachments.Add attachment Next End If &#39;----------------------------------------------------------------------- &#39;添加附件的其他演示 set ofs &#x3D; createobject(&quot;scripting.filesystemobject&quot;) set ofolder &#x3D; ofs.getfolder(&quot;C:\\Users\\bingfeng\\Pictures\\test&quot;) set ofiles &#x3D; ofolder.files for each ofile in ofiles &#39;ofile &#x3D; chr(34) &amp; ofiles(i) &amp; chr(34) msgbox ofile.path xmail.Attachments.Add ofile.path &#39;一定要加 path 属性 next &#39;----------------------------------------------------------------------- .HTMLBody &#x3D; .HTMLBody &amp; signature If autoSend Then .Send Else .Display End If End With 判断用户是否有管理员权限call checkIFAdmin() msgbox checkifadmin() Function checkIFAdmin() On Error Resume Next set wshshell &#x3D; createobject(&quot;wscript.shell&quot;) set fso &#x3D; wscript.createobject(&quot;scripting.filesystemobject&quot;) mySystemRoot &#x3D; wshShell.ExpandEnvironmentStrings(&quot;%SystemRoot%&quot;) testFolder &#x3D; mySystemRoot &amp; &quot;\\test&quot; &#39;msgbox testfolder Fso.CreateFolder(testFolder) Wscript.sleep 2000 if fso.FolderExists(testFolder) then checkIFAdmin &#x3D; true fso.deletefolder(testFolder) else checkIFAdmin &#x3D; false end if End Function 创建快捷方式set WshShell&#x3D;WScript.CreateObject(&quot;WScript.Shell&quot;) &#39;第一行创建了一个Windows脚本宿主壳对象, strDesktop&#x3D;WshShell.SpecialFolders(&quot;AllUsersStartup&quot;) &#39;第二行获取到桌面路径， set oShellLink&#x3D;WshShell.CreateShortcut(strDesktop &amp; &quot;\\myShortCut.lnk&quot;) &#39;第三行创建快捷方式lnk文件， oShellLink.TargetPath&#x3D;&quot;C:\\temm\\sum.vbs&quot; &#39;第四行设定快捷方式的目标路径， &#39;oShellLink.WindowStyle&#x3D;1 &#39;第五行设定快捷方式打开窗口的风格， &#39;oShellLink.Hotkey&#x3D;&quot;CTRL+SHIFT+E&quot; &#39;第六行设定该快捷方式的快捷键， &#39;oShellLink.IconLocation&#x3D;&quot;c:\\mydocumentfolder\\icon.ico,0&quot; &#39;第七行设定快捷方式的图标， &#39;oShellLink.Description&#x3D;&quot;my shortcut descriptiion&quot; &#39;第八行设定快捷方式的描述信息， &#39;oShellLink.WorkingDirectory&#x3D;strDesktop &#39;第九行设定快捷方式的工作路径， oShellLink.Save &#39;第十行保存快捷方式。 &#39;https:&#x2F;&#x2F;blog.csdn.net&#x2F;MAILLIBIN&#x2F;article&#x2F;details&#x2F;47110843","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"UWP 离线安装","slug":"UWP-离线安装","date":"2020-12-07T11:43:49.000Z","updated":"2020-12-07T12:04:40.611Z","comments":true,"path":"2020/12/07/uwp-chi-xian-an-zhuang/","link":"","permalink":"https://blog.bingfengs.xyz/2020/12/07/uwp-chi-xian-an-zhuang/","excerpt":"","text":"很多公司电脑都是禁用Windows Store，我本人也不是很喜欢这个东西 （有些app需要加一层代理，体验不是很好。而且就微软那个网络，快可以10几兆，慢的话基本没速度。。。） 但是有些用户习惯了一些app，比如 Sticky Note（便签）。而且，Store里面不乏有一些优秀的应用。然后像我，用的LTSC的，连 Windows Store 都没有，那只能用离线安装的方法了。 下面演示如何离线下载安装 Sticky Note 开启开发者模式如下图标识，下面箭头所指的两种模式都可以 下载 Appx 文件访问微软的网站，找到你要下载app的web链接，如下是便签的链接 https://www.microsoft.com/en-us/p/microsoft-sticky-notes/9nblggh4qghw 注意：链接格式一定是上面那样的，微软会将上面的链接跳转成另外一个很长格式的。如果使用Google搜索的，可以f12查看所有跳转的链接(具体方法Google查) 前往下面的网站，输入上面的网址链接 https://store.rg-adguard.net/ 注意：有时候你会发现你输入的链接是对的，但是搜索不出什么结果。你等个几天再回来搜搞不好就有了，我就是这样的。 搜出来有很多文件，一般下载版本号最新的，然后后缀是appxbundle的文件就行 安装 Appx文件查了些资料，很多都是直接双击安装就行。但是我这边两台电脑均失败。只能用Powershell来安装 add-appxpackage c:\\test\\*.appxbundle 其他这个是 Windows10 Sticky Note 信息存储的位置，可能不一定是这个文件夹，但是有Microsoft.MicrosoftStickyNotes字样就不会错 C:\\Users\\用户名\\AppData\\Local\\Packages\\Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe 偶然看到微软提供的离线下载渠道，只限企业和教育版的账号，测试不了，先mark，后面有机会再测试 https://docs.microsoft.com/en-us/microsoft-store/distribute-offline-apps 参考 https://blog.csdn.net/qq_16118075/article/details/88809464 https://techdevian.com/zh-cn/2020/1/26/%E5%A6%82%E4%BD%95%E5%9C%A8windows-10%E4%B8%8A%E5%AE%89%E8%A3%85.appx%E6%88%96.appxbundle%E8%BD%AF%E4%BB%B6/","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"}]},{"title":"易混英文单词汇总","slug":"易混英文单词汇总","date":"2020-11-30T13:55:47.000Z","updated":"2021-04-06T13:05:51.261Z","comments":true,"path":"2020/11/30/yi-hun-ying-wen-dan-ci-hui-zong/","link":"","permalink":"https://blog.bingfengs.xyz/2020/11/30/yi-hun-ying-wen-dan-ci-hui-zong/","excerpt":"","text":"colleague | collegepartner | parents | patientinvestment | investigationseveral | severe | serialfeat | fearfake | fategeneric | geneticinterpret | interruptinvert | investbrand | bandtransition |collaboration | cooperationescalation | elevateevaluation | evolutiondesired | deservedpray | preyexit | existintranet | internetassess | accesscontent | contact | contextattack | attractspecific | superficialpropose | purposethe latest | the last | latesushi | saucestruck | stuckcute | cuesession | sectionhall | hell | holyphysical | psychologicalarmy | enemyinvest | inventoryimpose | importexample | sample | templeEaster | eastdiversity | delivermonitor | minorityliquidate | liquidexclaim | explainevaluate | evacuatecontract | contrastnegative | navigatemedium | mediaparticle | practiceforth | fourthplant | planetfrost | fog | forestinvest | invent | invertconsumer | customerbranch | brandopportunity | opponenthalt | halfrobber | rubberdebt | debutblind | bindexempt | exampleachieve | archiveretain | detaineclipse | ellipseneedle | noodlesexplosion | expositioncrush | cashcaption | captainshallow | shadowrole | ropewizard | witchpossess | processsalvage | slavechief | thiefsteam | streambarge | badge | budgetgrant | giantsupport | supposeticket | trickidol | idiotheat | heartbutter | bufferreligious | regionalexecute | exclusivedial | diagabroad | broadbreach | branch | beach | bitch| brandspan | scam | spamunified | uniformclassified | classicalimprove | increasedelay | relay revolvedraft treassurer very | ultra | super | extremely | tremendously","categories":[],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"},{"name":"英文","slug":"英文","permalink":"https://blog.bingfengs.xyz/tags/%E8%8B%B1%E6%96%87/"}]},{"title":"Markdown语法","slug":"Markdown语法","date":"2020-11-16T13:33:40.000Z","updated":"2021-10-11T13:17:36.980Z","comments":true,"path":"2020/11/16/markdown-yu-fa/","link":"","permalink":"https://blog.bingfengs.xyz/2020/11/16/markdown-yu-fa/","excerpt":"","text":"背景Markdown是一种轻量级标记语言，它以纯文本形式(易读、易写、易更改)编写文档，并最终以HTML格式发布。 这个语法的创始人的人生很传奇，感兴趣可以看看 一种轻量级的标记语言 与 HTML （HyperText Markup Language）相对（Markdown）。2004 年创建，它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML（或者HTML）文档 官网 CommonMark 作者 John Gruber &amp; Aaron Swartz 其他标记文档 reStructuredText (RST，ReST，reST) 是另一种用于文本数据的文件格式，主要用于 Python 编程语言社区的技术文档 演示 点我 优点 不要被「语言」、「标记」等字样吓住，Markdown 不是 PHP 或 Python，它的语法十分简单，也不涉及任何数学或编程知识，几乎可以称得上零门槛。 Markdown 的语法特性让人们在写作的过程中只需要专注于文字内容而并不需要特别在意排版，不让思路被打断。 易读（看起来舒服）、易写（语法简单）、易更改纯文本。处处体现着极简主义的影子。 兼容HTML，可以转换为HTML格式发布。 跨平台使用。 越来越多的网站支持Markdown。 更方便清晰地组织你的电子邮件。（Markdown-here, Airmail） 在某种程度上摆脱Word 使用者 由于在阅读和预览上的便利性，Markdown 逐渐流行，受到码农和写作者的欢迎。 支持网站 GitHub StackOverflow Reddit CSDN Segmentfault Hexo 博客园 知乎 掘金 简书 笔记工具 印象笔记 有道云笔记 为知笔记 文档 &amp; 知识库 语雀 Gitbook docsify 例子： Docker 入门 美丽新世界：linux 下的惬意生活 定投改变命运 编辑器写作Markdown，其实用一般的文本编辑器就可以，但是为了更高效的写作，可以使用一些编辑器进行写作。 在不熟悉语法的情况，有些编辑器提供一边写，一边预览结果的功能。不过，在我们熟悉了之后，预览的功能就不需要了。 Markdown 文档的后缀是 .md，我们可以用下面提及的工具来打开浏览以及编辑 Visual Studio Code 很强大的一款工具，微软开源的。当编辑一个md后缀的文件，会自动高亮，右侧可以打开预览的窗口。 Typora 这是一个所见即所得的编写工具，免费。Windows 和 Linux 平台均可安装此软件。安装插件后，可以导出为PDF，HTML，图片等格式 Cmd Markdown 在线Web写作平台，可以编写预览，导出需要注册帐号。可以作为临时渲染使用。 https://www.zybuluo.com/mdeditor# Stackedit &amp; Dillinger 这两个是国外免费的，部分高级功能付费使用，但是导出不需要注册，很方便。 https://dillinger.io/https://stackedit.io/app# 基本用法前面说过，Markdown是很简洁的一个工具，所以上手并不难。自己先看看然后动手练练写一篇文章估计就能掌握了 Markdown语法主要分为如下几大部分： 标题，段落，区块引用，代码区块，强调，列表，分割线，链接，图片，反斜杠 \\ ，符号 ` 标题#代表标题的级别，一级标题是最大的。请在井号和标题文本之间添加一个空格 # 一级标题 ## 二级标题 ### 三级标题 #### 四级标题 ##### 五级标题 ###### 六级标题 很多渲染器根据标题来生成outline的 段落段落的前后要有空行，所谓的空行是指没有文字内容。若想在段内强制换行的方式是使用两个以上空格加上回车（引用中换行省略回车） 为了兼容性，请在行尾添加HTML 的 &lt;br&gt; 标签来实现换行。 区块引用在段落的每行或者只在第一行使用符号 &gt;， 还可使用多个嵌套引用，如： &gt; 区块引用 &gt;&gt; 嵌套引用 例子： 其实全部都是我说的 ——鲁迅 代码块这个是Markdown的一大特色，毕竟是给程序员用的。在代码块里面的内容都会按照你编写的样式显示，不会进行任何改动。你可以加上代码所属的语言，渲染后会自动代码高亮。 使用方法如下： 效果如下： #include &lt;iostream&gt; using namespce std; int main() &#123; cout &lt;&lt; &quot;Hello World!&quot; &lt;&lt; endl; &#125; return 0; 强调 效果如下： 斜体 粗体 标记 列表列表分为无序和有序列表， 使用*，+，-标记无序列表。 有序列表的标记方式是将上述的符号换成数字,并辅以. 符号和文字之间有空格。序列中还能继续嵌套序列 效果如下： 无序列表 蔬菜 白菜 菠菜 水果 葡萄 苹果 有序列表 分割线三个或三个以上 * ，_ ， - 链接格式如下： [Google](https:&#x2F;&#x2F;www.google.com&#x2F;) 效果： Google 图片格式和链接部分差不多，多加一个 ! 就行 ![点我查看图片](https:&#x2F;&#x2F;233.fi&#x2F;images&#x2F;2018&#x2F;05&#x2F;13&#x2F;8fb918507932369504a9bcf7280b6136.md.jpg) 如果是本地图片，一般将图片放在MD文档的同目录下面，直接引用 ![本地图片](10.png) 调整图片大小，可以用html的语法 &lt;img src&#x3D;&quot;2.png&quot; width &#x3D; &quot;100&quot; height &#x3D; &quot;100&quot;&gt; 其他代办列表: 表示列表是否勾选状态（注意：[ ] 前后都要有空格） 并不是所有的渲染器都支持 - [] 不勾选 - [x] 勾选 不足每个东西都有它的优缺点。Markdown 也不例外。 版本众多，语法可能有所不同 每个软件(渲染器)解释不一样，最后出来的效果(HTML)样式也不一样 在需要复杂(自定义)功能时，可能无法提供。例如：改变字体颜色，只能借助HTML语法 参考 https://juejin.im/post/6844903683365289991https://www.ifanr.com/1318978https://juejin.im/post/6844903683365289991#heading-1https://github.com/younghz/Markdown","categories":[],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"Adobe 我跟你没完","slug":"Adobe-我跟你没完","date":"2020-11-12T12:46:41.000Z","updated":"2020-12-07T12:01:55.574Z","comments":true,"path":"2020/11/12/adobe-wo-gen-ni-mei-wan/","link":"","permalink":"https://blog.bingfengs.xyz/2020/11/12/adobe-wo-gen-ni-mei-wan/","excerpt":"","text":"这辈子不可能不用Adobe的软件。开源的又不会用，只有白嫖才能维持得了生活这样子。Creative Cloud 里面的软件个个都是神器，统一又好用，喔唷——超喜欢Adobe！ 玩笑归玩笑。虽然Adobe好用，但是店大欺客，对国内的用户也不是很友好。而且最近打击盗版得力度加强了(盗版太多了，人家也烦)听说思杰马克丁也代理了Adobe的软件了。。。。。。 算了，该用破解还是得用。等哪天有钱了，我就去购买Affinity的产品。不要打我 破解写这篇文章，Adobe已经出了2021版本，但是破解的程序还没跟上，只能用2020来暂时救火 但是，很尴尬的一个：Adobe已经不提供离线安装包的下载链接了。唯一的安装的方法只有先下载 Creative Cloud App，然后登录Adobe账号，在里面下载PS，AI等软件。 如果非要离线下载，网上看到一个小方法：官网联系Adobe客服，让他们发离线下载链接给你。但是我试过了，失败了。提到我已经试用过2020的版本了，我需要订阅他们的服务(先给钱)，他才给我下载链接。这个订阅是可以7天内免费取消的。但是，我感觉事情不是那么简单。。。就不理会了，自己去网上找资源。 我其实是有强迫症的，非官网的软件不用。但是现在Adobe封死了这条路，没办法，只能冒险去试试网上的其他资源。如果其他的资源我都看不上，我想我硬盘上面的2019能用到天荒地老了。 软件下载这个是放在 Google Drive，目前试了PS和AI，还行，扫毒能过去。 Adobe Photoshop 2020 http:&#x2F;&#x2F;bit.ly&#x2F;OrsZ215fa Adobe Illustrator 2020: http:&#x2F;&#x2F;bit.ly&#x2F;2O5LfMz Adobe InDesign 2020: http:&#x2F;&#x2F;bit.ly&#x2F;3367WV4 Adobe Premiere Pro 2020: http:&#x2F;&#x2F;bit.ly&#x2F;2Oafr433g Adobe After Effect 2020: http:&#x2F;&#x2F;bit.ly&#x2F;2OsL32Fz 来自Github：https:&#x2F;&#x2F;github.com&#x2F;Cratobi&#x2F;adobe2020 破解程序 https://www.cybermania.ws/software/adobe-cc-2019-2020-genp-universal-patch-v-2-5/ 替代目前先整理一下可以替代Adobe的软件。但是目前弃用Adobe是不可能，首先学习成本就摆在这里。其次，目前没有哪个厂商，能像Adobe产品线这么广的，Adobe每个产品界面逻辑都很类似，了解一个之后，去上手另一个没多大问题。 注意：下面的替代方案看似很多很美好，但是能不能经得起考验还有待研究。毕竟，平面设计Adobe排第二，这世界上可能没人敢说第一。 这个大佬整理的部分可以替代Adobe的软件： https://zhuanlan.zhihu.com/p/70057680 https://www.patreon.com/posts/adobe-software-26834357 图里面都是可以替代的软件：蓝色是免费的黄色是单次买断的(长期用比Adobe的订阅付费简直不要太良心) 后话Adobe，我求求你做个人吧","categories":[],"tags":[{"name":"破解","slug":"破解","permalink":"https://blog.bingfengs.xyz/tags/%E7%A0%B4%E8%A7%A3/"},{"name":"设计","slug":"设计","permalink":"https://blog.bingfengs.xyz/tags/%E8%AE%BE%E8%AE%A1/"}]},{"title":"RFID相关","slug":"RFID相关","date":"2020-10-23T13:11:00.000Z","updated":"2021-02-24T14:52:36.908Z","comments":true,"path":"2020/10/23/rfid-xiang-guan/","link":"","permalink":"https://blog.bingfengs.xyz/2020/10/23/rfid-xiang-guan/","excerpt":"","text":"声明：本文仅作爱好研究使用，本人不对任何任何设备或软件使用后果负责 入门卡片的基本知识 卡的类型跟外观没有绝对关系的，下面两张卡都是IC卡(协议标准：ISO 14443A) 目前我将卡的类型简单分为 IC(高频) 和 ID(低频) 卡。当然，卡的种类肯定比这个复杂，但是在日常中够用了。 可以参考这个博客 Lzywi’Blog 简单区分的方法： 光照法 看卡里面的线圈，圆形大多是ID卡，方形大多是IC卡 NFC法 拿一部带有NFC功能的手机打开NFC，卡片靠近手机会响的是IC卡，不会响的是ID卡 当然，像挂钥匙扣那种的卡，我是直接怼到PM3上去辨别的 高频卡频率：13.56MHZ Mifare S50(简称M1) 协议标准：ISO 14443A 每张卡有独一无二的UID号，可保存修改数据,常见学生卡，饭卡，公交卡，门禁卡 M1卡科储存的数据大小为8k，分为16个扇区，每个扇区分4个块，每个块为16个字节，以块为存取单位。每个扇区都有独立的一组密码及访问控制，每张卡有唯一的一个32位的序列号。每个扇区的0,1,2块为数据块，用来存储数据，第3块为控制块，包括了密A、存取控制、密码B 每张卡的第0扇区的第0块用来存放厂商代码，不可更改 扇区0 03332801198804008500b42ef0bb6aa8 块0 &#x2F;&#x2F;厂商代码，不可更改 00000000000000000000000000000000 块1 &#x2F;&#x2F;数据块 00000000000000000000000000000000 块2 &#x2F;&#x2F;数据块 ffffffffffffff078069ffffffffffff 块3 &#x2F;&#x2F;密码A（6字节），存储控制（4字节），密码B(6字节) 扇区1 00000000000000000000000000000000 块4 &#x2F;&#x2F;除了第0扇区稍有不同，其他15个扇区结构完全一样 00000000000000000000000000000000 块5 00000000000000000000000000000000 块6 ffffffffffffff078069ffffffffffff 块7 . . . 扇区15 00000000000000000000000000000000 块60 00000000000000000000000000000000 块61 00000000000000000000000000000000 块62 ffffffffffffff078069ffffffffffff 块63 Mifare UltraLight（简称M0） 低成本卡，出厂固化UID，可储存修改数据，常见地铁卡，公交卡 Mifare UID（简称UID卡） M1卡的变异版本，可修改UID，国外叫做中国魔术卡，可以用来克隆M1 S50的数据。一般S50卡是不允许修改卡号的，但是在我大天朝，还有什么不行，于是UID卡出现了 M1 UID卡是针对M1 S50卡特制的变种卡，用起来和M1 S50完全一样，只是多了一个功能，就是0扇区块的数据可以随意修改。因此UID号也可以随意修改，厂家信息也可以随意修改。UID卡修改0扇区0块数据是靠指令进入工厂模式，可以直接对全卡任何数据编辑，不需要密码即可读写卡，同时不怕写坏卡，即使写错0块，写坏扇区控制字，也可以随时修复回来，不影响后续使用。 FUID卡 FUID卡是针对UID卡做的优化。新的读卡系统，通过检测卡片对特殊指令的回应，可以检测出UID卡，因此可以来拒绝UID卡的访问，来达到屏蔽复制卡的功能。FUID可以修改0块，但只可以修改一次，写错也没办法更改，也不能重复利用。修改后和M1卡完全一样，很难被屏蔽检测 CUID卡 CUID卡是针对FUID卡做的优化。CUID卡可以重复修改0块，但是它和UID卡的区别是，UID卡是通过指令修改0块，CUID使用的是常规密码验证的方法写0块，其他扇区和标准M1卡相同。缺点是，还是有可能会被检测出来，而且如果不小心写错了UID号的校验位导致无法读卡，没办法修复只能报废。 低频卡频率：125KHZ EM4XX（简称ID卡） 常用固化ID卡，出厂固化ID，只能读不能写（低成本门禁卡，小区门禁卡，停车场门禁卡） ID卡是我们的俗称，内部芯片的全名叫做EM4100或EM41XX。每张卡出厂就有独一无二的ID号，不可改写。 T5577（简称可修改ID卡） 可用来克隆ID卡，出厂为空卡 T5577 卡是一种可以写入数据可以加密的低频卡。最特别之处是，写入ID号可以变身成为ID卡，写入HID号可以变身HID卡，写入Indala卡号，可以变身Indala卡。T5577一共有8个块，每个块只能存8位数。第0块是用来设置卡片类型和调制方式的，决定了卡片是ID卡还是HID卡，如果随意修改会导致读不到卡。第 7 块最后一个块，在没有加密时是数据区，加密后，其数据就变成了密码。结构如下 0x00148040 00000000000101001000000001000000 [0] 0xFF94C004 11111111100101001100000000000100 [1] 0xA5464942 10100101010001100100100101000010 [2] 0xFFFFF808 11111111111111111111100000001000 [3] 0x0001C000 00000000000000011100000000000000 [4] 0x0001C000 00000000000000011100000000000000 [5] 0x0001C000 00000000000000011100000000000000 [6] 0x0001C000 00000000000000011100000000000000 [7] 0块: 00148040 无密； 00148050 加密； HID ProxⅡ（简称HID卡） 美国常用的低频卡，可擦写，不与其他卡通用 0块: 00107060 无密； 00107070 加密； Proxmark3关于 proxmark 的作用，自己 Google 一下就行，资料很多的。这个东西简称 PM3 硬件下图是Proxmark3 Easy, 读卡分为高频区和低频区 高频卡推荐放设备后面： 软件Firmware + Client + Drive 下载访问下面的论坛，大神已经把东西准备好了，而且2020年还在更新，点赞！ http://www.proxmark.net/forum/viewtopic.php?id=3975 Official 和 Iceman 都行(32和64我估计也是没有区别的)。挑自己喜欢的吧 东西是放在Google Drive的，准备好梯子。下载20几兆那个就行，挑日期最近的 下载后，驱动，固件，软件都在压缩包了。 先更新驱动，一般Windows Update 能搞定，搞不定，自己在设备管理器里指定inf文件的位置即可。 然后，升级固件 Windows 驱动安装对于Windows10，无需自己手动安装驱动，Windows Update 会自动帮你搞定 For windows 8 and above you are done, the auto installed Microsoft driver should be fine Windows 其他版本，请参考官方说明(还在用Win7，是多大的情怀啊) https://github.com/Proxmark/proxmark3/wiki/Windows 驱动安装好后，在设备管理器可以看到COM5(一般是这个)这个设备已经准备就绪 更新PM3固件 After downloading and extracting a precompiled build you need to flash your Proxmark3 with the correct firmware. This is done by first adjusting the com port inside “FLASH - All.bat” and then running it. 直接双击解压后的FLASH - All.bat文件。注意，不要中断PM3的连接，刷过机的都知道，有几率变砖的。。。。。。 看到提示“成功”字样的英文，那就是可以了 查看固件版本，固件版本是根据固件的日期来看的 hw version 测试PM3是否连接正常请注意，如果你的设备管理器中PM3的COM口不是5，请在Go.bat文件中修改该端口，修改哪边都行，确保bat文件的COM口和设备管理器里的COM编号是一样的 直接双击Go.bat打开命令行终端。我这里是Iceman的固件，成功连接是有一大段提示的。如果有failed字样，再检查是不是哪里搞错了。 放一张高频或低频卡在对应的读写区，然后hf search 或 lf search,测试连接的正确性 或者，测试高低频的电压(测试天线的谐振电压时，天线周围不能放置卡片或者金属，否则测量结果会偏低)天线的电压丝毫不影响任何操作和功能，实际上高频超过 5V，低频超过 10V 就可以正常使用。只是电压越高读卡距离越远。 破解低频卡思路：低频卡一般是没有密码。直接拷贝复制就行 方法 1 读取低频卡 ID lf em4x em410xwatch OR lf em em410xwatch 专用读ID卡，灵敏度高，适合读不出ID的卡片。注意，这个指令会一直搜索卡片直到读出ID为止，如果没有放卡或者不是ID卡，会无法停止，需要重新插拔PM3 先执行命令后放卡。记录 ID 的同时需要注意记录 clock rate 的值，一般都是 64。 小知识：em4x 是大部分固定 ID 低频卡的芯片型号，一般卡片上印有一串数字的就是固定 ID 卡，出厂固化独一无二的 ID 号码，不可修改。 写 写 ID卡 是单向的，无法得知是否成功 lf em4x em410xwrite 12345bcdef 1 64 OR lf em em410xwrite 12345bcdef 1 64 把 ID 号写入 T5577 卡中，长度是 10 位 hex ，示例中 12345bcdef 是 ID，后面“1”是 T55X7 的卡片类型，64 是 clock rate 方法 2 查看ID lf search，记下 EM TAG ID 这个可以找到固定ID的卡片类型，主要是 ID，HID，Indala这三种，如果是加密的5577还有加密的4305卡是读不到的。 复制 lf hid clone 0000001450 5577 卡lf t55xx detect 检测卡片lf t66xx dump 读取卡片数据注意，如果是加密 5577 是无法检测配置，或者读出的块全部都是一样的数据。 取消5577卡的加密lf t55xx wr 0 001480040 00000000 0：代表写0块，0块是控制是否加密的控制块 001480040： 这个是写入0块的信息，这个代码是不加密的意思 00000000： 这个是卡片第7块的密码写卡是单向的，无法看出是否成功 高频卡思路：一般要先知道16个扇区中的一个密码(一般是0扇区的密钥)，然后用漏洞获取全部扇区的密码和数据 求一密 用PM3内置的默认密码尝试破解 hf mf chk *1 ? t 不是默认密码可以尝试PRNG漏洞获取0扇区密钥，过程可能有点久。不一定能成功 hf mf mifare 某些卡运行这个命令，运行结果每条都是 Mifare: Can&#39;t select card 这种提示，相当恶心，很大几率失败。偶尔过程中会提示英文“Can’tselect card” 这是 BUG 提示，请忽视。如果运行中 ABCD 在不断闪烁，表示可以破解，等待结果即可。对于不支持的卡片，无论如何调整卡片位置，LED 都不会有变化，最终 PM3 会出现复位掉线。 上面两种方法都不行，那就用嗅探方法试试。 需要去现场，把天线置于卡片和读卡机之间嗅探通讯数据，解出一个扇区密匙。 嗅探获得密码不能指定，是读卡机访问了卡片的哪个扇区，才可以获得那个扇区的密码。在无法获得其他密码的时候，只需复制这几个扇区的数据即可使用，不需要复制整张卡片的数据。 M1 卡在读卡机和卡片交互数据和密码时，使用了 crapto1 算法。即便同一张卡，同样的密码，嗅探得到交互数据也是随机的，但是只要获得后面提到的四组随机数组，以及 UID，就可以反解出密匙。 hf mf sniff 点击开始嗅探之后，PM3 高频读卡区夹在卡片和读卡机之间，然后刷卡。三者之间都不能贴的太近，两边不能有金属遮挡。 如上图，刷一次卡后，拿开等待几秒，电脑会返回嗅探到的数据。 注意寻找 60 或者 61 开头的数据，60 含义是使用 A 密码访问，61 是使用 B 密码。 开头是 RDR 的是读卡机发出的指令，TAG 则是卡片发出的指令。 红圈中表示读卡机访问了第 21 个块。21 是十六进制，转换成十进制是 33 块 第一个方框“b2a6de1d”是卡片 UID 第二个方框“f80eee3c”是 tag challenge(卡片挑战数) 第三个方框“4ec88403”是 reader challenge(读卡器挑战数) 第四个方框“d2dd5180”是 reader respones(读卡器响应数) 第五个方框“2bb17b5e”是 tag respones(卡片回应数) 然后，用这个软件，计算出密码 去现场嗅探，是迫不得已的情况下使用的。带着笔记本，连接PM3，然后在读卡机地点不停的尝试，保安不注意你都难。。。。 PM3 有个离线嗅探的功能，能让PM3暂时断开笔记本的连接，然后进行嗅探 hf 14a snoop hf list 14a http:&#x2F;&#x2F;pm3.echo.cool&#x2F;index.php&#x2F;2018&#x2F;08&#x2F;21&#x2F;pm3%E7%A6%BB%E7%BA%BF%E5%97%85%E6%8E%A2%E8%AF%B4%E6%98%8E&#x2F; （待续） 还有一种方法 需要去现场 ，把天线模拟成 M1 卡，诱发读卡机读卡，并且捕捉读卡机发出的验证密匙，不能离线操作，监听完按按钮退出。 hf mf eclr清除缓存 在无卡监听读卡器之前，务必要清除缓存。 hf mf sim x 1.读卡器使用固定密码读取某一扇区 直接使用&quot;hf mf sim i x&quot;即可使PM3进入嗅探模式。当PM3采集了足够的数据之后即可自动计算出密码 2.读卡器通过UID实现一卡一密 使用&quot;hf mf sim u xxxxxxxx i x&quot;(xxxxxxxx此次使用的UID)来获得某一UID下的读卡密码。这样就可以进行选择明文攻击，对于破解一些简单的一卡一密算法还是很有帮助的 https:&#x2F;&#x2F;www.cnblogs.com&#x2F;wh201906&#x2F;p&#x2F;12838573.html （待续） 验证检测出的密码正确性。现场嗅探之后，切记一定要用下面的命令检查密码的正确性。 别问为什么检查，问就是被坑过 hf mf chk 0 A ffffffffffff ， “ffffffffffff” 是检测出的密码 如果提示 No valid keys found.，有可能是破解出的密码错误，或者是 存储控制 不是默认的 ff078069。 知一密求全密hf mf nested 1 0 A ffffffffffff //使用 nested 时注意要选择正确的卡片容量。1代表1K卡，可选1-4K；0是0扇区，A密钥，然后加上上一步破解出的密码 看到这个结果，你就基本成功可以偷笑了 RES 结果如果为1，代表密码正确； 如果是0，代表密码无效一般B密码不正确不影响数据的读取，A密码不正确，则会影响。A密码不正确，可以再 nested 一遍有极少的卡片不支持一密求多密的操作，需要依靠嗅探的步骤。 导出密码导出后会在根目录生成一个dumpkeys.bin的文件，里面存放了16个扇区的密钥（16进制）hf mf nested 1 0 A ffffffffffff d 导出数据上面只是导出密码而已，还有数据我们也要导出hf mf dump 转换成eml格式生成的 bin 文件可以中支持十六进制的软件打开。附一个二进制查看器下载 而Proxmark3不能识别、使用bin文件，需要转换成eml格式。 eml格式的文件可以Notepad直接打开查看script run dumptoemul.lua命令运行后，会直接在根目录下生成一个 eml 文件 复制原卡数据到新的UID卡上hf mf cload 84EAC416 ，84EAC416 是上面步骤生成的eml文件名称，不加后缀兼容性好的UID卡，写入成功会返回消息兼容性不好的，写入会有错误提示，但是不影响使用 写卡是没有回显的，只能通过读取的方式查看有没有读取成功，我是通过hf search 查看两张卡的UID，如果一致，那就是成功了。或者直接读取扇区的数据，查看是否一致。 修改IC卡数据先占个坑位，后续有时间补上 其他 官方旧版GUI软件说明 固件版本 固件从老到新排列：r486→756→816→848→852→1.0.0→2.0.0→2.5.0 2.5 大概是15年的了 现在2020已经到3.1了 修改 UID 卡的 UID hf mf csetuid 1234bcdf 修改 UID 卡的 UID 为 1234bcdf，UID 是四个字节。 复制5577卡后加密锁卡 能看到最后，就放一个我的Clients，里面有几个GUI客户端。Windows Security 扫描过了，放心用。 下载 一些命令 hf mf （MIFARE卡的相关命令...） help显示帮助 dbg设置默认调试模式 rdbl读取MIFARE classic卡的区块数据 rdsc读取MIFARE classic卡的扇区数据 dump导出MIFARE classic卡的数据到二进制文件 restore从二进制文件恢复数据到空白的MIFARE classic卡 wrbl改写MIFARE classic卡的区块数据 chk测试MIFARE classic卡的各个区块KEY A&#x2F;B mifare基于PRNG漏洞，执行mifare “DarkSide”攻击操作 nested测试嵌套认证漏洞，基于一个已知Key，获取都有扇区Keys sniff嗅卡片与读写器之间的通讯(等同于hf 14a snoop) sim模拟一个MIFARE卡片 eclr清除仿真内存的各区块数据 eget获取仿真内存的各区块数据 eset设置仿真内存的各区块数据 eload从导出的文件加载仿真数据 esave导出保存仿真数据到文件 ecfill利用仿真器的keys来填补仿真内存 ekeyprn打印输出仿真内存中的keys csetuid直接设置可改UID卡的UID csetblk把对应区块数据写入UID卡 cgetblk读取UID卡对应区块数据 cgetsc读取UID卡对应扇区数据 cload写入dump数据到UID卡。注意 csave保存UID卡数据到文件或者仿真内存 进阶PM3 类型下面两篇文章写得很好，大家可以参考一下： https://ulyc.github.io/2020/01/18/%E5%B8%B8%E8%A7%81RFID%E5%8D%A1%E7%89%87%E4%BB%8B%E7%BB%8D-%E7%A0%B4%E8%A7%A3%E6%80%9D%E8%B7%AF-%E5%8F%8A-Proxmark3%E7%AE%80%E4%BB%8B/ 快照备份：点我下载 https://www.wasyoung.com/2019/11/30/337/ 快照备份：点我下载 目前国内最常见的 Easy 的版本，但是大佬都在用最新的 rdv4，导致我后面编译和破解挖了不少坑，都是穷惹得祸。。。 编译最近要破解一张电梯 IC 卡，但是入门里面的方法不奏效，想去实地嗅探又没办法，于是有了这个 【进阶】的部分。（虽然最后还是没有搞出密码） 这里我们尝试在 Kali 里编译冰人的 RRG 固件。Kali 是运行在虚拟机的。 下面是 repo 的地址，里面的说明文档把基本的都提到了。 https://github.com/RfidResearchGroup/proxmark3 编译可以直接按照说明文档来。 https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Installation_Instructions/Linux-Installation-Instructions.md https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Use_of_Proxmark/0_Compilation-Instructions.md 其实已经有开发者提供预先编译好的固件，但是我的设备是 Easy 版本，flash 只有 256k，预编译的不适合，刷不进去，然后一直是 Offline 状态。 重要：如果你也是 256k 闪存的 PM3，在编译前要修改一下配置文件。 如下： https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Use_of_Proxmark/4_Advanced-compilation-parameters.md#256kb-versions 在 Makefile.platform 文件中， 添加如下内容 PLATFORM&#x3D;PM3GENERIC PLATFORM_SIZE&#x3D;256 STANDALONE&#x3D; SKIP_HITAG&#x3D;1 SKIP_FELICA&#x3D;1 然后，编译的命令不是简单的 make 或者 make all, 请使用 make PLATFORM=PM3GENERIC.编译完成之后，就可以使用 flash 等命令刷入固件 无法连接情况的解决方法有时候由于刷入错误的固件等原因，导致 PM3 连接电脑没有反应，识别不出。这时不要慌。先把 USB 连接线断开，然后按住 PM3 上面的按钮，然后再接入 usb 线，按住按钮直到电脑识别出来。 https://forum.dangerousthings.com/t/proxmark3-easy-flash-issues/7889/9 使用方法这里有所有命令的使用方法，这些命令跟官方的使用有些不同，遇到不确定的用法，后面加个 -h 参数来查看用法，很详细的。 https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/commands.md 但是我现在还没有找到官方固件中常用的 mifare、 snoop 等命令。后面再继续研究吧。 一种没有漏洞 IC 卡破解思路这张 IC 卡 只有 1，2 两个扇区加密，其他都是默认密码，用 nested 破解不出。于是试着从 windows 转战 Linux 平台。Windows 用官方的固件，到 Linux 用了 RRG 的固件。但是 Kali 里面也是一样破解不出，后来在 RRG 的 issues 里看到这个： https://github.com/RfidResearchGroup/proxmark3/issues/133 https://github.com/Proxmark/proxmark3/issues/899 作者是这样形容这种卡的 There has been in the wild some clones, like Fudan and some uid changeable card which doesn’t have the NACK bug and they use somewhat odd a fixed nonce. Rendering all current Mifare classic attacks useless. 如果你有幸遇到这种卡，用 hf 14a info 命令看是这样的： 作者为这种卡开发了一个新的命令来破解：hf mf staticnested。但在我的机器上也是破解不出，运气太不好了。 搞大事情后面计划用树莓派安装 Kali，然后接上 PM3 来搞现场嗅探，就不用带笔记本这个笨大件了。一个充电宝，一个派，一个PM3，然后 SSH 连接派来操作，想法可以。再挖个坑，后续更新","categories":[],"tags":[{"name":"破解","slug":"破解","permalink":"https://blog.bingfengs.xyz/tags/%E7%A0%B4%E8%A7%A3/"},{"name":"RFID","slug":"RFID","permalink":"https://blog.bingfengs.xyz/tags/RFID/"}]},{"title":"假装Windows在更新","slug":"假装Windows在更新","date":"2020-10-21T11:46:20.000Z","updated":"2020-10-21T14:03:52.660Z","comments":true,"path":"2020/10/21/jia-zhuang-windows-zai-geng-xin/","link":"","permalink":"https://blog.bingfengs.xyz/2020/10/21/jia-zhuang-windows-zai-geng-xin/","excerpt":"","text":"今天逛其他博客，发现了一个很好玩的东西。 第一眼以为我Windows在更新。回过神来，我用的Linux，哪来的更新。。。。。。不得佩服这个作者的脑洞。 这么好的东西，我写不出来，只能白嫖了。所以，F12大法启动，把源代码和转圈的woff文件嫖了过来。 源代码下面是源代码，记得把woff文件放在同一个目录下woff文件下载： woff文件 &lt;!DOCTYPE html> &lt;!-- saved from url=(0018)https://myheod.cn/ --> &lt;html lang=\"zh-cn\"> &lt;head>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"> &lt;link rel=\"shortcut icon\" href=\"https://myheod.cn/favicon.ico\"> &lt;title>网站已迁移&lt;/title> &lt;style> @keyframes bgcolor &#123; /* main code 0% &#123;background-color: #000000; &#125; 10% &#123;background-color: #4080c4; &#125; 20% &#123;background-color: #4040c4; &#125; 30% &#123; background-color: #8040c4; &#125; 40% &#123; background-color: #c44080;&#125; 50% &#123;background-color: #c44040; &#125; 60% &#123; background-color: #c48040; &#125; 70% &#123; background-color: #80c440;&#125; 80% &#123;background-color: #40c440; &#125; 90% &#123; background-color: #40c480; &#125; 100% &#123;background-color: #000000; &#125; */ 0% &#123;background-color: #000000; &#125; 50% &#123;background-color: #4080c4; &#125; 100% &#123;background-color: #000000; &#125; &#125; html &#123; height: 100%; &#125; body &#123; -webkit-font-smoothing: antialiased; animation-delay: 0s; animation-duration: 30s; animation-iteration-count: infinite; animation-name: bgcolor; background-color: #FFFFFF; color: white; font-family: \"Segoe UI\", \"Microsoft Yahei UI\"; height: 100%; margin: 0px; cursor: none; /*禁止鼠标光标*/ /*禁止选中文字*/ -moz-user-select:none; /*火狐*/ -webkit-user-select:none; /*webkit浏览器*/ -ms-user-select:none; /*IE10*/ -khtml-user-select:none; /*早期浏览器*/ user-select:none; &#125; @font-face &#123; font-family: \"Windows 8 Boot\"; src: url(\"Win8Boot.woff\"); &#125; .content &#123; position: absolute; text-align: center; top: 50%; transform: translateY(-50%); width: 100%; &#125; #animation &#123; font-family: \"Windows 8 Boot\"; font-size: 32pt; &#125; #description &#123; margin-top: 18pt; font-size: 18pt; &#125; &lt;/style> &lt;/head> &lt;body> &lt;div class=\"content\"> &lt;div id=\"animation\">&lt;/div> &lt;div id=\"description\">正在更新您的Windows&lt;br>请不要关闭系统&lt;/div> &lt;/div> &lt;script language=\"javascript\"> const firstCode = 0xe052; const lastCode = 0xe0cc; const frameRate = 30; const startTime = new Date() const updateFrame = () => &#123; const getCode = () => (new Date()-startTime)*frameRate/1000%(lastCode-firstCode)+firstCode; document.getElementById(\"animation\").innerText = String.fromCharCode(getCode()) requestAnimationFrame(updateFrame) &#125; updateFrame() &lt;/script> &lt;script type=\"text/javascript\"> /*禁止鼠标右键*/ document.oncontextmenu = function()&#123; return false; &#125; &lt;/script> &lt;/body> &lt;/html> 效果在线Demo：点我 把界面全屏就行了，又可以有借口摸鱼了 其他 woff文件的介绍如下： https://developer.mozilla.org/zh-CN/docs/WOFF woff文件打开方式： 百度还是有些良心的应用 http://fontstore.baidu.com/static/editor/index.html woff转tif https://convertio.co/zh/woff-ttf/ 其他的实现方法： 纯 HTML/CSS 高仿 Win10 加载动画 https://www.cnblogs.com/henrylin/p/13124866.html","categories":[],"tags":[{"name":"Html","slug":"Html","permalink":"https://blog.bingfengs.xyz/tags/Html/"}]},{"title":"优秀的个人博客及网站","slug":"优秀的个人博客及网站收藏","date":"2020-10-16T14:32:49.000Z","updated":"2021-10-11T13:25:07.950Z","comments":true,"path":"2020/10/16/you-xiu-de-ge-ren-bo-ke-ji-wang-zhan-shou-cang/","link":"","permalink":"https://blog.bingfengs.xyz/2020/10/16/you-xiu-de-ge-ren-bo-ke-ji-wang-zhan-shou-cang/","excerpt":"","text":"IT技术 如有乐享 简评：资本家的羊毛薅起来 https://51.ruyo.net/ similarsites 简评：找类似的网站，以一寻百。拓展自己的认知 https://cn.similarsites.com/ 设计综合网站这些网站可以帮助你获取设计灵感 Behance 简评：Adobe旗下的设计师交流网站，里面大神是少不了的。要梯子，有点小卡 https://www.behance.net Dribbble 简评：要梯子，有点小卡 https://dribbble.com/ Deviantart 简评：从名字就能看出很不一样，很新奇，画风我很喜欢 https://www.deviantart.com/ 设计达人 简评：中文设计网站，有很多教程 https://www.shejidaren.com/ 素材 flaticon 简评：各种png，图标，甚至简历模板都能在这里找到，关键很多都是免费的。 https://www.flaticon.com/ freepik 简评：类似上面那个，我怀疑这两家有PY交易。里面东西也很不错 https://www.freepik.com/ nounproject 简评：清一色的ICON图标，但是完全免费，可以下载SVG然后自己编辑，点赞 https://thenounproject.com/ pngimg 简评：没有背景的PNG图片 http://pngimg.com/ 配色 渐变色配色 简评：好看的渐变色配色例子网站。这个博客的渐变色就是来自这个网站 https://webgradients.com/ Adobe官方配色工具 简评：Adobe 官方出品，免费使用，后台有一堆大神调好的sample可以直接用 https://color.adobe.com/zh/create/color-wheel 工具 文字云 简评：老牌，功能强大 https://wordart.com/ 地图素材 简评：有时候需要用到地图轮廓的素材，这个网站能下载全世界的轮廓，有多种格式样式可以保存。 https://d-maps.com/index.php?lang=zh 导航有了这些，那些流氓导航首页可以洗洗睡了 虫部落·快搜简评：很稳的一个搜索集合，实不相瞒，我喜欢它的搜图功能。嘿嘿 https://search.chongbuluo.com/ 狼牌工作网址导航简评：简直一个大杂烩。软件，设计相关的收藏导航都有，简直我的福音。 https://www.volf.club 老司机导航简评：如名字，值得看看，能找到那个啥的 http://www.giffox.com/ 读书 sobooks 简评：推荐的书都很好，而且能直接下载。一个靠爱发电的网站 https://sobooks.cc/ 二次元 蜜柑计划 简评：新出的番剧基本能下载，老番去动漫花园吧 https://mikanani.me/ mangapanda 简评：用英文看漫画吧，一边娱乐一边学习英语 http://www.mangapanda.com/ toomics 简评：个人作者的连载漫画，部分收费，可以猎奇看看。 https://toomics.com/en/ 猎奇 减压 简评：没事敲敲键盘，减减压 http://magickeyboard.io/ 射击打字 简评：可以联系敲键盘的速度，啪啪啪，青轴走起 https://zty.pe/ 生活 肌肉百科 简评：身体每块肌肉的锻炼方法 https://musclewiki.com/","categories":[],"tags":[{"name":"网站","slug":"网站","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%AB%99/"}]},{"title":"Samba","slug":"Samba","date":"2020-10-08T11:35:14.000Z","updated":"2020-10-14T14:54:57.601Z","comments":true,"path":"2020/10/08/samba/","link":"","permalink":"https://blog.bingfengs.xyz/2020/10/08/samba/","excerpt":"","text":"配置现在问题还没有解决，只用了临时的配置顶用先。 参考文章： https://cshihong.github.io/2018/10/18/Samba%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/ [global] #全局参数。 workgroup &#x3D;MYGROUP #设定Samba Server所要加入的工作组或域 security &#x3D; user #安装验证方式，总共有四种 passdb backend &#x3D; tdbsam #定义用户后台类型，总共有三种 printing &#x3D; cups printcap name &#x3D; cups load printers &#x3D; yes #设置在Samba服务启动时是否共享打印机设备 cups options &#x3D; raw #打印机的选项 [homes] comment &#x3D; Home Directories #描述信息 valid users &#x3D; %S, %D%w%S #有效访问用户 path &#x3D; ~ #文件路径 browseable &#x3D; No #指定共享信息是否在“网上邻居”中可见 read only &#x3D; No #是否只读 inherit acls &#x3D; Yes [printers] comment &#x3D; All Printers path &#x3D; &#x2F;var&#x2F;tmp #共享文件的实际路径。 printable &#x3D; Yes create mask &#x3D; 0600 browseable &#x3D; No [print$] comment &#x3D; Printer Drivers path &#x3D; &#x2F;var&#x2F;lib&#x2F;samba&#x2F;drivers write list &#x3D; root create mask &#x3D; 0664 directory mask &#x3D; 0775 server string &#x3D; samVer %v #可以不填， %v 表示显示 Samba 的版本号 netbios name &#x3D; sambaServer #samba 服务器的名称 interfaces &#x3D; lo eth0 192.168.12.2&#x2F;24 192.168.13.2&#x2F;24 # 设置samba监听那些网卡，可以写网卡名，也可以是IP地址 hosts allow &#x3D; 127.193.168.1 192.168.10.1 #多个参数空格隔开，可以一个IP，或整个网段 hosts allow &#x3D; 172.17.2.0&#x2F;255.255.0.0 #整个网段 hosts allow &#x3D; @example.com log file &#x3D; &#x2F;var&#x2F;log&#x2F;samba&#x2F;log.%m # %m 表示主机名，表示对每台访问Samba Server的机器都单独记录一个日志文件。如果pc1、pc2访问过Samba Server，就会在&#x2F;var&#x2F;log&#x2F;samba目录下留下log.pc1和log.pc2两个日志文件。 max log size &#x3D; 50 #单位KB，0表示不限制 secruity &#x3D; user #验证方式，四种 # - share: 不需要提供用户名和口令，已弃用 # - user: 共享目录只能被授权用户访问，由Samba Server负责检查账号和密码的正确性。账号和密码要在本Samba Server中建立 # - server: 依靠其他Windows NT&#x2F;2000或Samba Server来验证用户的账号和密码,是一种代理验证。此种安全模式下,系统管理员可以把所有的Windows用户和口令集中到一个NT系统上,使用 Windows NT进行Samba认证, 远程服务器可以自动认证全部用户和口令,如果认证失败,Samba将使用用户级安全模式作为替代的方式 # - domain: 域安全级别,使用主域控制器(PDC)来完成认证。 passdb backend &#x3D; tdbsam #passdb backend就是用户后台的意思.目前有三种后台：smbpasswd、tdbsam和ldapsam。sam应该是security account manager（安全账户管理）的简写 # - smbpasswd: 过时 # - tdbsam: 该方式则是使用一个数据库文件来建立用户数据库。数据库文件叫passdb.tdb，默认在&#x2F;etc&#x2F;samba目录下. 可以使用 pdbedit 命令来建立Samba账户 pdbedit –a username：新建Samba账户 pdbedit –x username：删除Samba账户。 pdbedit –L：列出Samba用户列表，读取passdb.tdb数据库文件。 pdbedit –Lv：列出Samba用户列表的详细信息。 # - ldapsam：该方式则是基于LDAP的账户管理方式来验证用户。首先要建立LDAP服务，然后设置“passdb backend &#x3D; ldapsam:ldap:&#x2F;&#x2F;LDAP Server encrypt passwords &#x3D; yes&#x2F;no #说明：是否将认证密码加密。因为现在windows操作系统都是使用加密密码，所以一般要开启此项。不过配置文件默认已开启。 username map &#x3D; &#x2F;etc&#x2F;samba&#x2F;smbusers #说明：用来定义用户名映射，比如可以将root换成administrator、admin等。不过要事先在smbusers文件中定义好。比如：root &#x3D; administrator admin，这样就可以用administrator或admin这两个用户来代替root登陆Samba Server，更贴近windows用户的习惯。 guest account &#x3D; nobody # 设置guest用户名 [共享名] comment &#x3D; anyComment path &#x3D; &#x2F;home&#x2F;share browseable &#x3D; yes&#x2F;no #browseable用来指定该共享是否可以浏览 writable &#x3D; yes&#x2F;no #writable用来指定该共享路径是否可写 available &#x3D; yes&#x2F;no #available用来指定该共享资源是否可用 admin users &#x3D; #该共享的管理者,多个用户或者组中间用逗号隔开 valid users &#x3D; #许访问该共享资源的用户 invalid users &#x3D; #禁止访问该共享的用户 public &#x3D; yes&#x2F;no #public用来指定该共享是否允许guest账户访问 guest ok &#x3D; yes&#x2F;no #同public 修改samba密码smbpasswd 用户名 manjaro 上的问题我添加了一个新的User，但是在Windows上用这个账户一直提示无权限，只有用回Manjaro初始的第一个账号才可以。我已经把新的用户帐号添加进系统初始帐号的组里，还是一样报错。 我的是 NTFS 的外挂磁盘，不知是不是这个原因，还是Manjaro系统本身的问题？ smb.conf 配置文件留个样板，方便以后使用 # This is the main Samba configuration file. You should read the # smb.conf(5) manual page in order to understand the options listed # here. Samba has a huge number of configurable options (perhaps too # many!) most of which are not shown in this example # # For a step to step guide on installing, configuring and using samba, # read the Samba-HOWTO-Collection. This may be obtained from: # http:&#x2F;&#x2F;www.samba.org&#x2F;samba&#x2F;docs&#x2F;Samba-HOWTO-Collection.pdf # # Many working examples of smb.conf files can be found in the # Samba-Guide which is generated daily and can be downloaded from: # http:&#x2F;&#x2F;www.samba.org&#x2F;samba&#x2F;docs&#x2F;Samba-Guide.pdf # # Any line which starts with a ; (semi-colon) or a # (hash) # is a comment and is ignored. In this example we will use a # # for commentry and a ; for parts of the config file that you # may wish to enable # # NOTE: Whenever you modify this file you should run the command &quot;testparm&quot; # to check that you have not made any basic syntactic errors. # #&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Global Settings &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; [global] # workgroup &#x3D; NT-Domain-Name or Workgroup-Name, eg: MIDEARTH workgroup &#x3D; workgroup # server string is the equivalent of the NT Description field server string &#x3D; Samba Server # Server role. Defines in which mode Samba will operate. Possible # values are &quot;standalone server&quot;, &quot;member server&quot;, &quot;classic primary # domain controller&quot;, &quot;classic backup domain controller&quot;, &quot;active # directory domain controller&quot;. # # Most people will want &quot;standalone server&quot; or &quot;member server&quot;. # Running as &quot;active directory domain controller&quot; will require first # running &quot;samba-tool domain provision&quot; to wipe databases and create a # new domain. server role &#x3D; standalone server # This option is important for security. It allows you to restrict # connections to machines which are on your local network. The # following example restricts access to two C class networks and # the &quot;loopback&quot; interface. For more examples of the syntax see # the smb.conf man page ; hosts allow &#x3D; 192.168.1. 192.168.2. 127. # Uncomment this if you want a guest account, you must add this to &#x2F;etc&#x2F;passwd # otherwise the user &quot;nobody&quot; is used ; guest account &#x3D; pcguest # this tells Samba to use a separate log file for each machine # that connects log file &#x3D; &#x2F;usr&#x2F;local&#x2F;samba&#x2F;var&#x2F;log.%m # Put a capping on the size of the log files (in Kb). max log size &#x3D; 50 # Specifies the Kerberos or Active Directory realm the host is part of ; realm &#x3D; MY_REALM # Backend to store user information in. New installations should # use either tdbsam or ldapsam. smbpasswd is available for backwards # compatibility. tdbsam requires no further configuration. ; passdb backend &#x3D; tdbsam # Using the following line enables you to customise your configuration # on a per machine basis. The %m gets replaced with the netbios name # of the machine that is connecting. # Note: Consider carefully the location in the configuration file of # this line. The included file is read at that point. ; include &#x3D; &#x2F;usr&#x2F;local&#x2F;samba&#x2F;lib&#x2F;smb.conf.%m # Configure Samba to use multiple interfaces # If you have multiple network interfaces then you must list them # here. See the man page for details. ; interfaces &#x3D; 192.168.12.2&#x2F;24 192.168.13.2&#x2F;24 # Where to store roving profiles (only for Win95 and WinNT) # %L substitutes for this servers netbios name, %U is username # You must uncomment the [Profiles] share below ; logon path &#x3D; \\\\%L\\Profiles\\%U # Windows Internet Name Serving Support Section: # WINS Support - Tells the NMBD component of Samba to enable it&#39;s WINS Server ; wins support &#x3D; yes # WINS Server - Tells the NMBD components of Samba to be a WINS Client # Note: Samba can be either a WINS Server, or a WINS Client, but NOT both ; wins server &#x3D; w.x.y.z # WINS Proxy - Tells Samba to answer name resolution queries on # behalf of a non WINS capable client, for this to work there must be # at least one WINS Server on the network. The default is NO. ; wins proxy &#x3D; yes # DNS Proxy - tells Samba whether or not to try to resolve NetBIOS names # via DNS nslookups. The default is NO. dns proxy &#x3D; no # These scripts are used on a domain controller or stand-alone # machine to add or delete corresponding unix accounts ; add user script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;useradd %u ; add group script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;groupadd %g ; add machine script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;adduser -n -g machines -c Machine -d &#x2F;dev&#x2F;null -s &#x2F;bin&#x2F;false %u ; delete user script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;userdel %u ; delete user from group script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;deluser %u %g ; delete group script &#x3D; &#x2F;usr&#x2F;sbin&#x2F;groupdel %g #&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Share Definitions &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; ;[homes] ; comment &#x3D; Home Directories ; browseable &#x3D; no ; writable &#x3D; yes # Un-comment the following and create the netlogon directory for Domain Logons ; [netlogon] ; comment &#x3D; Network Logon Service ; path &#x3D; &#x2F;usr&#x2F;local&#x2F;samba&#x2F;lib&#x2F;netlogon ; guest ok &#x3D; yes ; writable &#x3D; no ; share modes &#x3D; no # Un-comment the following to provide a specific roving profile share # the default is to use the user&#39;s home directory ;[Profiles] ; path &#x3D; &#x2F;usr&#x2F;local&#x2F;samba&#x2F;profiles ; browseable &#x3D; no ; guest ok &#x3D; yes # NOTE: If you have a BSD-style print system there is no need to # specifically define each individual printer [printers] comment &#x3D; All Printers path &#x3D; &#x2F;usr&#x2F;spool&#x2F;samba browseable &#x3D; no # Set public &#x3D; yes to allow user &#39;guest account&#39; to print guest ok &#x3D; no writable &#x3D; no printable &#x3D; yes # This one is useful for people to share files ;[tmp] ; comment &#x3D; Temporary file space ; path &#x3D; &#x2F;tmp ; read only &#x3D; no ; public &#x3D; yes # A publicly accessible directory, but read only, except for people in # the &quot;staff&quot; group ;[public] ; comment &#x3D; Public Stuff ; path &#x3D; &#x2F;home&#x2F;samba ; public &#x3D; yes ; writable &#x3D; no ; printable &#x3D; no ; write list &#x3D; @staff # Other examples. # # A private printer, usable only by fred. Spool data will be placed in fred&#39;s # home directory. Note that fred must have write access to the spool directory, # wherever it is. ;[fredsprn] ; comment &#x3D; Fred&#39;s Printer ; valid users &#x3D; fred ; path &#x3D; &#x2F;homes&#x2F;fred ; printer &#x3D; freds_printer ; public &#x3D; no ; writable &#x3D; no ; printable &#x3D; yes # A private directory, usable only by fred. Note that fred requires write # access to the directory. ;[fredsdir] ; comment &#x3D; Fred&#39;s Service ; path &#x3D; &#x2F;usr&#x2F;somewhere&#x2F;private ; valid users &#x3D; fred ; public &#x3D; no ; writable &#x3D; yes ; printable &#x3D; no # a service which has a different directory for each machine that connects # this allows you to tailor configurations to incoming machines. You could # also use the %U option to tailor it by user name. # The %m gets replaced with the machine name that is connecting. ;[pchome] ; comment &#x3D; PC Directories ; path &#x3D; &#x2F;usr&#x2F;pc&#x2F;%m ; public &#x3D; no ; writable &#x3D; yes # A publicly accessible directory, read&#x2F;write to all users. Note that all files # created in the directory by users will be owned by the default user, so # any user with access can delete any other user&#39;s files. Obviously this # directory must be writable by the default user. Another user could of course # be specified, in which case all files would be owned by that user instead. ;[public] ; path &#x3D; &#x2F;usr&#x2F;somewhere&#x2F;else&#x2F;public ; public &#x3D; yes ; only guest &#x3D; yes ; writable &#x3D; yes ; printable &#x3D; no # The following two entries demonstrate how to share a directory so that two # users can place files there that will be owned by the specific users. In this # setup, the directory should be writable by both users and should have the # sticky bit set on it to prevent abuse. Obviously this could be extended to # as many users as required. ;[myshare] ; comment &#x3D; Mary&#39;s and Fred&#39;s stuff ; path &#x3D; &#x2F;usr&#x2F;somewhere&#x2F;shared ; valid users &#x3D; mary fred ; public &#x3D; no ; writable &#x3D; yes ; printable &#x3D; no ; create mask &#x3D; 0765 [mSHARE] comment &#x3D; Test path &#x3D; &#x2F;run&#x2F;media&#x2F;bing&#x2F;storagedisk&#x2F;mine_share&#x2F; public &#x3D; yes valid users &#x3D; bing writeable &#x3D; yes browseable &#x3D; yes create mask &#x3D; 0777 directory mask &#x3D; 0777","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"OneNote逃离2","slug":"OneNote逃离2","date":"2020-06-12T16:05:54.000Z","updated":"2022-04-24T14:09:27.249Z","comments":true,"path":"2020/06/13/onenote-tao-chi-2/","link":"","permalink":"https://blog.bingfengs.xyz/2020/06/13/onenote-tao-chi-2/","excerpt":"","text":"Centos新安装 无法联网今天在VMware虚拟机中安装好centos7后，发现centos默认是不联网的，联网修改设置如下：进入目录： cd /etc/sysconfig/network-scripts/ 找到网卡配置文件名，这个网卡配置文件可以通过ifconfig命令查看，我虚拟机的网卡名称为ens3 编辑 ifcfg-ens33 文件的最后一行，将 ONBOOT=no 改为 ONBOOT=yes 保存并退出，再重启一下 network：service network restart搞定 更改启动模式命令行中：vi /etc/inittabcentos仍然只有两种启动模式： multi-user.target: analogous to runlevel 3 #命令行模式 graphical.target: analogous to runlevel 5 #图形模式 通过 systemctl get-default 命令获取当前模式：（注意：这里是：systemctl 是字母“l”,不是数字1） 由上面结果可知，当前为命令行模式通过 systemctl set-default graphical.target 命令，修改启动模式前提是：你安装了图形界面 链接：https://www.jianshu.com/p/65bda1fcae52 centos 防火墙现在centos用的是 firewall-cmd, iptables 貌似淘汰了 firewall-cmd查看防火墙状态firewall-cmd --state 停止systemctl stop firewalld.service 禁止 firewall 开机启动systemctl disable firewalld.service 查看已经开放的端口firewall-cmd --list-ports 开启端口firewall-cmd --zone=public --add-port=80/tcp --permanent--zone： 作用域--permanent： 永久生效，没有此参数重启后失效 重启防火墙firewall-cmd --reloadfirewall-cmd --remove-port=9998/udp --permanent 来自 https://blog.csdn.net/zj_jim/article/details/53841516 iptables查看是否安装rpm qa | grep iptables 查看是否运行service iptables status 停止 iptables 服务/etc/init.d/iptables stop 或service iptables start 列出 iptables 规则iptables -L 检查 iptables 开机自启情况chkconfig | grep iptables 关闭自启服务chkconfig iptables off 删除 自启服务chkconfig --del iptables再次检查chkconfig | grep iptables 清除 iptables 规则iptables -F 删除某条 iptables 规则， 输入 iptables -d xxxx https://jingyan.baidu.com/article/8cdccae946963f315413cdef.html https://blog.csdn.net/banqgg/article/details/78297790 rpm 用法参看包的完整名称rpm -q 查询系统中已经安装的软件rpm -qa 查询一个已经安装的文件属于哪个软件包；rpm -qf 文件名的绝对路径 查询已安装软件包都安装到何处；软件名定义是:rpm包去除平台信息和后缀后的信息rpm -ql 软件名 查询一个已安装软件包的信息rpm -qi 软件名 查看一下已安装软件的配置文件rpm -qc 软件名 查看一个已经安装软件的文档安装位置rpm -qd 软件名 查看一下已安装软件所依赖的软件包及文件rpm -qR 软件名 对于未安装的软件包信息查询 查看一个软件包的用途、版本等信息； rpm -qpi rpm文件 查看一件软件包所包含的文件； rpm -qpl rpm文件 查看软件包的文档所在的位置； rpm -qpd rpm文件 查看一个软件包的配置文件； rpm -qpc rpm文件 查看一个软件包的依赖关系 rpm -qpR rpm文件 软件包的安装、升级、删除等 安装或者升级一个rpm包 rpm -ivh rpm文件 安装 rpm -Uvh rpm文件 更新 删除一个 rpm 包 rpm -e 软件名 如何需要不管依赖问题，强制删除软件，在如上命令其后加上 --nodeps 签名导入rpm --import 签名文件 rpm --import RPM-GPG-KEY 来自 http://blog.csdn.net/iamhuanggua/article/details/60140867 yumyum命令是在Fedora和RedHat以及SUSE中基于rpm的软件包管理器，它可以使系统管理人员交互和自动化地更细与管理RPM软件包，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。语法yum(选项)(参数)选项 -h：显示帮助信息； -y：对所有的提问都回答“yes”； -c：指定配置文件； -q：安静模式； -v：详细模式； -d：设置调试等级（0-10）； -e：设置错误等级（0-10）； -R：设置yum处理一个命令的最大等待时间； -C：完全从缓存中运行，而不去下载或者更新任何头文件。参数 install：安装rpm软件包； update：更新rpm软件包； check-update：检查是否有可用的更新rpm软件包； remove：删除指定的rpm软件包； list：显示软件包的信息； search：检查软件包的信息； info：显示指定的rpm软件包的描述信息和概要信息； clean：清理yum过期的缓存； shell：进入yum的shell提示符； resolvedep：显示rpm软件包的依赖关系； localinstall：安装本地的rpm软件包； localupdate：显示本地rpm软件包进行更新； deplist：显示rpm软件包的所有依赖关系。实例 部分常用的命令包括： • 自动搜索最快镜像插件：yum install yum-fastestmirror • 安装yum图形窗口插件：yum install yumex • 查看可能批量安装的列表：yum grouplist 安装yum install #全部安装yum install package1 #安装指定的安装包package1yum groupinsall group1 #安装程序组group1 更新和升级yum update #全部更新yum update package1 #更新指定程序包package1yum check-update #检查可更新的程序yum upgrade package1 #升级指定程序包package1yum groupupdate group1 #升级程序组group1 查找和显示yum info package1 #显示安装包信息package1yum list #显示所有已经安装和可以安装的程序包yum list package1 #显示指定程序包安装情况package1yum groupinfo group1 #显示程序组group1信息yum search string 根据关键字string查找安装包 删除程序yum remove &#124; erase package1 #删除程序包package1yum groupremove group1 #删除程序组group1yum deplist package1 #查看程序package1依赖情况 清除缓存yum clean packages #清除缓存目录下的软件包yum clean headers #清除缓存目录下的 headersyum clean oldheaders #清除缓存目录下旧的 headers 来自 http://man.linuxde.net/yum 无线网卡iwlist wifi-name scanningwifi-name : 无线网卡名字 显示出来的ESSID项的值即为无线网络的名字 来自 http://blog.csdn.net/qq_21949217/article/details/42642449 ip link set &lt;设备名&gt; up • iw - 仅支持 nl80211 标准，不支持老的 WEXT (Wireless EXTentions) 标准。如果 iw 没有显示网卡，可能是这个原因。• wireless_tools - 已经过时，但是依然广泛使用。WEXT 设备使用此工具。• wpa_supplicant - 提供 WPA/WPA2 加密支持，同时支持 nl80211 和 WEXT。 来自 https://wiki.archlinux.org/index.php/Wireless_network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) iw命令 wireless_tools命令 描述 iw dev wlan0 link iwconfig wlan0 获取连接状态 iw dev wlan0 scan iwlist wlan0 scan 扫描可用热点 iw dev wlan0 set type ibss iwconfig wlan0 mode ad-hoc 设置操作模式为 ad-hoc iw dev wlan0 connect your_essid iwconfig wlan0 essid your_essid 连接到开放网络 iw dev wlan0 connect your_essid 2432 iwconfig wlan0 essid your_essid freq 2432M 连接到开放网络的一个频道 iw dev wlan0 connect your_essid key 0:your_key iwconfig wlan0 essid your_essid key your_key 用16进制加密密码访问 WEP 加密网络 iw dev wlan0 connect your_essid key 0:your_key iwconfig wlan0 essid your_essid key s:your_key 用 ASCII 密码访问 WEP 加密网络 iw dev wlan0 set power_save on iwconfig wlan0 power on 启用省电模式 来自 https://wiki.archlinux.org/index.php/Wireless_network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) • WPA/WPA2 wpa_supplicant -i interface -c &lt;(wpa_passphrase your_SSID your_key) 来自 https://wiki.archlinux.org/index.php/Wireless_network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) 获取 IP 地址 使用 DHCP：# dhcpcd wlan0静态 IP：# ip addr add 192.168.0.2/24 dev wlan0# ip route add default via 192.168.0.1 来自 https://wiki.archlinux.org/index.php/Wireless_network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) netstatnetstat可以查看linux系统中正在使用的服务和端口情况netstat [-选项]netstat各选项参数说明： -a : 列出所有连接，服务监听，Socket信息 -c : 持续列出网络状态 #每隔一秒输出网络信息 -t : 显示TCP端口 -u : 显示UDP端口 -l : 列出当前监听服务，只显示监听端口 -p : 显示PID（进程号）和进程名称 -n : 直接使用ip地址，而不通过域名服务器(加速输出，因为不用进行比对查询) -s : 显示网络工作信息统计表 -r : 显示路由表信息 From https://blog.csdn.net/xuemeilu/article/details/52329671 netstat -ntlp //查看当前所有tcp 端口netstat -ntulp | grep 80 //查看所有80 端口使用情况netstat -an | grep 3305 // 查看所有3306 端口使用情况\\ 安装 netstatyum install net-tools 解决CentOS 7上yum update时出现的Error: Multilib version problems found.查看更新出错的提示是哪个组件重复rpm -q 组件名称 #查询有多少个，以及多余那个yum remove 组件全称 # 移除多余的那个 yum 安装找不到软件的解决方法 查看是否安装EPEL, 如果没有安装，请安装 yum -y install epel-release EPEL 是yum的一个软件源,里面包含了许多基本源里没有的软件 安装后，在/etc/yum.repos.d/ 文件中会出现 epel.repo 和 epel-testing.repo 文件 安装了，还是不能下载，请移除目前的 epel ，然后重新下载安装 接下来更新源 yum clean all &amp;&amp; yum makecache From https://blog.csdn.net/w670328683/article/details/51673757 Centos 7 禁用fastestmirror 插件vi /etc/yum/pluginconf.d/fastestmirror.confenable = 1 # 1 改為 0，禁用插件 Linux 后台不间断运行进程 命令 加 ＆退出终端后，后台进程也失效 nohup 加 命令 加 ＆退出终端后，不失效 yum install screen -y 开启ssh 切换到 ／etc／ssh ， 找到配置文件 sshd＿config， 将文件中的监听端口，监听地址前面的＃号去掉 允许远程登陆permitRootlogin yes 开启用户名密码认证登陆PasswordAuthentication yes 启动服务service sshd start 开机自启systemctl enable sshd.service 树莓派树莓派静态ip 使用 ssh 登陆，使用以下命令设置静态 ip。sudo nano /etc/dhcpcd.conf 在 dhcpcd.conf 后添加以下内容： interface eth0 static ip_address&#x3D;10.12.8.124&#x2F;24 static routers&#x3D;10.12.8.1 static domain_name_servers&#x3D;202.102.152.3 114.114.114.114 保存后重启树莓派。sudo reboot 作者：科技爱好者链接：https://www.jianshu.com/p/b0e6d066d6b6 WiFi 静态IP 确认wlan0 网卡是否激活, 如果没有激活,即使配置了wifi也不能连上网. 扫描wifi: sudo iwlist wlan0 scan wlan0 Interface doesn’t support scanning : Network is down 如果显示这样表示你的网卡处于关闭状态 此时需激活网卡 sudo ifconfig wlan0 up 如果出现以下错误： sudo ifconfig wlan0 up SIOCSIFFLAGS: Operation not possible due to RF-kill 则： sudo rfkill unblock wifi sudo rfkill unblock all sudo rfkill list 再次扫描wifi 此时应该能收到wifi 设置wifi名称及密码 WiFi 名称密码等信息： sudo nano /etc/wpa_supplicant/wpa_supplicant.conf 设置静态消息： sudo nano /etc/dhcpcd.conf interface eth0 设置的是有线静态ip interface wlan0 设置的是无线静态ip https://askubuntu.com/questions/62166/siocsifflags-operation-not-possible-due-to-rf-kill https://www.jianshu.com/p/b437558dd028 WiFi 连接 操作https://www.jianshu.com/p/e22331d62a16 iwconfig 如果出现了wlan0，那说明网卡已经正常工作了。 如果这里的显示不正常，请安装连接wifi必要的包 sudo apt-get install wireless-tools wpasupplicant firmware-realtek 设置wifi 输入如下命令可以搜索附近所有可连接的 Wifi AP： pi@raspberrypi:~ $ iwlist wlan0 scan | grep SSID 确定树莓派可以检测到你建立的Wifi AP之后，按照如下方法配置 使用如下命令获得 wifi 设置 wpa_passphrase 的 SSID名称和密码。回显如下：pi@raspberrypi:~$ wpa_passphrase SSID password network&#x3D;&#123; ssid&#x3D;&quot;SSID&quot; #psk&#x3D;&quot;password&quot; psk&#x3D;2f6a0beddf2f0588ee426b0c3a0e3d9a523bb07a05cb857f85d826da80fa75c4 &#125; 复制这段回显并保存到自己的配置文件中：pi@raspberrypi:~$ sudo vi /etc/wpa_supplicant/wpa_supplicant.conf ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev #ap_scan=1 network=&#123; ssid=\"ssid\" scan_ssid=1 psk=\"密码\" priority=5 &#125; network=&#123; ssid=\"ssid\" psk=\"密码\" priority=1 &#125; ap_scan = 1 是默认值，因此我注掉了 1：这个模式下总是先连接可见的 WiFi，如果扫描完所有可见的网络之后都没有连接上，则开始连接隐藏 WiFi。2：会按照network定义的顺序连接WiFi网络，遇到隐藏的将立刻开始连接，因此在这个模式下连接顺序不受priority影响ctrl_interface:这个文件夹里面存的是一个当前使用的interface的socket文件，可以供其他程序使用读取WiFi状态信息network：是一个连接一个WiFi网络的配置，可以有多个，wpa_supplicant会按照priority指定的优先级（数字越大越先连接）来连接，当然，在这个列表里面隐藏WiFi不受priority的影响，隐藏WiFi总是在可见WiFi不能连接时才开始连接。 ssid：网络的ssidpsk：密码priority：连接优先级，越大越优先scan_ssid：连接隐藏WiFi时需要指定该值为1 修改完成后，使用以下命令重启网络： pi@raspberrypi:~$ sudo systemctl restart networking #重启网卡 pi@raspberrypi:~$ sudo ifdown wlan0 pi@raspberrypi:~$ sudo ifup wlan0 pi@raspberrypi:~$ wpa_cli status #查看连接状态 检查网络情况路由表:netstat -r 查看DNS:cat /etc/resolv.conf 网关:traceroute baidu.com第一行就是自己的网关 Debiandebian中查找已安装软件及卸载软件dpkg -l | grep -i nameapt-get remove name sudo apt-get autoremove --purgeautoremove：告诉 apt-get 我们所要做的操作是移除软件 --purge：注意这前面是两个短划线，这个参数是告诉他们要完整的干净的彻底的移除 From https://blog.csdn.net/sinat_30603081/article/details/69389188 使用apt-cache policy列出软件的所有来源policy列出的信息比policy详细一点。 apt-cache policy vim vim: Installed: 2:7.4.1689-3ubuntu1.2 Candidate: 2:7.4.1689-3ubuntu1.2 Version table: *** 2:7.4.1689-3ubuntu1.2 100 100 &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;status 2:7.3.547-7 500 500 http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian wheezy&#x2F;main amd64 Packages12345678910 policy是一个apt-cache子命令，可以通过man apt-cache查询更多用法。 移动硬盘部分ntfs分区无法打开使用指令进行修复： sudo ntfsfix /dev/sdaX(无法挂载的硬盘分区) From https://blog.csdn.net/u014157776/article/details/79621063 开启 SSH 修改sshd_config 文件 启动 SSH 服务 ， 命令为 /etc/init.d/ssh start 或 service ssh start 验证SSH 服务状态 ， 命令为 ： /etc/init.d/ssh status 添加开机自启动： update-rc.d ssh enable 关闭则为 ： update-rc ssh disabled 安装中文输入法aptitude install locales：没有 aptitude 的话可以先安装 apt-get insall aptitude dpkg-reconfigure locales： 进入选择： zh_CN GB2312 zh_CN.GBK GBK ;zh_CN.UTF-8 UTF-8 ; en_US.UF8 vim /etc/default/locale： 设置 LANG=en_US.UTF-8 安装中文字库：sudo apt-get install ttf-wqy-zenhei 安装基于 Fcitx 输入法框架的 Google 拼音输入法： sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin From https://www.immortalt.com/archives/271 之后 打开 fcitx configuration， 设置相关输入法的顺序，可能需要重启一下，打开的方法是在软件列表内打开 Debian 9 将图标隐藏在左下角下面的收 安全移除移动硬盘首先卸载所有挂载点umount /media/bingfeng/* （后面路径为移动硬盘分区挂载点) 之后断掉硬盘的电udisksctl power-off -b /dev/sd? 重新命名网卡的名称ip link set enp4s0f1 down //关闭网卡ip link set enp4s0f1 name eth0 //重命名为eth0ip link set eth0 up //启用eth0你可以使用ifconfig或者ip link show来查看修改后的结果 作者：小星星链接：https://www.zhihu.com/question/45796677/answer/316701878 Debian安装 cpu 温控Apt-get install lm-sensorsSensors-detectService kmod startSensors 然后一路 yes 添加用户到某个组usermod -g root bingfeng添加bingfeng 这个用户到root 组 id bingfeng 查看 bingfeng这个用户的权限who 查看当前用户 换行/n/r/n \\r 就是”回到行首”，\\n 就是”到下一行”即:\\r 是回车，\\n 是换行，前者使光标到行首，后者使光标下移一格。通常用的Enter是两个加起来的，即 \\r\\n• Unix系统里，每行结尾只有“&lt;换行&gt;”，即“\\n”；• Windows系统里面，每行结尾是“&lt;换行&gt;&lt;回车&gt;”，即“\\n\\r”；• Mac系统里，每行结尾是“&lt;回车&gt;”。 /n enter/r return 一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix/Mac下打开的话，在每行的结尾可能会多出一个^M符号。 From https://www.jianshu.com/p/23804b0b03c8 连接蓝牙配置文件位置/etc/bluetooth /etc/init.d/bluetooth stop/etc/init.d/bluetooth start hciconfig hciconfig hci0 up hcitool scan Apt update 出错 gpg error signatures couldn’t be verifiedgpg: keyserver receive failed: No dirmngr From https://unix.stackexchange.com/questions/401547/gpg-keyserver-receive-failed-no-dirmngr 解决方法：apt-get install dirmngrsudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys KEYNUMBER https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/ 如何在 Linux 系统中添加桌面图标在 /usr/shared/applications/ 目录下，添加 xxx.desktop 文件（xxx为应用程序名），填写相关信息，保存即可。以 eclipse.desktop 为例说明： [Desktop Entry] Version=1.0 Name=eclipse Exec=/home/root/soft/eclipse/eclipse Icon=/home/root/soft/eclipse/icon.xpm Terminal=false Type=Application Categories=Development https://blog.csdn.net/lu_embedded/article/details/52224442 删除软件apt-get 的卸载相关的命令有 remove/purge/autoremove/clean/autoclean 等。具体来说： apt-get purge / apt-get --purge remove删除已安装包（不保留配置文件)。如软件包a，依赖软件包b，则执行该命令会删除a，而且不保留配置文件 apt-get autoremove删除为了满足依赖而安装的，但现在不再需要的软件包（包括已安装包），保留配置文件。 apt-get remove删除已安装的软件包（保留配置文件），不会删除依赖软件包，且保留配置文件。 apt-get autocleanAPT的底层包是dpkg, 而dpkg 安装Package时, 会将 *.deb 放在 /var/cache/apt/archives/中，apt-get autoclean 只会删除 /var/cache/apt/archives/ 已经过期的deb。 apt-get clean使用 apt-get clean 会将 /var/cache/apt/archives/ 的 所有 deb 删掉，可以理解为 rm /var/cache/apt/archives/*.deb。 那么如何彻底卸载软件呢？具体来说可以运行如下命令： 删除软件及其配置文件apt-get --purge remove &lt;package&gt; 删除没用的依赖包apt-get autoremove &lt;package&gt; 此时dpkg的列表中有“rc”状态的软件包，可以执行如下命令做最后清理：dpkg -l |grep ^rc|awk &#39;&#123;print $2&#125;&#39; |sudo xargs dpkg -P 原文：https://blog.csdn.net/get_set/article/details/51276609 debian 命令行 配置网络 /etc/network/interfaces （设置网卡和IP地址等） # The loopback network interface auto lo #网卡开机自动挂载 iface lo inet loopback auto eth0 #网卡开机自动挂载，连接网络 iface eth0 inet static #static表示使用静态&#x2F;固定ip（需两条用于设 置）,dhcp表示使用动态ip（忽略以下两条） address 192.168.0.123 #设置ip地址 netmask 255.255.255.0 #设置子网掩码 gateway 192.168.0.1 #设置网关 dns-nameservers 8.8.8.8 #设置DNS 还可以设置第二个虚拟IP地址 auto eth0:1 iface eth0:1 inet static address x.x.x.x netmask x.x.x.x network x.x.x.x broadcast x.x.x.x gateway x.x.x.x &#x2F;etc&#x2F;resolv.conf （设置DNS服务器） nameserver x.x.x.x # 首选DNS nameserver x.x.x.x # 备选DNS sortlist #对返回的域名进行排序 /etc/hosts （设置域名解析的IP） 设置IP和主机域名 DNS生效顺序：hosts文件 &gt; interfaces中DNS &gt; resolv.conf中DNS 相关配置文件/etc/hosts.conf 查看网卡驱动信息 $ ethool -i eth0 # eth0是网卡驱动名 &gt; driver: igb &gt; version: xx &gt; firmware-version: xx &gt; bus-info: 0000:0a:00.0 $ dmesg | grep eth0 $ modinfo igb # igb是上述命令中显示的的驱动名 $ lspci | grep Ethernet Linux驱动管理 $ lsmod | grep igb# 查看驱动 $ rmmod igb &amp;&amp; make clean modules https://www.jianshu.com/p/334296e50fcc lspci | grep -i &#39;eth&#39; 或 lspci | grep -i net 命令：可列出每个 pci 总线上的设备，通过grep过滤后可得到网卡设备列表， https://blog.csdn.net/willhuo/article/details/79610260 判断网卡 状态https://blog.csdn.net/xinew/article/details/4862231 mii-toolmii-tool -v link-okno-link 鸟哥的Linux查找资料http://linux.vbird.org/linux_basic/0120howtolinux/0120howtolinux_1.php网络的进修 查找文档:Linux 自己的文件数据库: /usr/share/doc The Linux Documentation Project:http://www.tldp.org/几乎列出了所有Linux上面可以看到的文献书籍. 硬件对应的文档/dev/sd[a-p] SCSI / STAT /USB/dev/vd[a-p] 虚拟机 中 的 硬盘 , 云端机器 的虚拟机 一般就是这种 /dev/lp[0-2] 25 针打印机/dev/usb/lp[0-15] usb 界面 的打印机 /dev/input/mouse[0-15] 通用 的鼠标/dev/psaux ps/2 鼠标/dev/mouse 当前 鼠标 /dev/scd[0-1] 通用 的 CD/dev/sr[0-1] 通用 , centos 常见/dev/cdrom 当前 CDrom /dev/ht0 磁带机 IDE 界面/dev/st0 SATA / SCSI 界面/dev/tape 当前磁带 /dev/hd[a-d] IDE 磁盘","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"VMware","slug":"VMware系列","date":"2020-06-12T15:25:19.000Z","updated":"2021-10-11T14:14:02.251Z","comments":true,"path":"2020/06/12/vmware-xi-lie/","link":"","permalink":"https://blog.bingfengs.xyz/2020/06/12/vmware-xi-lie/","excerpt":"","text":"VMware 各个文件的作用虚拟机的文件管理由 VMware Workstation 来执行，一个虚拟机一般以一系列文件的形式储存在宿主机中，这些文件一般在由 workstation 为虚拟机所创建的那个目录中 这里列出了这些关键文件及其扩展名。在以下说明例子中，[vmname] 表示创建的虚拟机名字 .log 文件 文件类型说明：文本文件 [vmname].log or vmware.log 该文件记录了VMware Workstation对虚拟机调试运行的情况 当碰到问题时，这些文件对我们做出故障诊断非常有用 .nvram 文件 文件类型说明：VMware virtual machine BIOS [vmname].nvram 该文件储存虚拟机BIOS状态信息 .vmx 文件 文件类型说明：VMware virtual machine configuration [vmname].vmx 该文件为虚拟机的配置文件，储存着根据虚拟机向导或虚拟机编辑器对虚拟机进行的所有配置 有时需要手动更改配置文件以达到对虚拟机硬件方面的更改。可使用文本编辑器进行编辑 如果宿主机是Linux，使用VM虚拟机，这个配置文件的扩展名将是.cfg .vmdk 文件 文件类型说明：VMware virtual disk file [vmname].vmdk or [vmname]-s###.vmdk 这是虚拟机的磁盘文件，它储存了虚拟机硬盘驱动器里的信息 一台虚拟机可以由一个或多个虚拟磁盘文件组成 如果在新建虚拟机时指定虚拟机磁盘文件为单独一个文件时，系统将只创建一个 [vmname].vmdk文件。该文件包括了虚拟机磁盘分区信息，以及虚拟机磁盘的所有数据，随着数据写入虚拟磁盘，虚拟磁盘文件将变大，但始终只有这一个磁盘文件 如果在新建虚拟机时指定为每2GB单独创建一个磁盘文件的话，虚拟磁盘总大小就决定了虚拟磁盘文件的数量。系统将创建一个[vmname].vmdk文件和多个[vmname]-s###.vmdk文件（s###为磁盘文件编号），其中[vmname].vmdk文件只包括磁盘分区信息，多个[vmname]-s###.vmdk文件存储磁盘数据信息。随着数据写入某个虚拟磁盘文件，该虚拟磁盘文件将变大，直到文件大小为2GB，然后新的数据将写入到其他s###编号的磁盘文件中 如果在创建虚拟磁盘时已经把所有的空间都分配了，那么这些文件将在初始时就具有最大尺寸并且不再变大了。如果虚拟机是直接使用物理硬盘而不是虚拟磁盘的话，虚拟磁盘文件则保存着虚拟机能够访问的分区信息 早期版本的VMware产品用 .dsk 扩展名来表示虚拟磁盘文件 [vmname]-[######].vmdk 当虚拟机有一个或多个快照时，就会自动创建该文件。该文件记录了创建某个快照时，虚拟机所有的磁盘数据内容 [######]为数字编号，根据快照数量自动增加 .vmsd 文件 文件类型说明：VMware snapshot metadata [vmname].vmsd 该文件储存了虚拟机快照的相关信息和元数据 .vmsn 文件 文件类型说明：VMware virtual machine snapshot [vmname]-Snapshot[##].vmsn 当虚拟机建立快照时，就会自动创建该文件。有几个快照就会有几个此类文件 这是虚拟机快照的状态信息文件，它记录了在建立快照时虚拟机的状态信息 [##]为数字编号，更具快照数量自动增加 .vmem 文件 文件类型说明：VMEM [vmname]-[uuid].vmem 该文件为虚拟机内存页面文件，备份了客户机里运行的内存信息 这个文件只有在虚拟机运行时或崩溃后存在 .vmss 文件 文件类型说明：VMware suspended virtual machine state [vmname].vmss 该文件用来储存虚拟机在挂起状态时的信息 一些早期版本的VM产品用.std来表示这个文件 .vmtm 文件 文件类型说明：VMware team configuration [vmname].vmtm 该文件为虚拟机组Team的配置文件。通常存在于虚拟机组Team的文件夹里 .vmxf 文件 文件类型说明：VMware team member [vmname].vmxf 该文件为虚拟机组team中的虚拟机的辅助配置文件 当一个虚拟机从虚拟机组team中移除的时候，此文件还会存在 网络互通总结","categories":[],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"},{"name":"虚拟化","slug":"虚拟化","permalink":"https://blog.bingfengs.xyz/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/"}]},{"title":"Linux笔记","slug":"Linux笔记","date":"2020-06-12T12:37:28.000Z","updated":"2022-04-24T14:18:50.920Z","comments":true,"path":"2020/06/12/linux-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2020/06/12/linux-bi-ji/","excerpt":"","text":"help | man | infohelp指令 -help 用在协助你查询你曾经用过的指令所具备的选项与参数而已.如果你要使用的是从来没有用过的指令，或者你要查询的根本就不是指令，而是文件的格式时，那就要用 man page. man空格键向下翻页， q 离开 man 环境 man page： NAME 简短的指令、数据名称说明SYNOPSIS 简短的指令下达语法（syntax）简介DESCRIPTION 较为完整的说明OPTIONS 针对 SYNOPSIS 部分中，有列举所有可用的选项说明FILES 这个程序或数据所使用或参考或连接到的某些文件SEE ALSO 可以参考的，跟这个指令或数据有相关的其他说明！EXAMPLE 一些可以参考的范例 man 中数字的含义： 1 用户在shell 环境中可以操作的指令或可执行的文件2 系统核心可呼叫的函数与工具等3 一些常用的函数(function) 与函数库(library)，大部分为C的函数库(libc)4 装置文件的说明，通常在/dev下的文件5 配置文件或者是某些文件的格式6 游戏7 惯例与协议等，例如linux文件系统 网络协议 ASCII code 等等的说明8 系统管理员可用的管理命令9 跟kernel 有关的文件 在man page 中，输入/之后，光标就会移动到屏幕的最下面一行，等待你输入搜索的字符串了。/ 关键字 向下搜寻? 关键字向上搜寻n / N 可以用n来搜索下一个，N是上一个 man -f 关键字man -k 关键字 含有关键字就会显示出来whatis [指令或数据] 相当于 man -f 简单概述命令的作用。apropos [指令或数据] 相当于 man -k 可以通过使用手册反查到某个命令 whatis 和 apropos 必须要有建立 whatis 数据库才行，这个数据库的建立需要以 root 的身份下达如下的指令:mandb info在所有的 Unix Like系统当中，都可以利用 man 来查询指令或者是相关文件的用法; 在Linux里面则又额外提供了一种在线求助的方法，那就是info info与man的用途其实差不多，都是用来查询指令的用法或者是文件格式的。但info page则是将文件数据拆成一个个段落，每个段落 用法: info 关键词file: 代表这个info page 的资料是来自xxxx文件提供的node: 代表目前的这个页面是属于xxx节点.意思是file内含有很多信息，而xxx仅是file文件内的一个节点内容而已 next: 下一个节点， 可以按 N 到下个节点去prev: 前一个节点， 可以按 P 到达up: 回到上一层节点总览画面， 按 U按下 H ， 可以提供一些基本功能介绍 /usr/share/doc 这个目录有很多说明文件 格式化格式化 ，其实应该称为 建置文件系统(make filesystem)，所以可以使用指令mkfs来格式化fs. mkfs.xfs [-b bsize] [-d parms] [-i parms] [-l parms] [-L label] [-f] [-r parms] 装置名称 关于单位: 只要是数值，没有加单位则为bytes，也可以用 k，m，g，t，p (小写)等来解释. s 指的是sector的个数.-b： 后面接block容量，可由512到64k，不过最大容量限制为linux的4k-d： 后面接的是data section的相关参数值， *.sh : 脚本或批处理文件(scripts)，因为批处理文件为使用shell写成的，所以扩展名就编成 .sh 常用命令 who 查看登录用户情况 ps -aux 后台执行程序 VSZ 进程占用的虚拟内存大小 RSS 内存中页的数量 （页是管理内存到单位， 在PC上通常是4k） TTY 进程所在终端到ID 号 STAT 进程状态，常用字母代表的含义如下： R 正在运行/可运行 D 睡眠中（不可唤醒，通常是在等待到I/O 设备） S 睡眠中（可以被唤醒） T 停止 （由于收到信号或被跟踪） Z 僵进程 （已经结束而没有被释放系统资源的进程） 常用到附加标识有： &lt; 进程拥有比普通优先级高的优先级 N 进程拥有比普通优先级低的优先级 L 有些页面被锁在内存中 s 会话的先导进程 TIME 进程已经占用的cpu 时间 top 用于即时跟踪当前系统中到进程的情况。命令显示到信息会占满一页，使用命令 q 退出程序 lsof 查看某个特定的文件正被哪些进程使用。 lsof 能够提供包括 PID 在内的各种进程信息。 kill -l 显示所有信号及其编号 信号名的前缀 SIG 是可以省略到。 0 EXIT 程序退出时收到该信号 1 HUP 挂起 2 INT 中断 CTRL + C 3 QUIT 退出 9 KILL 杀死 11 SEGV 段错误 15 TERM 软件终止 ?(取决于硬件体系) USR1 用户定义 上述信号可能对某些软件不起作用。（除去9） 有一个信号永远不能被程序所捕捉和忽略，这就是KILL 信号。 可以在内核级别“杀死”一个进程。 kill -KILL pid kill -SIGKILL PID kill -9 pid 有一些进程 连KILL 信号都不能影响到他们。 这些情况通常是由于一些退化到I/O 虚假锁定造成到。此时，重启系统是解决问题的唯一方法。 nice 命令可以在启动程序时设置谦让度。高谦让度意味着低优等级。低谦让度（特别是那些谦让度为负）的程序能够占用更多的CPU时间。谦让度值在-20 ～ +19 之间。 nice -n 2 bc 设置bc程序 以谦让度 增量 为 2 启动 不带-n 参数到nice 会将程序的谦让度增量设置为10 renice 命令可以在进程运行时调整其谦让度。 renice +12 -p pid （将 进程号为 pid 的程序 谦让度调整为 12） nice 查看默认的 谦让度 sync 将数据同步写入硬盘中， 一般账号用户只能同步自己的数据，root 可以同步系统全部数据（一般关机前使用） rmrm -f 不提示 直接删除rm -r 递归删除目录下所有文件及目录 shutdown 关机 shutdown -h now 现在关机 shutdown -h 20:25 shutdown -h +10 十分钟后关机 shutdown -r now 现在重启 shutdown -r +30 ‘the system will reboot’ 再过30分钟重启，并显示后面的讯息给所有在线的使用者 shutdown -k now ‘this system will reboot’ 发出警告信息，但不会真的关机! reboot 重启 cp 来源文件 目标文件 cp .bashrc .bashrc_test 复制(cp)会复制执行者的属性和权限 增加路径 PATH=”${PATH}:路径” mkdir 建立新目录 权限 chgrp : 改变文件所属群组 chown : 改变文件拥有者 chmod : 改变文件的权限 u (文件属主) g (group) o (other) a (all) r， w， x + ，- ，= basename +路径 获取文件名 dirname +路径 获取目录名 cat 由第一行开始显示文件内容(concatenate) cat -n 显示行号 tac 从最后一行开始显示 more 一页一页 显示文件内容 less 与more类似，但比more更好，可以往前翻页 less -M 显示文件信息 空格: 下一页 B: 上一页 ／：在 less 中查找 head 只有头几行 tail 末几行 od 以二进制方式读取文件内容 touch -a 仅更改access time; -c 仅修改文件的时间，若文件不存在则不建立新文件; -d 后面可以接欲修改的日期而不用目前的日期，也可以使用 –date=”日期或时间” -m 仅修改mtime; -t 后面可以接欲修改的时间而不是用目前的时间，格式为[YYYYMMDDhhmm] touch 后面接有存在文件，则该文件的三个时间(atime/ctime/mtime)都会更新为目前的时间.若文件不存在，则会主动建立一个新的空文件. 复制一个文件时，复制所有属性，但也没有办法复制ctime这个属性. touch 只能修改mtime 和atime umask 改变默认权限 df : 列出文件系统的整体磁盘使用量 -a : 列出所有文件系统，包括系统特有的 /proc等文件系统; -k /m : 以KBytes/MBytes的容量显示各文件系统 -h : 以GBytes，MBytes，KBytes等格式自行显示; -H : 以M=1000k 取代M=1024K的进位方式; -T : 连同该Partition 的filesystem 名称也列出来(如xfs); -i : 不用磁盘容量，而以inode的数量来显示; 后面可以接路径，从而看清还有多少容量. df -hl 查看磁盘剩余空间 du: 评估文件系统是磁盘使用量 -a 列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已 -h 以(G/M)容量格式显示 -s 列出总量而已，而不列出每个个别的目录占用容量. -S 不包括子目录下的总计，与-s有点差别 du -sh filename (= du -sh * ) 显示当前目录下所有文件及其大小，如果要排序再再后面加上 | sort -n du -sm * | sort -n 统计当前目录大小并按大小排序， 返回该文件夹总 M 数 lsblk [-dfimpt] [device] -d : 仅列出磁盘本身，不会列出该磁盘的分区数据 -f : 同时列出该磁盘内的文件系统名称 -i : 使用ASCII的线段输出，不要使用复杂的编码 -m: 同时输出该装置在 /dev 底下的权限数据(rwx的数据) -p : 列出该装置的完整文件名，而不是仅列出最后的名字而已 -t : 列出该磁盘装置的详细数据，包括磁盘阵列机制\\预读写的数据量大小等. iconv --list iconv -f 原编码 -t 新编码 filename [-o newfile] –list : 列出iconv 支持的语系数据 -f : from， 后接原本的编码格式 -t : to ， 后面接新的编码格式 -o file : 如果要保留原本的文件， 那么使用-o 新文件名，可以建立新的文件. alias: 查看目前的命令的自定义 可以直接下达来改动 : alias lm=&#39;ls -al&#39; type [-tpa] name 不加任何选项与参数，type 会显示 name 是外部指令还是 bash 内建指令 -t： type 会将 name 以底下这些字眼显示出他的意义: file: 表示为外部指令; alias: 表示指令为命令别名所设定的名称; builtin: 表示该指令为bash内建的指令功能; -p： 如果后面接的name为外部指令时，才会显示完整的文件名 -a： 会由PATH变量定义的路径中，将所有含name的指令都列出来，包含alias. histroy [n] : n为数字，列出最近n比命令history [-c] : 将目前的shell中所有history内容全部清除histroy [-raw] histfiles -a : 将目前新增的history指令新增入histfiles中，若没有加histfiles，则预设写入 ~/ .bash_history . -r : 将 history 等等内容读到目前这个shell的history 记忆中 -w : 将目前的history记忆内容写入histfiles 中. 输入 | 输出标准输入 (stdin): 0，使用 &lt; 或 &lt;&lt;标准输出 (stdout) : 1，使用 &gt; 或 &gt;&gt;标准错误输出 (stderr) : 2， 使用2&gt;或2&gt;&gt; 如: ll 路径 &gt; 路径/文件名再用 cat 查看文件ll 路径 &gt;&gt; 路径/文件名 在已存在的文件继续写入. /dev/null 可以屏蔽不想显示的信息， 如: find /home -name .bashrc 2&gt; /dev/null 将正确与错误的数据写入同一个文件.find /home -name .bashrc &gt; list 2&gt; list (错误，此时两种数据同时写入同一个文件，会交叉，造成次序错乱.) 文件查找file 查看文件类型file 文件路径 which 寻找执行档which [-a] command 文件名的搜寻whereis 只找系统中某些特定目录底下的文件而已locate 则是利用数据库来搜寻文件名，比较快，而find 速度慢，也耗硬盘. whereis [-bmsu] 文件或目录名 -l :可以列出whereis 会去查询的几个主要目录而已 -b: 只找binary格式的文件 -m : 只找在说明文件manual 路径下的文件 -s 只找source 来源文件 -u 搜寻不在上述三个项目当中的其他特殊文件whereis 只找几个特定的目录而已，并没有全系统去查询.whereis主要针对/bin/sbin底下的执行档，以及/usr/share/man 底下的 man page 文件. whereis -l 确认 whereis 查看的目录 local [-ir] keyword -i 忽略大小写的差异 -c 不输出文件名，仅计算找到的文件数量 -l 仅输出几行的意思，如五行， -l 5 -S 输出locate 所使用的数据库文件的相关信息，包括该数据库记录的文件/目录数量等. -r 后面可接正规表示法的显示方式 locate 寻找的数据是由已建立的数据库 /var/lib/mlocate/ 里面的数据所搜寻的，所有没有直接在硬盘搜寻.有时会找不到文件，这是数据库没有更新，输入 updatedb， updatedb指令会去读取 /etc/updatedb.conf 这个配置文件的设定，然后再去硬盘里面进行搜寻文件名的动作， 此动作可能会耗时几分钟. find与时间有关的选项:有 -atime，-ctime，-mtime，以 -mtime 为例 -mtime n: n为数字，意义为在n天之前的[一天之内]被更动过内容的文件;-mtime +n : 列出在n 天之前(不含n天本身)被更动文件内容的文件名-mtime -n: 列出在n天之内(含n天本身)被更动的文件-newer file : file为一个存在的文件，列出比file还要新的文件名. 如 find / -mtime 0 (0代表目前的时间，所以，从现在开始到24小时前) find / -mtime 3 (三天前的24小时内) find /etc -newer /etc/passwd find 路径 -user name(指用户名) 找出此用户的所有文件 -name filename :搜寻文件名为filename的文件-size [+-]SIZE : 搜寻比SIZE还要大(+)或小(-)的文件，这个SIZE的规格有: c:代表byte， k :代表1024bytes. 所以，要找比50KB还要大的文件，就是 { -size +50k }-type TYPE : 搜寻文件的类型为TYPE的，类型主要有:一般正规文件(f)，装置文件(b，c)，目录(d)，链接文件(l)，socket(s)，FIFO(p).-perm mode :搜寻文件权限等于mode的文件 ，mode类似chmod的属性值，如-rwsr-xr-x的属性为4755.-perm -mode : 搜寻文件权限必须要全部囊括mode的权限的文件，如:-rwsr-xr-x 包括 -rwxr--r--.-perm /mode 搜寻文件权限包含任一mode的权限的文件 find / -name “passwd“ 找出有含”passwd”词的文件find /run -type s b 块设备文件 f 普通文件 c 字符设备文件 p 命名管道 d 目录文件l 符号链接 ls -F 目录后加／ 可执行文件加* 在链接文件后加＠ ls 目录为蓝色 普通文件为黑色（白色） 可执行为绿色。 常用文件/etc/passwd root 和其他使用者的账号相关的信息/etc/shadow 记录个人密码/etc/group 所有组 /proc 目录下存放着内核有关系统状态到各种信息。在系统运行时，内核会随时向这个目录写入数据。这是操作系统向用户提供的一条通往内核到道路，用户甚至可以通过向/proc 目录下 文件 写入数据来修改操作系统参数。 在linux底下，文件能否执行，取决于是否具有X权限，跟文件后缀没有关系.当你对一个文件具有W权限时，你可以具有写入/编辑/新增/文件内容的权限，但是并不具备有删除该文件本身的权限! linux的文件是没有所谓的扩展名的 -l 实体链接(hard link)-s 符号链接(symbolic link) SUID当s这个标志出现在文件拥有者的x权限上时，此时就被称为 Set UID ，简称SUID.SUID要求:SUID 权限仅对二进制程序(binary program)有效;执行者对于该程序需要有x的可执行权限;仅在执行程序过程中有效;执行者将具有该程序拥有者(owner)的权限 SUID仅可用在binary program上，不能够用在shell script 上 ， 这是因为shell script 只是将很多binary执行文件叫进来执行而已! SUID 对于目录也是无效的. 当s标志在群组的x时称为Set GID，SGID. 可以针对文件或目录来设定!SGIDSGID对二进制程序有用;程序执行者对于改程序来说，需具备x权限;执行者在执行的过程中将会获得该程序群组的支持! 当一个目录设定SGID的权限之后，将具有以下功能:用户若对此目录有r与x的权限时，该用户能够进入该目录;用户在此目录下的有效群组(effective group)将会变成该目录的群组;用途: 若用户在此目录下具有w的权限(可以新建文件)，则使用者所建立的新文件，该新文件的群组与此目录的群组相同; Sticky Bit，SBIT目前只针对目录有效，对于文件已经无效.作用如下: 当甲这个用户于A目录是具有群组或其他人的身份，并且拥有该目录w的权限，这表示甲用户对该目录内任何人建立的目录或文件均可进行”删除/更名/搬移”等操作.不过，如果将A目录加上了SBIT的权限项目时，则甲1只能针对自己建立的文件或目录进行删除之类的动作，而无法删除他人的文件. SUID 4SGID 2SBIT 1 文件系统LVM 与 软件磁盘阵列(software raid)，可以将一个分区盘格式化为多个文件系统，也能够将多个分区盘合成一个文件系统 通常我们可以称呼一个可被挂载的数据为一个文件系统而不是一个分区盘 较新的操作系统的文件数据除了文件实际内容外，通常含有非常多的属性. 文件系统通常会将这两部分的数据分别放在不同的区块，权限与属性放置到inode中，至于实际数据则放置到data block 区块中. 还有一个超级区块(superblock)会记录整个文件系统的整体信息，包括inode与block的总量\\使用量\\剩余量等. inode: 记录文件的属性，一个文件占用一个inode，同时记录此文件的数据所在的block号码;block : 实际记录文件的内容，若文件太大，会占用多个block 文件系统一开始就将inode 与block规划好了，除非重新格式化(或者利用resize2fs 等指令变更文件系统的大小)，否则inode 与block固定后就不再变动. 文件系统一般有多个区块群组(block group)，每个区块群组都有独立的inode/block/superblock系统. inode记录的文件数据: 该文件的读取模式: 该文件的拥有者与群组; 该文件的容量; 该文件建立或状态改变的时间; 最近一次的读取时间:最近修改的时间; 定义文件特性的旗标(flag)，如 SetUID…;该文件真正内容的指向(pointer); 每个inode 大小均为固定为128bytes(新的ext4 与xfs可设定到256bytes)每个文件都仅会占用一个inode而已系统读取文件时需要找到inode，并分析inode所记录的权限与用户是否符合，若符合才能够开始实际读取block的内容. Superblock是记录整个filesystem相关信息的地方，主要记录block 与inode的总量;未使用与已使用的inode/block数量;block 与inode的大小1(block 为1，2，4K，inode为128bytes或256bytes)filesystem 的挂载时间\\最近一次写入数据的时间\\最近一次检验磁盘的时间等文件系统的相关信息一个valid bit 数值，若此文件系统已被挂载，则valid bit 为0，若未被挂载，则valid bit 为 1. superblock 为1024bytes. 一个文件系统应该仅有一个superblock而已， 事实上除了第一个blockgroup 内会含有superblock之外，后续等等block group 不一定含有superblock，而若有superblock则该superblock主要是作为第一个block group 内superblock 当我们在Linux下建立一个目录时，文件系统会分配一个inode与至少一块block给该目录. 其中，inode记录该目录的相关权限与属性，并可记录分配到的block号码;而block则是纪录在这个目录下的文件名与该文件名占用的inode号码数据. 用 ll /时，出现的目录几乎都是1024的倍数，，因为每个block的数量都是1K，2K，4K! 在目录底下的文件数如果太多而导致一个block无法容纳下面所有的档名与inode对照表，linux会给予该目录多一个block. 我们将inode table 与 data block 称为数据存放区域， 至于其他如superblock\\block bitmap\\inode bitmap 等区段就被称为metadata(中介资料). 传统文件系统 : ext2/ minix /MS-DOS / FAT(用vfat模块) /iso9660;日志式文件系统: ext3/ ext4 /ReiserFS / Windows’NTFS /IBM’s JFS/SGI’s XFS / ZFS网络文件系统 : NFS / SMBFS 查看linux 支持的文件系统有哪些: ls -l /lib/modules/$(uname -r)/kernel/fs 系统目前已加载到内存中的支持的文件系统有: cat /proc/filesystems xfs 在资料的分布上，主要划分为三个部分，资料区(data section)\\一个文件系统活动登录区(log section)以及一个实时运作区(realtime section). 与ext不同的是，xfs的block与inode 有多种不同的容量可供设定，block容量可由512bytes-64K调配，不过，Linux的环境下，由于内存控制的关系(页面文件pagesize的容量之故)，因此最高可以使用的block大小为4K.至于inode容量可由256bytes到2M. xfs 的数据区的存储区群组(allocation groups， AG)，可以认为相当与ext的block群组(block groups) ，只是inode与block是动态产生. 当有文件要被建立时，xfs会在这个区段里面找一个到数个的extent区块，将文件放置在这个区块内，等到分配完毕后，再写入到data section 的inode与block. .这个extent区块的大小得要在格式化的时候就先指定，为4K-1G.一般非磁盘阵列默认64k容量，而具有类似磁盘阵列的stripe情况下，则建议extent设定为与stripe一样大最好， UUID : 全局单一标识符(universally unique identifier) ，Linux 会将系统内所有的装置都给予一个独一无二的标识符，这个标识符可以拿来作为挂载或者是使用这个装置/文件系统用了. blkid : 显示UUID parted device_name print : 列出磁盘信息 hard link :如果将任何一个文件名删除，其实inode与block都还是存在的. 无论使用哪个文件名来编辑，最终的结果都会写入到相同的inode与block中，均能进行数据的修改. hard link 仅能在单一文件系统中进行，不能跨文件系统， 也不能link 目录 ln [-sf] 来源文件 目标文件-s 如果不加任何参数就进行连接，那就是hard link ，加 -s 就是symbolic link .-f 如果目标文件 存在时， 就主动的将目标文件直接移除后再建立. 分区gdisk 新建分区 ，文件系统ID ， 一般Linux是8200/8300/8e00 三种， windows几乎都用0700 .可以在gdisk内 输入[ L ]来显示文件系统ID. partprobe : 更新Linux核心的分区表信息 MBR 分区表请使用fdisk分区，GPT分区表请使用gdisk分区.不要在MBR分区上使用gdisk，也不要在GPT上面使用fdisk!!!! gdisk 装置名称 如: gdisk /dev/vda 格式化，也称 建置文件系统(make filesystem)， 所以使用指令mkfs，以格式化fsxfs 用 mkfs.xfs ext4 用 mkfs.ext4 mkfs.xfs [-b bsize] [-d parms] [-i parms] [-l parms] [-L label] [-f] [-r parms] 装置名称(底下只要涉及数值是，默认单位bytes，可以用k，m，g，t，p(小写)来解释)，而s表示是sector的个数) -b : 后面接的是block容量，可由512到64k，不过linux最大限制4k. -d : 后面接data section 的相关参数值，主要有: agcount = :设定需要几个存储群组的意思(AG)，通常与CPU有关 agsize = : 每个AG设定为多少容量的意思 file : 指的是 格式化的装置是个文件而不是个装置 size : data section的容量 su : 当有RAID 时，stripe数值的意思，与sw搭配使用 sw : 当有RAID是，用于存储数据磁盘数量 sunit : 与su相当，不过单位使用的是 几个sector swidth : su*sw的数值，但是以几个sector大小来设定 -f 如果装置内已经有文件系统，只需要-f 来强制格式化 -i : 与inode 有较相关的设定，主要有 size : 最小 256bytes，最大2k ，一般256就足够了 internal=[0/1] : log装置是否为内建? 预设为1 内建 logdev=device : log装置为后面接的那个装置，需设定internal =0 size : 指定这块登录区的容量，通常最小512，通常2M以上 -L : 后面接这个文件系统的标头名称 Label name -r : 指定realtime section的相关设定值， extsize: extent数值，一般不须设定，但有RAID时，最好设定与swidth的数值相同，最小为4k ，最大为1G 磁盘阵列(RAID)就是通过将文件先细分为数个小型的分区区块(stripe)之后，然后将众多的stripes分别放到磁盘阵列里面的所有磁盘，所以一个文件时被同时被到多个磁盘去.为了文件的完整性，所以在这些磁盘里面，会保留数个(与磁盘阵列的规划有关)备份磁盘(parity disk)，以及可能会保留一个以上的备用磁盘(spare disk)， 这些区块基本会占用掉磁盘阵列的总容量，stripe 的大小大多介于4k 到1m之间，这与你磁盘阵列卡支持的项目有关.当系统大多是大型文件时，stripe可以设定大一些，这样磁盘阵列读/写的频率会减低，效能会提升.如果用于系统，那么小文件比较多的情况下，sripe建议大约在64K左右， mkfs.ext4 [-b size] [-L label] 装置名称-b : 设定block大小，有1k ，2k ， 4k 的容量.-L : 后面接这个装置的名称 xfs_respair [-fnd] 装置名称-f : 后面的装置其实是个文件而不是实体装置-n: 只检查并不修改文件系统的任何数据-d : 通常用在单人维护模式底下，针对根目录进行检查与修复的动作，很危险. xfs_repair 可以检查/修复文件系统，但是修复时该文件系统不能被挂载.但是根目录无法被卸载，如果根目录出现问题，这时得进入单人维护或者救援模式，然后透过-d 这个选项来处理 fsck.ext4 是个综合指令，如果针对ext4 ，建议直接使用fsck.ext4来检查 fsck.ext4 [-pf] [-b superblock] 装置名称-p : 当文件系统在修复时，若有需要回复Y的动作时，自动执行Y-f : 强制检查! 一般来说，如果fsck没有发现任何unclean 的旗标，不会主动进入细部检查的，-D : 针对文件系统下的目录进行优化配置-b : 后面接superblock 的位置， 一般来说这个选项用不到，但是如果你的superblock因故损毁是，透过这个参数即可利用文件系统内备份的superblock来尝试救援.一般来说，superblock 备份在: 1k block放在8193，2k放在16384， 4k block 放在32768 单一文件系统不应该被重复挂载在不同的挂载点(目录)中;单一目录不应该重复挂载多个文件系统要作为挂载点的目录，理论上应该都是空目录才是. 如果你要用来挂载的目录里并不是空的，那么挂载了文件之后，原目录下的东西就会暂时的消失. mount -a 依照配置文件/etc/fstab的数据将所有未挂载的磁盘都挂载上来mount -l 只输入mount会显示目前挂载的信息.加上 -l 可增列label名称!-t : 可以加上文件系统种类来指定欲挂载的类型.-o: 后面可以接一些挂载是额外加上的参数: async，sync:此文件系统是否使用同步写入(sync)或异步(async)的内存机制，预设为async. atime，noatime:是否修订文件的读取时间(atime).为了效能，某些时刻可使用noatime ro，rw: 挂载文件系统成为只读(ro)，或可擦写(rw) auto，noauto : 允许此filesystem被以mount -a 自动挂载(auto) dev，nodev : 是否允许此filesystem上，可建立装置文件 suid， nosuid : 是否允许filesystem含有suid/sgid 的文件格式 exec，noexec : 是否允许此filesystem上拥有可执行binary文件 user，nouser : 是否允许此filesystem上任何使用者执行mount.一般来说，mount仅有root可以执行，但下达user参数，则可让一般user也能够对此partition进行mount. defaults : 默认值为: rw ，suid ， dev， exec，auto，nouser，async remount : 重新挂载 Linux 中有两类设备文件：字符设备文件和块设备文件。字符设备又称 顺序访问设备 ，如：磁带，串行电路。块设备又称 随机访问设备，如：磁盘。 拥有某个设备文件并不意味一定有一个相对应的硬件设备存在，只是表明Linux有处理设备的“潜能”.设备文件可以用 mknod 命令来创建 umount [-fn] 装置文件或挂载点 -f : 强制卸除，可用在类似网络文件系统(NFS)无法读取的情况下; -l : 立刻卸载文件系统，比-f还强 -n : 不更新/etc/mtab 情况下卸除 mknod 装置文件名 [bcp] [Major] [Minor]-b : 设定装置名称为一个周边存储设备文件，如硬盘-c: 设定装置名称为一个周边输入设备文件，如鼠标-p: 设定装置名称为一个FIFO文件;Major : 主要装置代码Minor: 次要装置代码 xfs_admin [-lu] [-L label] [-U uuid] 装置文件名-l : 列出这个装置的label name-u: 列出这个装置的UUID-L: 设定这个装置的Label name-U: 设定这个装置的UUID tune2fs [-l] [-L Label] [-U uuid] 装置文件名-l : 类似dumpe2fs -h 的功能 ， 将superblock内的数据读出来-L : 修改LABEL name-U: 修改UUID 系统挂载的一些限制:根目录/ 是必须挂载的 ， 而且一定要先于其他 mount point 被挂载进来. 其他 mount point 必须 为已建立的目录，可任意指定，但一定要遵守必须的系统目录架构原则(FHS) 所有mount point 在同一时间内，只能挂载一次 所有partition在同一时间内，只能挂载一次 如若进行卸载，你必须先将工作目录移到 mount point(及其子目录)之外 /etc/fstab (filesystem table) 就是利用mount指令进行挂载是 ， 将所有的选项与参数写入到这个文件中. remount: 重新挂载，在系统出错，或重新更新参数时. 文件系统或磁盘的装置文件名，如 /dev/vda2文件系统的UUID名，如UUID =xxx文件的LABEL 名称 ，如 LABEL =xxx mount -o loop ///**.iso(iso文件路径) 挂载路径可以透过loop来挂载iso文件. parted [装置] [指令 [参数]]新增分区: mkpart [primary | logical | extended] [ext4 | vfat | xfs] 开始 结束显示分区: print删除分区: rm [partition] parted [装置] mklabel gpt 转化分区表格式 压缩相关*.Z compress 程序压缩的文件*.zip zip程序压缩的文件*.gz gzip程序压缩的文件*.bz2 bzip2程序压缩的文件*.xz xz 程序压缩的文件*.tar tar程序打包的数据，并没有压缩过*tar.gz tar程序打包过得文件，其中并且经过gzip的压缩*tar.bz2 tar程序打包过的文件，经过bzip2的压缩*tar.xz tar程序的包的文件，经过xz的压缩 gzip [-cdtv#] 文件名 -c : 将压缩的数据显示在屏幕上， 可透过数据流重导向来处理; -d : 解压缩的参数; -t : 可以用来检验压缩文件的一致性，看文件有无错误; -v : 可以显示出原文件/压缩文件的压缩比等信息 -#: #为数字， 代表压缩等级， -1最快，但是压缩比最差，-9最慢，但是压缩比最好.预设是-6. 在预设的状态下原本的文件会被压缩为.gz的文件，源文件就不在存在.gzip压缩的文件，在windows中，可以被WinRAR/7zip等软件解压缩. 与gzip相反，gzip -z会将原本的.gz删除，恢复到原本的文件. 保留源文件gzip -c 文件名 &gt; 文件名.gz zcat 压缩文件 (查看压缩的文本文档)zgrep -n ‘keyword’ 压缩文件.gz 在压缩文件中查找关键词 使用znew 可以将.Z的文件转成gzip的格式 bzip2 [-cdkzv#] 文件名 -c:将压缩的过程产生的数据显示到屏幕. -d : 解压缩的参数 -k: 保留源文件，而不会删除 -z: 压缩的参数(默认值，可以不加) -v: 可以显示源文件/压缩文件的压缩比等信息. -#: 与gzip同样，都是在计算压缩的参数，-9最佳，-1最快 对于大文件，bzip2压缩时间比gzip要久的多. xz [-dtlkc#] 文件名-d : 解压缩-t: 测试压缩文件的完整性，-l : 列出压缩文件的相关信息-k : 保留原来的文件不删除-c : 就是将数据输出到屏幕-#: windows 中的 WinRAR 支持 . tar.gz 文件的解压缩 tar [-z| -j| -J] [cv] [-f 待建立的新文件名] 要被压缩打包的目录或文件 (打包与压缩)tar [-z | -j | -J] [tv] [-f 已有的tar文件名] (查看档名)tar [-z | -j | -J] [xv] [-f 已有的tar文件名] [-C 目录] (解压缩) -c : 建立打包文件-t : 查看打包文件的内容含有哪些文件-x : 解打包或解压缩， 可以搭配 -C 在特定的目录解开 (-c ， -t ， -x 不可同时出现在一串指令中.) -z : 透过gzip 进行压缩/解压缩，此时文件名最好为*.tar.gz .-j : 透过bzip2 进行 ， *.tar.bz2-J : 透过xz ， * .tar.xz(-z ， -j ， -J 不可同时出现在同一指令列中.) -v : 在压缩/解压缩的过程中，将正在处理的文件名显示出来.-f filename : -f 后面要接被处理的文件名-C : 在解压缩是，要在特定的目录解压缩. -p : 保留备份数据的原本权限与属性-P :保留绝对路径 压缩 : tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称查询 : tar -jtv -f filename.tar.bz2解压缩 : tar -jxv -f filename.tar.bz2 -C 要解压缩的目录filename.tar.bz2是自己取得名字， tar并不会自动产生文件名.如果不加[-z | -j | -J ] 的话，文件名最好取 *.tar . 解压文件中的一个文件:tar -jxv -f 压缩文件名.tar.bz2 待解压的文件 vimvim 中忽略 查找字符大小写:set ignorecase重新开启大小写敏感:set noignorecase ：syntax on 打开语法高亮功能。 :set autoindent 自动缩进 一个TAB 键 缩进 8 个空格数 （也就是一个制表符代表8个空格）， 可以通过 set shiftwidth ， 改变空格数如： ：set shiftwidth=4. vim 的配置文件叫做vimrc， 通常位于/etc/vim 目录下。 vim 中文乱码1.Linux默认支持的语言数据，这与 /etc/locale.conf有关;2.你的终端界面(bash)的语言，这与LANG，LC_ALL这几个变量有关:3.你的文件原本的编码;4.开启终端机的软件，例如在GNOME底下的窗口接口; FHS点击下载 网络配置IP 设置 配置文件 /etc/network/interfaces auto eth0 iface eth0 inet static&#x2F;dhcp address 192.168.0.116 gateway 192.168.0.1 netmask 255.255.255.0 DNS 配置文件 /etc/resolv.con nameserver 8.8.8.8 nameserver 114.114.114.114 临时IP地址（电脑重启后失效）自动获取IP dhclient eth0 手动获得IP ifconfig eth0 192.168.1.10/24 重启网络 service networking restart systemctl restart networking.service network-manager这是一套网络管理软件 `sudo apt install networkmanager` 安装NetworkManager包后，命令行中多出两个命令，一个是nmcli纯命令的网络配置工具，一个是nmtui的终端图形配置工具。 确定在文件/etc/network/interfaces中没有手动配置过网络，如果有，里面的内容应该删掉 nmtui打开图形界面，直接配置就好，当然也可以在这里设置无线连接的。 sudo systemctl restart NetworkManager.service 重启服务 无线网络配置无线网络 vim /etc/network/interfaces auto wlan0 iface wlan0 inet dhcp pre-up ip link set wlan0 up pre-up iwconfig wlan0 essid ssid wpa-ssid ssid wpa-psk password https://wenqixiang.com/linux-wireless-configuration-in-terminal-command-line/ 而Debian系列的系统现在已经没有/etc/wpa.conf文件了，配置这个文件并不能生效还会照成网卡无法使用，折腾了老半天才知道应该配置的是/etc/wpa_supplicant/wpa_supplicant.conf 静态ip vim /etc/network/interfaces # 第一个网卡 auto wlan0 allow-hotplug wlan0 # 允许热插拔（非必须配置） iface wlan0 inet static # 采用静态IP分配的方式 address 192.168.199.249 # 为树莓派设置的ip （详见下面介绍） netmask 255.255.255.0 # 子网掩码 （详见下面介绍） gateway 192.168.199.1 # 网关地址 （详见下面介绍） wpa-ssid yourssid # 你要连接的wifi名称 wpa-psk yourpassword # 你要连接的wifi密码 作者：fangle 链接：https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;592259d72f301e006b18584e 来源：掘金 多个网络 vim /etc/wpa_supplicant/wpa_supplicant.conf ctrl_interface&#x3D;DIR&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicant GROUP&#x3D;netdev update_config&#x3D;1 country&#x3D;CN # 第一个无线连接 network&#x3D;&#123; ssid&#x3D;&quot;xxxx&quot; # wifi 名称 psk&#x3D;&quot;xxxx&quot; # wifi 密码 key_mgmt&#x3D;WPA-PSK # 加密方式 &#125; # 第二个无线连接 network&#x3D;&#123; ssid&#x3D;&quot;xxxx&quot; psk&#x3D;&quot;xxxx&quot; key_mgmt&#x3D;WPA-PSK &#125; priority&#x3D;999 # priority指连接优先级，数字越大优先级越高（不可以是负数） scan_ssid&#x3D;1 # 如果你的无线接入点是隐藏的，该配置就是必须的 指令 ifup wlan0 ifdown wlan0 iwlist wlan0 scan iwlist wlan0 scan | grep ESSID 开机启动很多新版本系统都没有rc.local文件了，比如Debian 9、Ubuntu 17.10、Ubuntu 18.04。这时候就需要我们手动设置下。 https://www.moerats.com/archives/623/","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"}]},{"title":"Manjaro 使用初始化","slug":"Manjaro-使用初始化","date":"2020-05-25T13:10:30.000Z","updated":"2020-10-08T11:30:44.390Z","comments":true,"path":"2020/05/25/manjaro-shi-yong-chu-shi-hua/","link":"","permalink":"https://blog.bingfengs.xyz/2020/05/25/manjaro-shi-yong-chu-shi-hua/","excerpt":"","text":"在一年以前就听说了Manjaro，所以现在想用它来替代日常使用的windows系统。实际体验下来，还是不错的。 在以前，我用过 Debian。老实说，体验不是很好。这次下载的是 Manjaro XFCE 桌面版本。我个人不推荐用Gnome，XFCE 是 Manjaro 的旗舰版本，在稳定和外观上不输于 Gnome。 看一下这个桌面，amazing，awesome，wonderful 。。。逃 更新源安装完系统之后的第一件事，切换为国内源 $ sudo pacman-mirrors -i -c China -m rank 升级一下系统 $ sudo pacman -Syyuu 然后我们安装一个新的包管理软件 \\\\安装yay $ sudo pacman -S yay 科学上网这个是生活必需品，这里我们使用 Qv2ray。这个是一个兼容 Windows 和 Linux 的工具，开发的大佬很积极，有什么问题可以去他们的 Github 主页提 Issue 直接使用 pacman 或 yay 来安装 qv2ray , 可能会面对包找不到或安装速度过慢的问题，这里我们先添加 arch 的软件源可解决这些问题 https://deali.gitee.io/Linux/Manjaro配置/ 首先添加 Archlinuxcn软件源，不然很多包是没有的 编辑/etc/pacman.conf文件，在文件的末尾添加以下内容： [archlinuxcn] Server &#x3D; https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;archlinuxcn&#x2F;$arch 附社区镜像列表：https://github.com/archlinuxcn/mirrorlist-repo 然后执行如下命令： sudo pacman -Sy archlinuxcn-keyring haveged sudo systemctl enable haveged sudo systemctl start haveged sudo pacman-key --init sudo pacman-key --populate manjaro sudo pacman-key --populate archlinux sudo pacman-key --populate archlinuxcn 之后，开始安装qv2ray：pacman -S qv2ray 然后，安装v2ray核心：sudo pacman -S v2ray 搞定，顺便说下，这个qv2ray是支持trojan协议的，你可以到github下找到补丁安装使用。 如果你安装完Qv2ray,配置什么的没有错误.还是没有办法上网,请检查你的DNS是否被污染…(亲身经历,痛) 解决DNS污染的方法(Firefox): 把 Proxy DNS when using SOCKS v5 选项的勾打上 Windows远程桌面sudo pacman -Syu remmina freerdp 中文输入法sudo pacman -S fcitx-rime sudo pacman -S fcitx-im sudo pacman -S fcitx-configtool \\\\然後編輯一個文件 sudo gedit ~/.xprofile \\\\在末尾添加 export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\"@im=fcitx\" 重啓系統，进入设置 先添加中文输入法，然后 configure &gt; Appearance &gt; Font Size这里面的设置默认是 0， 简直坑爹，我改成了 13, 才能看到输入框。 pacman 用法pacman -S [name] 安裝軟件pacman -Syu 升級系統 ➔ pacman -R 包名：该命令将只删除包，保留其全部已经安装的依赖关系➔ pacman -Rs 包名：在删除包的同时，删除其所有没有被其他已安装软件包使用的依赖关系 ➔ pacman -Ss 关键字：在仓库中搜索含关键字的包。➔ pacman -Qs 关键字： 搜索已安装的包。➔ pacman -Qi 包名：查看有关包的详尽信息。➔ pacman -Ql 包名：列出该包的文件。 启动网络服务systemctl start NetworkManager.service 安装 VSCode手动安装： https://linuxhint.com/install_visual_studio_code_arch_linux/ 上面的太麻烦，后来才知道，在Manjaro下有个code-OSS 直接在Package Manager里面搜索下载，或者命令行安装pacman -S code 添加锁屏快捷键在Windows中,我们可以使用 Win + L 来快速锁屏.Manjaro 同样可以. 我们在键盘快捷键添加如下命令 xflock4 或 dm-tool lock 以管理员启动文件管理器sudo thunar 双系统时间冲突如果你在同一台机器上安装有 Windows 和 Linux 两个系统,那么你的时间很可能会冲突,具体见下面 sudo ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime 设置时区的一种方式，注意：&#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F; 这个目录 https://mogeko.me/2019/062/ 查看时间设置情况：timedatectl status 列出可用的时区：timedatectl list-timezones 设置时区(根据上一步的时区进行设置)：sudo timedatectl set-timezone Australia/Sydney 启动NTP: 首先需要配置一下 /etc/systemd/timesyncd.conf，取消 #NTP= 的注释。然后填上 NTP 服务器的地址 以下是苹果的NTP： NTP&#x3D;time1.apple.com time2.apple.com time3.apple.com time4.apple.com time5.apple.com time6.apple.com time7.apple.com 开启NTP timedatectl set-ntp true 查看时间同步的情况：timedatectl timesync-status 手动设置时间sudo timedatectl set-time &quot;2013-08-11 23:56:16&quot; 更改锁屏壁纸sudo lightdm-gtk-greeter-settings Bugs“This session is locked”有时候你离开电脑一段时间，打开屏幕，就会出现下图的情况： 这时，你可以使用 Alt + Ctrl + F6 来调出其他终端窗口，登录你的用户，然后输入下面命令解锁 loginctl list-sessions 列出所有的 sessions，找到对应的 ID loginctl unlock-session [id] 解锁对应 ID 的 session 实际体验感觉能满足大部分日常需要,毕竟现在基本是一个浏览器走天下.不得不说,Arch的社区驱动做的真好,软件该有的都有了.Manjaro给我一个很良好的印象就是: 安装系统后就能使用,而不是像Debian那样,还需要去找一些硬件的驱动. 相见恨晚. 参考链接https://www.jianshu.com/p/ea651cdc5530 https://mrswolf.github.io/zh-cn/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"}]},{"title":"女朋友来查你手机了!","slug":"手机数据隐私初探","date":"2020-04-29T11:33:01.000Z","updated":"2021-10-11T14:26:20.861Z","comments":true,"path":"2020/04/29/shou-ji-shu-ju-yin-si-chu-tan/","link":"","permalink":"https://blog.bingfengs.xyz/2020/04/29/shou-ji-shu-ju-yin-si-chu-tan/","excerpt":"","text":"免责声明: 这一篇只是总结我这些年的使用安卓手机的一些经验，并不一定准确。有不足之处，恳请指正这里演示使用的是 安卓手机， 并且系统是魔趣安卓9.0 手机全加密首先，无论怎样，首先第一件事: 加密你的手机我不知道第三方的安卓手机厂商，有没有启用安卓系统的加密功能。但是，建议检查一下，并开启。魔趣默认没有开启加密。 开启加密的好处 开机必须用键盘密码解锁，无法使用指纹解锁 (这个好处就不需要说明了吧，睡觉前重启一下手机。就算女朋友趁你睡了用你的手来解锁，也没用) 在不知道密码的情况下，无法通过第三方recovery来获取手机的数据 (手机丢了，数据别人也看不到) 加密的坏处: 在开机后未解锁，无法正常使用SIM卡，闹钟无法工作 如果要升级系统，可能需要先解密DATA分区，要求你的第三方recovery必须具备解密功能 一堆莫名奇妙的bugs。 (因为我是用的魔趣社区的包，老实说，稳定性欠佳) 开机速度会有一点慢。但是进入系统后，跟普通使用场景并无二样(个人体验) 开启加密后，是不可逆的。 意味着，手机无法再回到加密前的状态 尽管开启加密有很多小毛病，但是我还是要使用加密的功能。单单安全这个因素，缺陷我可以视而不见。 一般在 setting 里面， 有个 encryption 的选项，按照提示操作就行，确保手机电量充足 隐藏图库某些图片这个就不需要我说明了，谁也不想打开图库，有一堆不想让别人看见的相片。有时候，看一个人的电脑桌面或者一个人的手机图库。就能大概知道他/她是一个什么样的人。 所以我平时桌面图标都是隐藏的，只有一张壁纸。 说了一些废话，下面就说说怎么隐藏你手机图库的图片 看到上图， 里面有一个 .nomedia 的文件没错，如果你的这个文件夹里面的图片不想出现在图库里，添上这一个文件即可。这个文件的作用是告知系统，不需要扫描这个文件夹下的文件，没扫描到，自然不会出现在图库里 手机多开用户说这个功能之前，先看下面的图片，虽然可能有些双标的意思，但是你能了解到多用户是很有用的 现在安卓的多用户功能基本是标配。 魔趣的多用户，用起来没有上图说的那么方便(不知国内其他ROM厂商优化情况是怎样)这个功能我也不怎么用，因为两个账号肯定会多占用更多的硬件资源，管理起来更麻烦，而且我也没有搞清楚它具体的原理，哪些权限是共用的? 不要因为有多账户，就开一个用户给他人用你的手机，这个是很危险的! 下图是增加用户的方法 百度云手机百度最近发布了一项新的云服务，具体报道如下 https://tech.sina.com.cn/i/2020-04-15/doc-iircuyvh7940769.shtml 简单理解: 就是你在云上多了一台手机 官网地址: https://cloud.baidu.com/product/bac.html 我看了一下，申请试用的网页都打不开，还需要备案，国内传统陋习。 我就告辞了，有需要自己去研究，应该不难。只要百度不倒闭，你钱包资金充足，这完全是个优秀的解决方案 防窥膜在朋友的苹果机上见过，防偷窥效果相当出色，只有在特定的角度能看清楚屏幕，显示效果也可以接受。 在其他角度，完全是黑麻麻一片。但是这个方案我也没用过，我喜欢裸奔。。。 物理隔离(多个设备)我觉得更好的方法是，不同的设备做不同的事。譬如 iPad 来娱乐， 手机用来微信， PC 用于日常事务处理。甚至你可以整一个诺基亚，专门用来短信电话，你懂我意思不? 手机里面内置了一堆的传感器，相比于 PC，毫无安全性可言。 有一条就是针对微信步数来的。要是你 かのじょ 问你： 大晚上的，干嘛去了？ 说要早睡，结果微信步数蹭蹭上涨，不是梦游就是绿了 如今的很多人，所有的事情都交给手机，无论是获取资讯，还是沟通交流，甚至编辑 excel。我是很佩服最后一种，在一小块屏幕里指指点点，居然能忍受得了。 如果使用 PC，你能使用得骚操作就多了。 隐私窗口，虚拟机，文件隐藏。 有能力的整个 Ubuntu，一般女生哪里能操作？ 使用匿名通讯软件骚年，你可知道 telegram snapchat 这类加密，阅后即焚软件?什么，你说无法访问？ 你的姿势水平还不够高啊 后记好，废话说了怎么多，那问题来了，女朋友去哪里领? 写这篇的目的，只是图大家一个欢乐而已，同时希望各位的安全意识能够提高一点。 还有其他的招，像查看美团，支付宝，滴滴的记录。 这里，有多个账号的优势就体现出来了。 但是，我要说但是了，作为一名绅士，你出门不带个钱包吗？你钱包没有现金的吗？你可知现金是很难追踪来源和花费的，要不怎么有人家里屯了上亿的现金？ 你们要明白，想查看你手机的人，不仅有 かのじょ，还有无处不在的 Big Brother 安全与便利不可兼得，一味图便利，根本毫无安全可言","categories":[],"tags":[{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Raspberry安装Kali","slug":"Raspberry安装Kali","date":"2020-04-22T12:51:35.000Z","updated":"2021-08-07T12:18:46.924Z","comments":true,"path":"2020/04/22/raspberry-an-zhuang-kali/","link":"","permalink":"https://blog.bingfengs.xyz/2020/04/22/raspberry-an-zhuang-kali/","excerpt":"","text":"前言手头有一个raspi,一直在吃灰.最近打算弄个Kali来用用.我打算用U盘取代内存卡来安装系统,听说内存卡突然断电很容易损坏.Kali学得好,监狱进得早 从U盘启动系统查看树莓派得型号,貌似只有一些比较晚生产的型号可以从U盘启动.具体请Google https://www.jianshu.com/p/ed327a4a6275 $ cat &#x2F;sys&#x2F;firmware&#x2F;devicetree&#x2F;base&#x2F;model Raspberry Pi 3 Model B Rev 1.2r 先用内存卡刷入官方的系统,用没有桌面环境的包就行.启动系统之后,在命令行输入 https://www.jianshu.com/p/2ed5f1c6367b $ echo program_usb_boot_mode&#x3D;1 | sudo tee -a &#x2F;boot&#x2F;config.txt &#x2F;&#x2F;该命令在终端执行，会在config.txt末尾添加program_usb_boot_mode&#x3D;1 然后,重启系统.再次进入系统之后,输入如下命令确认 $ vcgencmd otp_dump | grep 17: 并显示如下信息，表示成功打开 17:3020000a 之后,去kali官网下载arm版本的系统, https://www.offensive-security.com/kali-linux-arm-images/ 按照刷入内存卡的方法在U盘刷入系统,推荐使用rufus注意,U盘尽量选择好一点 U盘刷好系统后, 用一台linux系统的机器挂载U盘,我们需要修改两个文件 https://raspberrypi.stackexchange.com/questions/106762/how-to-install-kali-linux-on-a-usb-for-the-raspberrypi /boot/cmdline.txt root=/dev/sda2 (我这里是 sda2) /etc/fstab 将 /dev/mmcblk0p1 改为 /dev/sda1 将 /dev/mmcblk0p2 改为 /dev/sda2 之后,将U盘插入你的树莓派,等待系统启动即可 听说树莓派4不需要怎么麻烦了,但是价格还是太高了(lll￢ω￢) 启动 ssh | vnc服务端每次给树莓派重装系统之后,最反感的就是要接显示器和键鼠,要是遇上手头没有这些东西,简直抓狂反人类. 所以,Kali的系统就很好了,预先开启ssh,只要有网线,接上路由器,获取ip直接远程登录即可. 注意: Kali默认的登录账号 root. 默认密码 toor (还是很好记的)新的版本账号密码都为 kali, 如果不确定，自己 Google 一下就行 ssh之后,就是开启vnc. vnc已经预安装了,我们启动就行 http://blog.sevagas.com/?VNC-to-access-Kali-Linux-on-Raspberry-Pi 按照如下步骤 Install TightVNC server package: apt update apt-get install tightvncserver (我这里情况是执行这命令,提示已经安装) Install Autocutsel package to enable cut&amp;paste between client and server: apt-get install autocutsel We will make a first run of VncServer to generate configuration files and VNC password. vncserver :1 这一步会让你输入一个远程登录的密码,不同于的root账号的密码,切记 查看服务开启的情况,可以看到5901和6001端口已开启 Port 5901 is VNC connection port, 6001 is X server for VNC. netstat -nptl 配置 cut 和 paste 的自启动功能 目前在我的树莓派不生效…… 编辑你 root 目录下面的这个文件 ~/.vnc/xstartup 增加如下内容,如有重复,记得删除 #!&#x2F;bin&#x2F;sh xrdb $HOME&#x2F;.Xresources xsetroot -solid grey autocutsel -fork # Fix to make GNOME work export XKL_XMODMAP_DISABLE&#x3D;1 &#x2F;etc&#x2F;X11&#x2F;Xsession 到这一步基本都完成，如果你远程后，是一个灰色的页面，只有一个 X 形状的光标，那请修改上面的配置文件为 #!&#x2F;bin&#x2F;sh unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS startxfce4 &amp; [ -x &#x2F;etc&#x2F;vnc&#x2F;xstartup ] &amp;&amp; exec &#x2F;etc&#x2F;vnc&#x2F;xstartup [ -r $HOME&#x2F;.Xresources ] &amp;&amp; xrdb $HOME&#x2F;.Xresources xsetroot -solid grey autocutsel -fork vncconfig -iconic &amp; https://raspberrypi.stackexchange.com/questions/60874/tightvncserver-displaying-grey-screen-on-kali-linux-upon-vnc-connection 客户端到这里,服务端已经搞定.我这边客户端时Windows,就下载了一个vnc viwer在输入栏输入 192.168.1.103:1192.168.1.103 是我树莓派的ip, 不要忘记后面的 :1 输入账号: root （有些情况不需要，如下图，只需密码）密码: 你设置服务端时新设置的密码 然后愉快的 搞破坏 玩耍吧 重置 VNC 密码有时候太久没用，忘记 VNC 的连接密码，可以用下面的方法重置 找到当前用户的 home 文件夹，有个 .vnc 的隐藏文件cd /root/.vnc/ 强制移除里面的 passwd 文件rm -rf passwd 命令行输入 vncserver，重新设置密码 其他这里附上树莓派的一些使用技巧 修改 分辨率hdmi_group&#x3D;2 &#x2F;&#x2F;将显示模式切换成dmt （显示器模式） hdmi_mode&#x3D;82 &#x2F;&#x2F; 1920*1080 60HZ hdmi_drive&#x3D;2 &#x2F;&#x2F;HDMI 模式 打开配置界面 raspi-config 安装输入法apt-get -y install ttf-wqy-zenhei 安装中文字体 apt-get -y install scim-pinyin 安装输入法 apt-get命令中的“-y”参数，用处是免“确认安装吗？[Y&#x2F;n]”一步，直接安装。可以不加。 有些教程推荐ibus输入法。树莓派跑ibus太慢，建议别用。老实一点用scim最好。 http:&#x2F;&#x2F;www.guokr.com&#x2F;post&#x2F;520901&#x2F; dpkg-reconfigure keyboard-configuration 键盘配置 ~/.config/openbox/lxde-rc.xml自定义快捷键 默认目录作用boot： 包含了启动树莓派需要的 Linux 内核和其他软件包bin：操作系统中相关的二进制文件dev： 虚拟目录，实际上并不存在于sd 卡上。所有设备连接到系统，可以从这里访问。etc： 存储配置文件。home：lib：用来存储不同应用程序所需代码共享的库文件lost + found ：当系统崩溃时，存储丢失文件碎片的目录 media：可移动存储设备目录。mnt： 用于手动挂载的存储设备。 opt：用来存储不是操作系统本身自带的软件。安装到树莓派的新软件如不在usr 目录下，通常会在这里。] proc：虚拟目录，包含正在运行的程序信息。selinux: Linux 内核中提供的强制媒体访问控制（MAC）的安全系统。sbin：存储特殊二进制文件的目录。srv：用于存放操作系统服务数据的目录。sys：虚拟目录，用于存放被Linux 内核所使用的系统信息。tmp：临时文件 usr：提供存储用户访问的程序。 var ：虚拟目录，用于存储程序运行时改变的值或变量。 网络Link encap ：网络所使用的封装类型。Bcast ：树莓派所在网络的广播地址。RX ：收到网络流量情况，包括错误以及丢包情况。如果这里有错误，表明网络存在问题。。TX ：发送数据包。 collisions：如果两个系统在网络上尝试在同一时间发送消息，将会发生碰撞，这要求他们重新发送数据包。RX bytes 和 TX bytes ：网络接口传送数据总量。 ifdown eth0ifup eht0开启和关闭 网络端口。 Linux 内核是一个位于/boot 目录下名为kernel.img 的文件，紧急内核是同位于/boot 目录下的另一个文件，名为kernel_emergency.img. /etc/network/interfaces dhcp 配置 /etc/resolv.conf DNS 配置格式 ：nameserver 8.8.8.8 内核缓冲区是一个专用于 Linxu 内核存放用户可读信息的内存区域。因为Linux 启速度非常快， 屏幕上的内容一闪而过，将启动过程输出的信息存放在内核缓冲区中，在需要的时候用户可以查看里面的信息。命令：dmesg ^ 匹配行首字符 iwlist scan 扫描无线接入点。iwconfig 无线网络专用 网卡模式（mode）Managed - 常规无线网络模式，连接到AP。Ad-Hoc - 设备到设备无线网络，无AP。Monitor - 监听网络传输的特殊模式，常用于网络差错。Repeater - 增强网络信号的中继模式。Secondary - Repeater 模式中的一种，此时网卡作为备用中继器使用。 Tx-Power： 无线网卡的传输功率， 数字越大表示信号越强。 树莓派静态ip1、使用ssh登陆，使用以下命令设置静态ip。sudo nano /etc/dhcpcd.conf2、在dhcpcd.conf后添加以下内容：interface eth0static ip_address=10.12.8.124/24static routers=10.12.8.1static domain_name_servers=202.102.152.3 114.114.114.1143、保存后重启树莓派。sudo reboot 作者：科技爱好者链接：https://www.jianshu.com/p/b0e6d066d6b6來源：简书著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 config.txtarm freq : cpu 的核心时钟频率。 默认700 mhz gpu freq ：GPU 的时钟频率。默认为250MHz sdram_freq : 设置RAM芯片的时钟频率，默认频率为400MHz。 gpu_mem=16 设置gpu 内存","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Youtube-dl使用方法","slug":"Youtube-dl使用方法","date":"2020-03-20T03:22:48.000Z","updated":"2020-03-28T14:29:26.013Z","comments":true,"path":"2020/03/20/youtube-dl-shi-yong-fang-fa/","link":"","permalink":"https://blog.bingfengs.xyz/2020/03/20/youtube-dl-shi-yong-fang-fa/","excerpt":"","text":"安装 ffmpeg把下载好的ffmpeg.exe放到youtube-dl同目录下,能自动识别. 运行 youtube-dl -v 查看安装的情况 直接下载youtube-dl https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 添加代理youtube-dl --proxy socks5:&#x2F;&#x2F;127.0.0.1:2089 -F https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;PSBjS2xppec 下载多个视频youtube-dl &lt;url1&gt; &lt;url2&gt; 将要下载视频的 URL 全部放在文本文件中，并将其作为参数传递给 Youtube-dl 也行 youtube-dl -a url.txt 文件的格式:一行一个url,以#开头的行会被忽略 只下载音频youtube-dl -x --audio-format mp3 https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 下载最好画质youtube-dl -f best https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 要下载视频及其他详细信息，如：说明、元数据、注释、字幕和缩略图等youtube-dl --write-description --write-info-json --write-annotations --write-sub --write-thumbnail https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 查看可以下载的画质youtube-dl -F https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 下载指定的画质的视频youtube-dl -f 22 https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;iJvr0VPsn-s 指定下载路径半部分的绝对路径是你指定的，后半部分最好是固定的，使用原来的标题作为文件名以及使用原扩展名。 youtube-dl -o &quot;绝对路径\\%(title)s.%(ext)s&quot; 查看youtube-dl 支持的网站youtube-dl --list-extractors 下载字幕字幕默认是vtt 格式,用下方转格式 youtube-dl --write-sub --sub-format &quot;ass&#x2F;srt&#x2F;best&quot; --convert-subs &quot;srt&quot;&#39; [url] 只下载字幕,不下视频youtube-dl --write-sub --skip-download [url] –write-sub 下载视频制作者上传的字幕–write-auto-sub 下载Youtube机器生成的字幕 常用youtube-dl --proxy socks5:&#x2F;&#x2F;127.0.0.1:2089 -f 313 https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;_sFHPaTU_XA -o &quot;D:\\download\\YoutubeD\\\\%(title)s.%(ext)s&quot; 参考 https://www.sysgeek.cn/youtube-dl-examples/https://blog.starryvoid.com/archives/355.html","categories":[],"tags":[]},{"title":"Windows 技巧","slug":"Windows 技巧","date":"2020-03-07T14:20:16.000Z","updated":"2022-02-19T12:33:20.077Z","comments":true,"path":"2020/03/07/windows-ji-qiao/","link":"","permalink":"https://blog.bingfengs.xyz/2020/03/07/windows-ji-qiao/","excerpt":"","text":"System提取 windows10 锁屏壁纸C:/User/Username/AppDate/Local/Packages/Microsoft.Windows.contentDeliveryManager_*/Localstate/Assets 锁屏后息屏时间设置打开注册表编辑器 HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Power\\PowerSettings\\7516b95f-f776-4464-8c53-06167f40cc99\\子项 在 7516b95f-f776-4464-8c53-06167f40cc99 子项下，我们继续双击打开8EC4B3A5-6868-48c2-BE75-4F3044BE88A7 子项，然后在其右侧页面中找到 Attributes 一项，双击打开该项目。 在接下来打开的页面中，我们将其键值由 1 改为 2，然后保存设置。 https://jingyan.baidu.com/article/a17d52851297e18099c8f270.html 如何为 Windows 10 UWP 应用设置代理UWP 是微软在 Windows 10 中引入的新概念，由于所有 UWP 应用均运行在被称为 App Container 的虚拟沙箱环境中，其安全性及纯净度远胜于传统的 EXE 应用。但 App Container 机制同时也阻止了网络流量发送到本机（即 loopback）， 使大部分网络抓包调试工具无法对 UWP 应用进行流量分析。同样的，该机制也阻止了 UWP 应用访问 localhost，即使你在系统设置中启用了代理，也无法令 UWP 应用访问本地代理服务器，十分恼人。 其实 Windows 10 自带了一款名为 CheckNetIsolation.exe 的命令行工具可以帮助我们将 UWP 及 Windows 8 Metro 应用添加到排除列表，具体步骤如下： 通过注册表获取应用的 SID首先通过 Win + R 快捷键打开「运行」窗口，输入「Regedit」打开注册表编辑器，然后定位到 HKEY_CURRENT_USER\\Software\\Classes\\Local Settings\\Software\\Microsoft\\Windows\\CurrentVersion\\AppContainer\\Mappings，接着在左边的注册表项中找到你想解除网络隔离的应用，右边的 DisplayName 就是应用名称，而左边那一大串字符就是应用的 SID 值了。 打开 CMD 面板在终端中输入 CheckNetIsolation.exe loopbackexempt -a -p=SID，出现「完成」后就大功告成了。 https://zhuanlan.zhihu.com/p/29989157 卸载 Windows10 app一次卸載所有app Get-AppxPackage -AllUsers | Remove-AppxPackage 一次卸載所有app(僅於當前使用帳戶) Get-AppxPackage -User | Remove-AppxPackage 卸载单独一个app Get-AppxPackage *Microsoft3DViewer* | Remove-AppxPackage https://esisterebbb.blogspot.com/2017/06/windows-10-app.html Windows Modern APP 文件夹的命名规则a Microsoft Store apps folder has a different naming structure. Typically, it follows the pattern of name, version number, architecture, and Microsoft Store publisher ID. App 安装的位置 Installation folder – Apps are installed to the WindowsApps folder. You can find it at this location – C:\\Program Files. C:/Program Files/WindowsApps Data folder - Data for all of the Modern Apps are stored in the AppData folder under the user’s profile. Temporary data folder (Isolated storage) – Modern apps save their data at the following location – C:\\Users\\&lt;username&gt;\\AppData\\Local\\Packages. https://www.techmesto.com/windows-store-apps-installed-save-data/ 离线安装 Powershell 运行如下命令，前提是下载好了离线包 Add-AppxPackage -Path &quot;&quot; ProgramFiles(x86) &amp; ProgramFiles 区别 running 64-bit Windows with 32-bit software: %ProgramFiles(x86)% running 32-bit Windows, or 64-bit software with 64-bit Windows: %ProgramFiles% Windows update 组策略的设置 设置更新额外的服务器 Computer Configuration &gt; Policies &gt; Administrative Templates &gt; Windows Components &gt; Windows Updates: Configure Automatic Updates: Enabled, 2 - Notify for download and notify for installDo not connect to any Windows Update Internet locations: DisabledSpecify intranet Microsoft update service location: Disabled 开启官方更新服务器 Computer Configuration &gt; Policies &gt; Administrative Templates &gt;System &gt; Specify settings for optional component installation and component repair Set it to Enabled Alternate source file path: Never attempt to download payload from Windows Update: DisabledDownload repair content and optional features directly from Windows Update instead of Windows Server Update Services (WSUS): Enabled 清除更新的缓存 net stop wuauserv cd %Windir%\\SoftwareDistribution del &#x2F;f &#x2F;s &#x2F;q Download 批量更改文件后缀名ren *.gif *.jpg将 GIF 更改为 jpg ren *.* *.gif 将所有文档更改为 GIF 驱动位置32位: %systemroot%\\system32\\driverstore\\filerepository %systemroot% 表示分区中的 Windows 文件夹 在64位 Windows10 中，64位驱动程序存储位置与上面的相同，但是64位 中的 32 位驱动程序则存储在以下位置:%systemroot%\\syswow64\\driverstore\\filerepository 硬件设备驱动程序中的 inf 文件用于控制驱动程序的安装以及向注册表写入硬件设备的配置信息， 该文件还会标记在安装驱动程序时需要用到的相关文件. 在安装硬件设备的驱动程序时， 驱动程序都会有一个.sys 文件， 有些驱动程序还包含 .dll | .dat | .exe 等文件. %systemroot%\\system32\\drivers Windows 備份驅動PowerShell：dism /online /export-driver /destination:E:\\tempE:\\temp 備份的驅動放置的文件夾 恢復時在 設備管理器中 更新驅動，指定备份的目录或Dism /online /Add-Driver /Driver:D:\\DriversBackup /Recurse 软件自启动目录注：本教程适用于 Win8、Win8.1 和 Win10 系统 首先，“启动”文件夹分为两种，一种是“系统启动文件夹”，Win10系统“启动”文件夹的路径为：X:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp如果想要实现应用程序在所有的用户登录系统后都能自动启动，就把该应用程序的快捷方式放到“系统启动文件夹”里； 另一种为“用户启动文件夹”，如果想要实现某个应用程序只在某个用户登录系统时自动启动，那么就把该应用程序的快捷方式放到这个用户的“启动”文件夹里。Windows10某个用户的“启动”文件夹路径为：X:\\Users\\用户名\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup 打开“系统启动文件夹”的命令shell:Common Startup 打开“用户启动文件夹”的命令shell:startup 打开“运行”对话框，输入以上命令，回车或点击“确定”即可打开“用户启动文件夹” From https://www.windows10.pro/win10-startup-folder/ 只打开自己的USB设备设备管理中找到 usb 设备的ID 之后Win+R组合键后输入 gpedit.msc 进入组策略，依次进入“计算机配置-管理模板-系统-设备安装-设备安装限制”，在右侧打开“允许安装与下列设备ID相匹配的设备”。 双击打开后，点选“已启用”，并点击左下方的“显示”，在弹出对话框中把之前复制的硬件ID贴进去就好了。 From http://www.cfan.com.cn/2018/0511/130790.shtml 清除小娜http://www.cfan.com.cn/2018/0515/130806.shtml 更快的方法是用 LTSC 吧! 组策略中的管理模板管理模板 是组策略的重要组成部分，在管理模板中修改的任何策略都会被保存到 Windows 系统的注册表中. [计算机配置]-&gt;[管理模板] 节点中的策略设置存在Windows 注册表的 HKEY_LOCAL_MACHINE 根键中，[用户配置]-&gt;[管理模板] 节点中的策略设置存在Windows 注册表中的 HKEY_CURRENT_USER 根键中. 管理模板文件基于 XML， 文件扩展名为 admx 除了gpedit之外，可以在 命令提示符中输入 mmc 进入 Microsoft 管理控制台添加 未配置: 策略处于未设置状态， 没有对策略进行任何设置， 对注册表没有进行任何修改. 这是所有策略的默认设置已启用: 系统会将策略启用时的值写入注册表中.已禁用: 策略处于禁用状态， 系统会将策略禁用时的值写入注册表中. [未配置]和[已禁用]两个选项通常产生相同的效果. gpupdate: 刷新组策略 gpupdate /target:comptergpupdate /target:user 可以在控制台中禁用组配置， 而不需要删除 创建删除目录 创建 md如果创建的文件夹有空格， 需要用引号把文件夹名括起来. 如果没有引号，会同时新建多个文件夹 md 可以很方便的创建中级目录:如: md a\\b\\c 删除 rdrd /s /q/s 遇到有子文件或子文件夹的时候可以直接删除./q 安静模式， 不会询问你是否删除 快速启动设置命令 Settings page Uri Landing page for Settings ms-settings: About ms-settings:about Activation ms-settings:activation Apps &amp; features ms-settings:appsfeatures Apps for websites ms-settings:appsforwebsites App volume and device preferences (1903) ms-settings:apps-volume Software Center (SCCM) softwarecenter: AutoPlay ms-settings:autoplay Backup ms-settings:backup Recovery - Reset/Advanced startup ms-settings:recovery Battery Saver ms-settings:batterysaver Battery Saver - settings ms-settings:batterysaver-settings Battery Saver - usage ms-settings:batterysaver-usagedetails Bluetooth Devices ms-settings:bluetooth Shared experiences ms-settings:crossdevice Default apps ms-settings:defaultapps For developers ms-settings:developers Display ms-settings:display Display Screen rotation ms-settings:screenrotation Storage ms-settings:storagesense Offline Maps ms-settings:maps Connected Devices ms-settings:connecteddevices Touchpad ms-settings:devices-touchpad Mouse &amp; Touchpad Devices ms-settings:mousetouchpad Typing ms-settings:typing Find My Device ms-settings:findmydevice USB ms-settings:usb Airplane mode ms-settings:network-airplanemode Cellular Network ms-settings:network-cellular DirectAccess ms-settings:network-directaccess Dial-up Network ms-settings:network-dialup Ethernet Network ms-settings:network-ethernet Proxy (Network) ms-settings:network-proxy Network Status ms-settings:network-status VPN ms-settings:network-vpn Wi-Fi ms-settings:network-wifi Manage known Wi-Fi ms-settings:network-wifisettings Sync your settings ms-settings:sync Data Sense ms-settings:datausage Mobile Hotspot ms-settings:network-mobilehotspot Lock screen ms-settings:lockscreen Power &amp; sleep ms-settings:powersleep Multitasking ms-settings:multitasking Optional features ms-settings:optionalfeatures Personalization ms-settings:personalization Backgrounds ms-settings:personalization-background Colors ms-settings:personalization-colors Colors ms-settings:colors Start Menu ms-settings:personalization-start Taskbar ms-settings:taskbar Themes ms-settings:themes Printers ms-settings:printers Proximity ms-settings:proximity Email &amp; app accounts ms-settings:emailandaccounts Family &amp; other users ms-settings:otherusers Your workplace ms-settings:workplace Date &amp; Time ms-settings:dateandtime Region &amp; language ms-settings:regionlanguage Sign-in options ms-settings:signinoptions Speech ms-settings:speech Privacy ms-settings:privacy Account info (privacy) ms-settings:privacy-accountinfo Background apps (privacy) ms-settings:privacy-backgroundapps App diagnostics (privacy) ms-settings:privacy-appdiagnostics Call history (privacy) ms-settings:privacy-callhistory Calendar (privacy) ms-settings:privacy-calendar Contacts (privacy) ms-settings:privacy-contacts Email (privacy) ms-settings:privacy-email Feedback &amp; diagnostics (privacy) ms-settings:privacy-feedback Location (privacy) ms-settings:privacy-location Messaging (privacy) ms-settings:privacy-messaging Microphone (privacy) ms-settings:privacy-microphone Motion (privacy) ms-settings:privacy-motion Notifications and Actions ms-settings:notifications Notifications (privacy) ms-settings:privacy-notifications Other (privacy) ms-settings:privacy-customdevices Radio (privacy) ms-settings:privacy-radios Speech (privacy) ms-settings:privacy-speechtyping Tasks (privacy) ms-settings:privacy-tasks Webcam (privacy) ms-settings:privacy-webcam Your info (Microsoft account) ms-settings:yourinfo Closed Captioning ms-settings:easeofaccess-closedcaptioning High Contrast ms-settings:easeofaccess-highcontrast Keyboard ms-settings:easeofaccess-keyboard Magnifier ms-settings:easeofaccess-magnifier Mouse ms-settings:easeofaccess-mouse Narrator ms-settings:easeofaccess-narrator Other options ms-settings:easeofaccess-otheroptions Projecting to this PC ms-settings:project Tablet mode ms-settings:tabletmode Windows Defender ms-settings:windowsdefender Windows Insider Program (beta’s) ms-settings:windowsinsider Troubleshoot - Fix Windows Update ms-settings:troubleshoot Windows Update ms-settings:windowsupdate WinUpdate - Check for updates ms-settings:windowsupdate-action WinUpdate - Update history ms-settings:windowsupdate-history WinUpdate - Advanced options ms-settings:windowsupdate-options WinUpdate - Restart options ms-settings:windowsupdate-restartoptions 关闭开机动画，加快开机 打开回收站explorer.exe ::&#123;645FF040-5081-101B-9F08-00AA002F954E&#125; 导入和删除计划任务schtasks /create /ru %runasUsername% /rp %runasPassword% /tn %taskname% /xml %filename% 其中 /ru 是运行这个任务时， 需要以这个账号运行/tn 指定这个任务的名称 这个命令执行之后，会在计划任务的GUI里面显示刚才导入的任务 删除：schtasks /delete /tn taskname 注册表runonce同一台机器，不同用户的注册表， 有些地方是不一样的比如， 你在 administrator 的HKEY_CURRENT_USER/Software/Microsoft/Windows/CurrentVersion/RunOnce下面添加东西切换到 bin 这个账号，是看不到刚才在 administrator 添加的东西的 也就是你不能在administrator账号下面添加 runonce 的项， 然后指望切换到 bin 账号让项生效 HKEY_CURRENT_USER 代表当前用户，当前用户登录后才执行的操作。HKEY_LOCAL_MACHINE 代表当前机器，所有操作在用户登录前就执行了。Run 键值代表着开机启动项，也就是说在这个项下的键值会随着开机启动（这里的开机是指用户登录，也就是说只要有登录操作就会执行，注销然后登录，也会执行这个键值）。RunOnce 键值类似于 Run 键值，唯一的区别在于，RunOnce 键值只执行一次，操作执行后会被自动删除。 uninstall32位：HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\ 64位：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstal 去除安装软件时的安全提醒REG ADD &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\\Zones\\3&quot; &#x2F;V &quot;1806&quot; &#x2F;T &quot;REG_DWORD&quot; &#x2F;D &quot;00000000&quot; &#x2F;F REG ADD &quot;HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\\Zones\\3&quot; &#x2F;V &quot;1806&quot; &#x2F;T &quot;REG_DWORD&quot; &#x2F;D &quot;00000000&quot; &#x2F;F REG ADD &quot;HKLM\\SOFTWARE\\Policies\\Microsoft\\Internet Explorer\\Security&quot; &#x2F;V &quot;DisableSecuritySettingsCheck&quot; &#x2F;T &quot;REG_DWORD&quot; &#x2F;D &quot;00000001&quot; &#x2F;F 查看网卡wmic nic get name, index, NetConnectionStatus 0 &#x3D; Disconnected 1 &#x3D; Connecting 2 &#x3D; Connected 2 3 &#x3D; Disconnecting 4 &#x3D; Hardware Not Present 5 &#x3D; Hardware Disabled 6 &#x3D; Hardware Malfunction 7 &#x3D; Media Disconnected 8 &#x3D; Authenticating 9 &#x3D; Authentication Succeeded 10 &#x3D; Authentication Failed 11 &#x3D; Invalid Address 12 &#x3D; Credentials Required wmic path win32_networkadapter where index&#x3D;1 call disable 查看 Chrome 版本reg query &quot;HKLM\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Google Chrome&quot; wmic datafile where name&#x3D;&quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot; get Version &#x2F;value wmic 远程执行命令wmic &#x2F;USER:&quot;sss\\user1&quot; &#x2F;PASSWORD:&quot;ss-12&quot; &#x2F;NODE:111.111.111.111 process call create &quot;D:\\r.bat&quot; 查询电源计划任务的情况：UID 从顶层开始指定，不然会报错 powercfg &#x2F;q db310065-829b-4671-9647-2261c00e86ef 238c9fa8-0aad-41ed-83f4-97be242c8f20 7bc4a2f9-d8fc-4469-b07b-33eb785aaca0 查看 Windows 版本可以查看 OS Build:ver 或者：winver 更改 DNS 查看网卡状态：netsh interface show interface 添加主 DNS：netsh interface ipv4 set dnsservers &quot;Ethernet&quot; static 8.8.8.8 primary 添加辅助 DNSnetsh interface ipv4 add dnsservers &quot;Ethernet&quot; 1.1.1.1 index=2 设置动态 DNSnetsh interface ip set dns name=&quot;本地连接&quot; source=dhcp 锁屏命令% windir %\\System32\\rundll32.exe user32.dll,LockWorkStation https://docs.microsoft.com/en-us/windows/win32/cimwin32prov/win32shutdown-method-in-class-win32-operatingsystem 移除路由表route delete 0.0.0.0 mask 0.0.0.0 172.31.96.1 -p SoftwaresNotePad++ 缓存文件的位置C:\\Users\\Administrator\\AppData\\Roaming\\Notepad++\\session.xml C:\\Users\\Administrator\\AppData\\Roaming\\Notepad++\\backup 里面的文件就是你的自动保存的缓存文件。 From https://blog.csdn.net/u010216716/article/details/49814283 静默安装大部分软件，其安装都具备一定的智能性，换句话说，许多软件的安装都能采取全自动或半自动的方式进行。 一、 Microsoft Windows Installer如果某个软件是用 Windows Installer 打包的，那你就应该能在文件夹中看到 *.msi 文件。 这是最典型的特征，这些文件通常可以使用 /QB 和 /QN 参数进行自动安装 /qb 会在窗口中显示一个基本的安装进程 /qn 参数则不会显示任何窗口，直接在后台自动安装 为了阻止某些程序安装成功后自动重启动（例如Kerio Personal Firewall 4），你可以在 /qn 或者 /qb参数后使用REBOOT=Suppress标记，例如： 如安装虚拟光驱 DaemonTools：msiexec /i dtools.msi /qb REBOOT=SUPPRESS 二、 Windows 补丁包有两种情况，一种是类似IE增量补丁包的那种安装文件，要使之静默安装，只需要在执行文件后加上 /q:a /r:n 参数即可；一种是 Windows 常用的补丁文件，一般情况下加上 /U /N /Z 即可实现静默安装。 (对于新的系统补丁，也可使用 /passive /norestart)。这通用大部分情况，但某些特定的补丁不能用此法进行静默安装。 三、InstallShielda.要使用静默安装的方式安装用InstallShield技术打包的程序，首先要在现有的操作系统中创建一个setup.iss文件。 在命令行窗口中使用 -R 参数（大小写敏感）运行安装程序。 例如：Setup.exe -R b. 接着会显示常见的安装屏幕，并且询问你一些问题，例如要安装的目录等有一点是很重要的，在安装结束后你不能选择“立刻重启动计算机”的选项。如果你选了，在批处理文件中的其他命令就会因为计算机重启动而无法执行。 c. 在安装程序运行完毕后，打开你的C:/Windows（或者C:/WINNT）目录，然后找到setup.iss文件，把这个文件和你将要静默安装的程序setup.exe保存在同一个目录中 d. 用以下命令进行静默安装：setup.exe -s [-sms] 我怎么知道哪个程序是使用InstallShield技术打包的？ 大部分这类程序的安装文件都可以被压缩软件解压缩，安装文件setup.exe的属性对话框中应该有“InstallShield (R) Setup Launcher”或者其他类似的字样。 最后，如果你在保存安装文件的文件夹中看到了一个setup.iss文件，那么毫无疑问这是用InstallShield打包了！ 四、InstallShield with MSIInstallShield with MSI 制作的安装文件，请使用类似：setup.exe /s /v”/qb” 来安装 五、WISE Installer用WISE技术打包的软件在安装的时候可以选择使用 /s参数进行自动安装：setup.exe /s 六、Inno SetupInno Setup 制作的安装文件，请使用：setup.exe /sp- /silent /norestart 我怎么知道哪个安装程序是用Inno 技术打包的？ 这种软件安装时第一个界面一般如下图所示 在窗口标题栏左侧的图标上点击鼠标左键，然后再探出菜单上点击“About Setup”可以看见安装类型 七、NullSoft Installation System使用 NSIS (NullSoft Installation System) 制作的安装文件，可用 /S （注意大写）来进行静默安装。示例：setup.exe /S 使用NSIS 打包的安装文件可以用 /S参数进行自动安装（“S”是大小写敏感的）： Setup.exe /S 你也可以用 /D参数选择将要安装的目标分区和文件夹： Setup.exe /S /D=E:/Software/CDex 像Winamp 和CDex这类的软件都会在安装结束后显示一个确认屏幕（CDex）或者一个设置文件关联方式的结束安装屏幕（Winamp） 我怎么知道哪个程序是使用NSIS技术打包的？ 很多用NSIS打包的程序在安装的时候都有类似这样的窗口，例如Winamp 和CDex 八、Wise Installation Professional制作的安装文件，可用 /silent 参数进行静默安装。 反正拿到一个安装程序，大家用各静默安装参数试试就知道了 （[/s] [/S] [/silent [/noreboot]] [/verysilent [/sp-] [/norestart]] [/q] [/qn] [/qb] [REBOOT=SUPPRESS] [/s /v/qn] [/q:a /r:n] [/u /n /z] [/quiet] [/SilentInstallNoSponsor] [/SilentInstall] [/s /qn] [/s /qd] [-s] [-q] 等） 常用软件的静默安装参数参考 winrar 静默参数 /s (大小写皆可) Windows Installer 3 (.msi)msiexec /i x:/y/z.msi /qb(或qn) /norestart获取安装参数：msiexec /help inno 的包 /verysilent 代替 /silent 也可 From https://blog.csdn.net/lihongzhai/article/details/5048748 火狐软件问题 设置出现这样的提示 到注册表里面删除 把mozilla 目录下的 firefox 目录删除","categories":[],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"wmi使用介绍","slug":"WMI使用介绍","date":"2020-03-04T14:19:40.000Z","updated":"2020-05-25T14:15:02.057Z","comments":true,"path":"2020/03/04/wmi-shi-yong-jie-shao/","link":"","permalink":"https://blog.bingfengs.xyz/2020/03/04/wmi-shi-yong-jie-shao/","excerpt":"","text":"wmi介绍这里推荐一个辅助软件, WMI Explorer 2.0 可以调用wmi的方式或者语言* wmic.exe * winrm.exe * winrs.exe * powershell * windows scripting host(WSH) * VBScript * JScript * mof * C&#x2F;C++ via IWbem* COM API * .NET System.Management classes 事件内部事件内部事件表示的是创建、修改和删除任何 WMI 类，对象或命名空间的事件。它们也可被用于计时器或 WMI 方法执行的警报。以下内部事件采用了系统类 (以两个下划线开头的那些) 的形式，并存在于每一个 WMI 命名空间: __NamespaceOperationEvent __NamespaceModificationEvent __NamespaceDeletionEvent __NamespaceCreationEvent __ClassOperationEvent __ClassDeletionEvent __ClassModificationEvent __ClassCreationEvent __InstanceOperationEvent __InstanceCreationEvent __MethodInvocationEvent __InstanceModificationEvent __InstanceDeletionEvent __TimerEvent 这些事件的作用非常强大，因为它们可以被用于在操作系统中几乎任何可以想见的事件的触发器。例如，如果触发了一个基于交互式登录的事件则可以形成下面的内部事件查询: 此查询被转换为创建一个登录类型为 2 （交互式）的 Win32_LogonSession 类的一个实例。 由于触发的内部事件有一定的频率，所以必须在 WQL 查询语句的 WITHIN 子句中指定事件轮询间隔。这就是说，它有时可能错过事件。例如，如果事件查询的形式目的是创建 WMI 类的实例，如果该实例的创建和销毁 (如常见的一些进程 —— Win32_Process 实例) 在轮询间隔内，那么则会错过这一事件。创建内部 WMI 查询时，必须考虑这种可能出现的情况。 SELECT * FROM __InstanceCreationEvent WITHIN 15 WHERE TargetInstance ISA ‘Win32_LogonSession’ AND TargetInstance.LogonType = 2 外部事件外部事件解决了和内部事件有关的潜在的轮询问题，因为它们在事件发生时立刻被触发。然而美中不足的是在 WMI 中并没有太多的外部事件，不过，所有已经存在的外部事件的作用很强大，性能也很高。下面的外部事件对于攻击者和防御者来说可能是有用的： ROOT\\CIMV2:Win32_ComputerShutdownEvent ROOT\\CIMV2:Win32_IP4RouteTableEvent ROOT\\CIMV2:Win32_ProcessStartTrace ROOT\\CIMV2:Win32_ModuleLoadTrace ROOT\\CIMV2:Win32_ThreadStartTrace ROOT\\CIMV2:Win32_VolumeChangeEvent ROOT\\CIMV2: Msft_WmiProvider* ROOT\\DEFAULT:RegistryKeyChangeEvent ROOT\\DEFAULT:RegistryValueChangeEvent 以下外部事件查询形式可以用来捕获每一个进程已加载的所有可执行模块（用户模式和内核模式）：SELECT * FROM Win32_ModuleLoadTrace WQL 查询实例查询SELECT [Class property name|*] FROM [CLASS NAME] &lt;WHERE [CONSTRAINT]&gt; select * from Win32_NTlogEvent where logfile &#x3D; &#39;application&#39; SELECT Freespace,DeviceID FROM Win32_LogicalDisk * 代表的是下图区域3的所有属性(properties).也可以具体指定某些属性,而不是全部(没有*号好用) from 后面接1的类型(Classes) where 后面可以接属性的参数进行筛选,如下图的3 区域 SELECT * FROM Win32_Process WHERE Name LIKE &quot;%chrome%&quot; 事件查询SELECT [Class property name|*] FROM [INTRINSIC CLASS NAME] WITHIN [POLLING INTERVAL] &lt;WHERE [CONSTRAINT]&gt; SELECT [Class property name|*] FROM [EXTRINSIC CLASS NAME] &lt;WHERE [CONSTRAINT]&gt; SELECT * FROM __InstanceCreationEvent WITHIN 15 WHERE TargetInstance ISA &#39;Win32_LogonSession&#39; AND TargetInstance.LogonType &#x3D; 2 交互式用户登录的事件查询触发器 strComputer &#x3D; &quot;.&quot; Set objWMIService &#x3D; GetObject(&quot;winmgmts:\\\\&quot; &amp; strComputer &amp; &quot;\\root\\cimv2&quot;) Set colMonitorProcess &#x3D; objWMIService.ExecNotificationQuery _ (&quot;SELECT * FROM __instancemodificationevent WITHIN 10&quot; &amp; _ &quot;WHERE TargetInstance ISA &#39;Win32_Service&#39;&quot;) WScript.Echo &quot;Waiting for process change event ...&quot; Set objLatestEvent &#x3D; colMonitorProcess.NextEvent WScript.Echo VbCrLf &amp; objLatestEvent.Path_.Class Wscript.Echo &quot;Process Name: &quot; &amp; objLatestEvent.TargetInstance.Name Wscript.Echo &quot;Process ID: &quot; &amp; objLatestEvent.TargetInstance.ProcessId Wscript.Echo &quot;Process State:&quot; &amp; objLatestEvent.TargetInstance.state WScript.Echo &quot;Time: &quot; &amp; Now 元查询用于查询WMI类架构 SELECT [Class property name|*] FROM [Meta_Class&lt;WHERE [CONSTRAINT]&gt; OPTIONAL-META-WHERE &#x3D; [&quot;WHERE __THIS ISA&quot; &lt;CLASS-NAME&gt;] vbs 使用 vmivbs脚本操作wmi对象的时候，有两种方法 winmgmts:\\\\ 和WbemScripting.SWBemlocator 不过这两者是有异同的，SWbemlocator可以做到WMI moniker不能做到的两个功能（SWbemlocator is designed to address two specific scripting scenarios that cannot be performed using GetObject and the WMI moniker， You must use SWbemLocator if you need to)： provide user and password credentials to connect to WMI on a remote computer. The WMI moniker used with the GetObject function does not include a mechanism for specifying credentials. Connect to WMI if you are runing a WMI script from within a Web page. 如下是vbs两种声明的方式 strComputer&#x3D;&quot;.&quot; set objService &#x3D; GetObject(&quot;winmgmts:\\\\&quot; &amp; strComputer &amp; &quot;\\root\\cimv2&quot;) &#39;set objWmi &#x3D; CreateObject(&quot;WbemScripting.SWBemLocator&quot;) &#39;set objService &#x3D; objWmi.ConnectServer(strComputer, &quot;root\\cimv2&quot;) set objSet &#x3D; objService.InstancesOf(&quot;Win32_Process&quot;) &#39;set objSet &#x3D; objService.ExecQuery(&quot;SELECT * FROM Win32_process&quot;) for each obj in objSet Wscript.Echo &quot;Name: &quot; &amp; obj.Name Next 创建对象并连接服务器 Set objWMIService&#x3D;GetObject(&quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot;&amp;strComputer&amp;&quot;\\root\\cimv2:Win32_Process&quot;) 例子操作注册表读取注册表Value const HKEY_CURRENT_USER &#x3D; &amp;H80000001 &#39;Replace the dot with a computer name or IP to use any other than the local machine strComputer &#x3D; &quot;.&quot; Set oReg&#x3D;GetObject(&quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp; strComputer &amp; &quot;\\root\\default:StdRegProv&quot;) strKeyPath &#x3D; &quot;Console&quot; strValueName &#x3D; &quot;HistoryBufferSize&quot; oReg.GetDWORDValue HKEY_CURRENT_USER,strKeyPath,strValueName,dwValue WScript.Echo &quot;Current History Buffer Size: &quot; &amp; dwValue 其他的根代号 Const HKEY_CLASSES_ROOT = &amp;H80000000 Const HKEY_CURRENT_USER = &amp;H80000001 Const HKEY_LOCAL_MACHINE = &amp;H80000002 Const HKEY_USERS = &amp;H80000003 Const HKEY_CURRENT_CONFIG = &amp;H80000005 strComputer 可以是远程计算机. 填写其计算机名即可.如 binPCstrKeyPath 是注册表key的路径, 路径前后末端不用反斜杠GetDWORDValue 不同类别的value用不同Get方法,具体如下 GetBinaryValue &lt;&gt; REG_BINARY oReg.GetBinaryValue HKEY_LOCAL_MACHINE,strKeyPath, strValueName,strValue 返回 strValue 具体参照: https://docs.microsoft.com/en-us/previous-versions/windows/desktop/regprov/getbinaryvalue-method-in-class-stdregprov GetDWORDValue &lt;&gt; REG_DWORD 用法如上 GetExpandedStringValue &lt;&gt; REG_EXPAND_SZ const HKEY_LOCAL_MACHINE &#x3D; &amp;H80000002 strComputer &#x3D; &quot;.&quot; Set objReg&#x3D;GetObject(&quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot;&amp;_ strComputer &amp; &quot;\\root\\default:StdRegProv&quot;) strKeyPath &#x3D; &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\WinLogon&quot; strValueName &#x3D; &quot;UIHost&quot; Return &#x3D; objReg.GetExpandedStringValue(HKEY_LOCAL_MACHINE,_ strKeyPath,strValueName,strValue) If (Return &#x3D; 0) And (Err.Number &#x3D; 0) Then WScript.Echo &quot;The Windows logon UI host is: &quot; &amp; strValue Else Wscript.Echo _ &quot;GetExpandedStringValue failed. Error &#x3D; &quot; &amp; Err.Number End If GetMultiStringValue &lt;&gt; REG_MULTI_SZ GetQWORDValue &lt;&gt; REG_QWORD GetStringValue &lt;&gt; REG_SZ 新建一个Keyconst HKEY_LOCAL_MACHINE &#x3D; &amp;H80000002 strComputer &#x3D; &quot;.&quot; Set objReg&#x3D;GetObject( &quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp; strComputer &amp; &quot;\\root\\default:StdRegProv&quot;) strKeyPath &#x3D; &quot;SOFTWARE\\NewKey&quot; objReg.CreateKey HKEY_LOCAL_MACHINE,strKeyPath WScript.Echo &quot;Created registry key HKEY_LOCAL_MACHINE\\SOFTWARE\\NewKey&quot; 在key下创建一个valueConst HKEY_LOCAL_MACHINE &#x3D; &amp;H80000002 strKeyPath &#x3D; &quot;SOFTWARE\\NewKey&quot; strComputer &#x3D; &quot;.&quot; Set objReg&#x3D;GetObject( &quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp; strComputer &amp; &quot;\\root\\default:StdRegProv&quot;) strValueName &#x3D; &quot;Example_Expanded_String_Value&quot; strValue &#x3D; &quot;%PATHEXT%&quot; objReg.SetExpandedStringValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,strValue WScript.Echo &quot;Example expanded_String_Value at &quot; &amp; &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\NewKey&quot; 获取计算机硬件Set Wshshell &#x3D; CreateObject(&quot;WScript.Shell&quot;) Set fs &#x3D; wscript.createobject(&quot;scripting.filesystemobject&quot;) thisFilePath &#x3D; fs.GetFile(Wscript.ScriptFullName).ParentFolder.Path &#39;获取执行这个vbs脚本的路径 saveFileName &#x3D; wshShell.ExpandEnvironmentStrings( &quot;%COMPUTERNAME%&quot; ) &#39;获取执行脚本计算机的主机名 saveFile &#x3D; thisFilePath &amp; &quot;\\&quot; &amp; saveFileName &amp; &quot;.txt&quot; &#39;输出结果到文本 Set ts &#x3D; fs.CreateTextFile(saveFile, True, True) strComputer &#x3D; &quot;.&quot; Set objWMIService &#x3D; GetObject(&quot;winmgmts:&#x2F;&#x2F;&quot; &amp; strComputer &amp; &quot;&#x2F;root&#x2F;cimv2&quot;) Dim ip,mac,hostname,model,sn,version,officeVer,Memlocation,Memsize,Memtype &#39;------------------ &#39;调用各个function模块 GetIPMAC GetHostnameModel GetSN GetWinVer GetMemnory &#39;------------------ ts.writeline(&quot;Name&#x3D;&quot; &amp; hostname) ts.writeline(&quot;Model&#x3D;&quot; &amp; model) ts.writeline(&quot;Ipaddress&#x3D;&quot; &amp; ip) ts.writeline(&quot;Macaddress&#x3D;&quot; &amp; mac) ts.writeline(&quot;SerialNumber&#x3D;&quot; &amp; sn) ts.writeline(&quot;Version&#x3D;&quot; &amp; Version) ts.close Function GetHostnameModel() dim colComputer,colComputers Set colComputers &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_ComputerSystem&quot;) For Each objComputer in colComputers hostname &#x3D; objComputer.Name model &#x3D; objComputer.model Exit For Next End Function Function GetIPMAC() Set colItems &#x3D; objWMIService.ExecQuery _ (&quot;Select * From Win32_NetworkAdapterConfiguration Where IPEnabled &#x3D; True&quot;) For Each objItem in colItems For Each objAddress in objItem.IPAddress If objAddress &lt;&gt; &quot;&quot; then &#39; GetIPMAC &#x3D;&quot;IP: &quot; &amp; objAddress &amp; vbCrlf &amp; &quot;MAC: &quot; &amp; objItem.MACAddress ip &#x3D; objAddress mac &#x3D; objItem.MACAddress Exit For End If Next Exit For Next End Function Function GetSN() Set colItems &#x3D; objWMIService.ExecQuery _ (&quot;SELECT * FROM Win32_BIOS&quot;) for each colItem in colItems sn &#x3D; colItem.SerialNumber Exit For Next End Function Function GetWinVer() Set colComputers &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_OperatingSystem&quot;) For Each objComputer in colComputers version &#x3D; objcomputer.BuildNumber Exit For Next End Function Function GetOfficeVer() &#39;获取office的功能目前无法实现 Set colComputers &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_ComputerSystem&quot;) End Function Function GetMemnory() Set colComputers &#x3D; objWMIService.ExecQuery _ (&quot;SELECT * FROM Win32_PhysicalMemory&quot;) For Each objComputer in colComputers Memlocation &#x3D; objComputer.DeviceLocator Memsize &#x3D; objComputer.Capacity Memtype &#x3D; objComputer.ConfiguredClockSpeed ts.writeline(&quot;&quot;) ts.writeline(&quot;Memlocation&#x3D;&quot; &amp; Memlocation) ts.writeline(&quot;Memsize&#x3D;&quot;&amp; Memsize) ts.writeline(&quot;Memtype&#x3D;&quot;&amp; Memtype) ts.writeline(&quot;&quot;) Next End Function 查看电脑类型strComputer &#x3D; &quot;.&quot; Set objWMIService &#x3D; GetObject(&quot;winmgmts:&quot; _ &amp; &quot;&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp; strComputer &amp; &quot;\\root\\cimv2&quot;) Set colChassis &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_SystemEnclosure&quot;) For Each objChassis in colChassis For Each strChassisType in objChassis.ChassisTypes Select Case strChassisType Case 1 Wscript.Echo &quot;Other&quot; Case 2 Wscript.Echo &quot;Unknown&quot; Case 3 Wscript.Echo &quot;Desktop&quot; Case 4 Wscript.Echo &quot;Low Profile Desktop&quot; Case 5 Wscript.Echo &quot;Pizza Box&quot; Case 6 Wscript.Echo &quot;Mini Tower&quot; Case 7 Wscript.Echo &quot;Tower&quot; Case 8 Wscript.Echo &quot;Portable&quot; Case 9 Wscript.Echo &quot;Laptop&quot; Case 10 Wscript.Echo &quot;Notebook&quot; Case 11 Wscript.Echo &quot;Handheld&quot; Case 12 Wscript.Echo &quot;Docking Station&quot; Case 13 Wscript.Echo &quot;All-in-One&quot; Case 14 Wscript.Echo &quot;Sub-Notebook&quot; Case 15 Wscript.Echo &quot;Space Saving&quot; Case 16 Wscript.Echo &quot;Lunch Box&quot; Case 17 Wscript.Echo &quot;Main System Chassis&quot; Case 18 Wscript.Echo &quot;Expansion Chassis&quot; Case 19 Wscript.Echo &quot;Sub-Chassis&quot; Case 20 Wscript.Echo &quot;Bus Expansion Chassis&quot; Case 21 Wscript.Echo &quot;Peripheral Chassis&quot; Case 22 Wscript.Echo &quot;Storage Chassis&quot; Case 23 Wscript.Echo &quot;Rack Mount Chassis&quot; Case 24 Wscript.Echo &quot;Sealed-Case PC&quot; Case Else Wscript.Echo &quot;Unknown&quot; End Select Next Next 启动音频服务有时候音频服务关闭,插入耳机也没有反应,可以通过Troubleshoot sound problems解决.但是为了自动化,就写了个脚本: strComputer &#x3D; &quot;.&quot; Set objWMIService &#x3D; GetObject(&quot;winmgmts:&quot; &amp; &quot;&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp; strComputer &amp; &quot;\\root\\cimv2&quot;) Set colListOfServices &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_Service Where Name &#x3D; &#39;AudioEndpointBuilder&#39;&quot;) For Each objService in colListOfServices objService.StartService() objService.ChangeStartMode(&quot;Automatic&quot;) Next Set colListOfServices &#x3D; objWMIService.ExecQuery _ (&quot;Select * from Win32_Service Where Name &#x3D; &#39;Audiosrv&#39;&quot;) For Each objService in colListOfServices objService.StartService() objService.ChangeStartMode(&quot;Automatic&quot;) Next 参考 http://huaidan.org/archives/1087.html https://xz.aliyun.com/t/2080 https://wooyun.js.org/drops/WMI%20%E7%9A%84%E6%94%BB%E5%87%BB%EF%BC%8C%E9%98%B2%E5%BE%A1%E4%B8%8E%E5%8F%96%E8%AF%81%E5%88%86%E6%9E%90%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%94%BB%E5%87%BB%E7%AF%87.html cmd 下使用vmi查看帮助 /? 获取帮助 process/? 获取process这个子命令的帮助信息 用法processprocess where name&#x3D;&quot;maxthon.exe&quot; list full name 后面必须接完整的进程名称(包括 .exe) list full 会显示出进程的具体信息,排版也会整齐点 wmic process where name&#x3D;&#39;QQ.exe&#39; call terminate 结束 QQ.exe 进程. 如果 ReturnValue 显示等于 0 , 代表命令执行成功 services停止服务 Service where caption&#x3D;&quot;windows time&quot; call stopservice 开启服务 Service where caption&#x3D;&quot;windows time&quot; call startservice 停止服务,注意 name 和 caption 的区别 Service where name&#x3D;&quot;w32time&quot; call stopservice caption 显示服务名name 服务名称 更改spooler服务启动类型[auto|Disabled|Manual] 释[自动|禁用|手动] wmic SERVICE where name&#x3D;&quot;Spooler&quot; set StartMode&#x3D;&quot;auto&quot; 删除服务 wmic SERVICE where name&#x3D;&quot;test123&quot; call delete bios———–重要语法——————–显示出BIOS信息 wmic bios list full list决定显示的信息格式与范围，它有Brief、Full、Instance、 Status、System、Writeable等多个参数，full只是它的一个参数，也是list的缺省参数，表示显示所有的信息。其他几个参数顾名思义，如Brief表示只显示摘要信息，Instance表示只显示对象实例，Status表示显示对象状态，Writeable表示只显示该对象的可写入的属性信息等。 获取bios其中一个参数(serialnumber)的值 wmic bios get serialnumber &#x2F;value 同时获取两个值 wmic bios get Manufacturer,Name ip配置或更新IP地址： wmic nicconfig where index&#x3D;0 call enablestatic(&quot;192.168.1.5&quot;), (&quot;255.255.255.0&quot;) 此命令自己测试不通过,可以作为参考用,如果要更改IP地址信息,可以用下面的命令 netsh interface ip set address &quot;以太网&quot; static 192.168.2.200 255.255.255.0 192.168.2.1 &#39;这个命令设置静态ip地址, 后面三个地址分别对应:IP地址,子网掩码,默认网关 netsh interface ip set dns &quot;以太网&quot; static 8.8.8.8 &#39; 设置静态DNS netsh interface ip add dns &quot;以太网&quot; 180.76.76.76 &#39;添加DNS 可以通过下面命令查询 index 对应的 网卡 nicconfig get index,description system这个命令可以查看某些系统信息 wmic computersystem list full 而这个命令可以查看计算机名称以及型号 wmic computersystem get name,model C:\\Windows\\system32&gt;wmic computersystem get name,model Model Name OptiPlex 3050 CANW0000000516 更改计算机名称可以先用 hostname 命令 查询当前计算机名称 更改计算机名abc为123 wmic computersystem where &quot;name&#x3D;&#39;abc&#39;&quot; call rename 123 或者为 WMIC computersystem where caption&#x3D;&#39;DESKTOP-HJ3HMEF&#39; rename &#39;Sysgeek-PC&#39; cpu wmic cpu list full 硬盘 wmic DISKDRIVE get Caption,size,InterfaceType wmic LOGICALDISK get name,Description,filesystem,size,freespace 文件查找e盘下test目录(不包括子目录)下的cc.cmd文件 wmic datafile where &quot;drive&#x3D;&#39;e:&#39; and path&#x3D;&#39;\\\\test\\\\&#39; and FileName&#x3D;&#39;cc&#39; and Extension&#x3D;&#39;cmd&#39;&quot; list 注意: path 参数反斜杠需要两个 查找e盘下所有目录和子目录下的cc.cmd文件,且文件大小大于1K wmic datafile where &quot;drive&#x3D;&#39;e:&#39; and FileName&#x3D;&#39;cc&#39; and Extension&#x3D;&#39;cmd&#39; and FileSize&gt;&#39;1000&#39;&quot; list 删除e盘下文件大小大于10M的.cmd文件 wmic datafile where &quot;drive&#x3D;&#39;e:&#39; and Extension&#x3D;&#39;cmd&#39; and FileSize&gt;&#39;10000000&#39;&quot; call delete 删除e盘下test目录(不包括子目录)下的非.cmd文件 wmic datafile where &quot;drive&#x3D;&#39;e:&#39; and Extension&lt;&gt;&#39;cmd&#39; and path&#x3D;&#39;test&#39;&quot; call delete 复制e盘下test目录(不包括子目录)下的cc.cmd文件到e:,并改名为aa.bat wmic datafile where &quot;drive&#x3D;&#39;e:&#39; and path&#x3D;&#39;\\\\test\\\\&#39; and FileName&#x3D;&#39;cc&#39; and Extension&#x3D;&#39;cmd&#39;&quot; call copy &quot;e:\\aa.bat&quot; wmic 全盘搜索某文件并获取该文件所在目录 for &#x2F;f &quot;skip&#x3D;1 tokens&#x3D;1*&quot; %i in (&#39;wmic datafile where &quot;FileName&#x3D;&#39;qq&#39; and extension&#x3D;&#39;exe&#39;&quot; get drive^,path&#39;) do (set &quot;qPath&#x3D;%i%j&quot;&amp;@echo %qPath:~0,-3%) 改名c:\\hello.txt为c:\\test.txt wmic datafile &quot;c:\\\\hello.txt&quot; call rename c:\\test.txt 查找h盘下目录含有test,文件名含有perl,后缀为txt的文件 wmic datafile where &quot;drive&#x3D;&#39;h:&#39; and extension&#x3D;&#39;txt&#39; and path like &#39;%\\\\test\\\\%&#39; and filename like &#39;%perl%&#39;&quot; get name 显示器获取屏幕分辨率 wmic DESKTOPMONITOR where Status&#x3D;&#39;ok&#39; get ScreenHeight,ScreenWidth 环境变量获取temp环境变量 wmic ENVIRONMENT where &quot;name&#x3D;&#39;temp&#39;&quot; get UserName,VariableValue 账户更改用户administrator全名为admin wmic USERACCOUNT where name&#x3D;&quot;Administrator&quot; set FullName&#x3D;&quot;admin&quot; 更改用户名admin为admin00 wmic useraccount where &quot;name&#x3D;&#39;admin&quot; call Rename admin00 已安装的软件cmd 下执行如下命令,可以统计本机安装的软件 wmic &#x2F;output:D:\\InstalledSoftwareList.txt product get name,version wmic &#x2F;NAMESPACE:&quot;\\\\root\\CIMV2&quot; PATH Win32_Product wmic &#x2F;NAMESPACE:&quot;\\\\root\\CIMV2&quot; PATH Win32_Product get name,version &#x2F;FORMAT:table powershell版本 Get-WmiObject -Class Win32_Product | Select-Object -Property Name &gt; D:\\InstalledSoftwareList.txt 通过注册表获取 Get-ItemProperty HKLM:\\Software\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\* | Select-Object DisplayName, DisplayVersion, Publisher, InstallDate | Format-Table –AutoSize &gt; D:\\InstalledSoftwareList.txt https://www.sysgeek.cn/get-installed-software-list-windows/ https://www.freebuf.com/articles/system/182531.html 重要 https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80-%E8%8E%B7%E5%BE%97%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%88%97%E8%A1%A8/ 通过WMI查询Win32_Product 或者用 systeminfo 或 psinfo工具 只能获得特定的程序列表.这些程序有一个共同的特征： 安装包由Windows Installer制作，安装过程中调用Windows Installer服务进行安装 我们知道，通过控制面板 -&gt; 程序 -&gt; 程序和功能获取的程序列表比较完整，该列表对应注册表键值： HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\ 每个子健代表列表中的一个程序 所以，可以通过枚举注册表键值的方法获得完整程序列表 值得注意的是64位系统下，注册表存在重定向的问题，也会影响程序列表的显示 32位程序列表对应注册表键值HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\ 64位程序列表对应注册表键值HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\ 其他wmic process call create “taskmgr.exe” 修改程序优先级wmic process where name=”explorer.exe” call set priority 64 终止程序wmic process where name=”explorer.exe” call terminate 枚举出整个系统中所有可执行文件的路径地址wmic process where “NOT ExecutablePath LIKE ‘%Windows%’” GET ExecutablePath wmic fsdir where=”drive=’c:’ and filename=’test’” get /format:list wmic datafile where name=’c:\\windows\\system32\\demo\\demo.txt’ get /format:list WMIC可以提取出所有重要系统文件的路径，例如temp目录和win目录等等：wmic environment get Description, VariableValue wmic product get name,version 获取运行的服务wmic service where (state=”running”) get caption, name, startmode sysdrive选项可以枚举出驱动的名称、路径和服务类型等数据：wmic sysdriver get Caption, Name, PathName, ServiceType, State, Status /format:list wmic useraccount where name=’demo’ set disabled=false 用户账户重命名wmic useraccount where name=’demo’ rename hacker 我们还可以限制本地用户的密码修改操作wmic useraccount where name=’hacker’ set passwordchangeable=false 我们可以枚举出目标系统安装的反病毒产品信息，包括安装位置和版本：wmic /namespace:\\root\\securitycenter2 path antivirusproduct GET displayName,productState, pathToSignedProductExe wmic nteventlog where filename=’system’ cleareventlog wmic nteventlog where (description like “%shell%”) call cleareventlog","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"英语语法","slug":"英语语法","date":"2020-02-14T09:44:44.000Z","updated":"2021-01-10T12:24:24.701Z","comments":true,"path":"2020/02/14/ying-yu-yu-fa/","link":"","permalink":"https://blog.bingfengs.xyz/2020/02/14/ying-yu-yu-fa/","excerpt":"","text":"Listen a song when reading 部分内容时下面视频内容的笔记,不过不是很详细.自己买了一个星火英语啃,顺便增加了笔记 https://www.bilibili.com/video/av2639206?p=1 附上一张语法概览图,点击后,右键另存图片为即可下载 下载 笔记略微粗陋,如有错误,请不吝指正! 词素前缀表示否定意义的前缀 纯否定前缀 a- | an- asymmetry 不对称 anhydrous 无水的 dis- dishonest dislike in- | ig- | il- | im- | ir- incapable 不会的,无能力的 inability 无能,无力 ignoble 卑微的,可耻的,地位低下的 impossible 不可能的,难对付的 immoral 不道德的,邪恶的,淫荡的 illegal 不合法的 irregular 不规则的 ne- | n- none neither never non- nonsense 废话,愚蠢的行为,无聊的事物 un- unable unemployment 失业(人数),失业率 表示错误的意义 male- | mal- malfunction 故障,障碍 maladjustment(失调) mis- mistake mislead pseudo- pseudonym(假名,笔名) pseudoscience 伪科学 表示反动作的意思 de- defend 防守,保卫 demodulation(解调) dis- disarm 裁军,使息怒 disconnect un- unload 卸, 摆脱…负担 uncover 揭露,发现,揭开 表示相反,相互对立的意思 anti- | ant- antiknock(防震) antiforeign(排外的) contra- | contre- | contro- contradiction 矛盾, 反驳 controflow(逆流) counter- counteraction 反动,抵抗 counterbalance 抵消,抗衡,平衡力 ob- | oc- | of- | op- object 反对,抗议 n.物体 oppose 反对 occupy 占据,居住 with- withdraw 取回,撤退 withstand 承受 表示空间位置,方向关系的前缀 a- 在…之上,向… aboard 在…上, 在船上,在火车上,在飞机上 aside 在旁边,离开 n. 旁白,私语,悄悄话 by- 附近,邻近,边侧 bypath 小路 bypass vt. 绕过,避开 不顾 n. 旁道 circum- | circu- 周围,环绕,回转 circumstance 环境,条件,情况,境遇,经济情况 circuit 电路,回路,环道,一圈 vi. 环形 de- 在下,向下 descend 下降,遗传,下去 degrade 贬低, 降级,降低 en- 在内,进入 encage 关在笼中,禁闭 enbed 嵌入 ex- | ec- | es- 外部,外 exit eclipse vt. 形成蚀；使黯然失色 n. 日蚀，月蚀；黯然失色 expand export extra- 额外 extraction 取出, 拔牙 开采 fore- 在前面 forehead 前额 foreground 前景 , 突出的地方 in- | il- | im- | ir- 向内,在内,背于 inland 内地,内陆 invade 侵略, 涌入 inside import inter- | intel- 在…间,相互 international interaction 合作, 相互作用 intro- 向内,在内,内侧 introduce 介绍,引见,采用 medi- | med- | mid- 中间 Mediterranean 地中海 midposition 中点 out- 在上面,在外部,在外 outline 轮廓, 大概, 略图, 概述 outside outward 外出的, 往外的 , 外表的, 表面的 over- 在上面,在外部,向上 overlook 忽略,俯瞰,远眺,宽恕,监督,检查 overhead 离地面的, 头顶上的, 上空的. 在楼上 overboard 在船外. 拒绝,丢弃 post- 向后,在后面,次 postscript 附言 postgraduate 研究生 pre- 在前,在前面 prefix 前缀 preface 序言,前言. 开端,前奏 preposition 介词 pro- 在前,向前 progress 进步,发展 proceed 前进, 继续进行 sub- | suc- | suf- | sug- | sum- | sup- | sur- | sus- 在下面,下 subway submarine 潜艇 suffix 添后缀 n.后缀,下标 suppress 压制,镇压; 查禁,隐瞒 supplement 增补; 补编 super- | sur- 在…之上 superficial 表面的,肤浅的 surface 表面 superstructure 上层建筑. 建筑上面的部分 trans- 移上,转上,在那一边 translate 翻译,转化 transform 改变 transoceanic 在海洋彼岸的,横越海洋的 under- 在…下面,下的 underline 在…下面画线; 加强,强调 underground up- 向上,向上面 upward 向上,上升的 uphold 赞成,支撑,举起,鼓励 uphill 上坡的,向上的. 上升,登高 表示时间,序列关系的前缀 ante- | anti- 先前,早于,预先 antecedent 先行词,发生在前的事,先例. 祖先. 前身. 在前的 anticipate 预感,期望 ex- 先,故,旧 ex-president 前任总统 ex-husband fore- 在前面,先前,前面 foreword 前言,序 foretell 预言 mid- | medi- 中,中间 midnight midsummer 仲夏,夏至 post- 在后,后 postwar 战后的 pre- | pri- 在前,事先,预先 preheat 预热 prewar 战前的 prehistory 史前时期 pro- 在前,先,前 prologue(序幕,开场白) prophet 预言家 re- 再一次,重新 retell 复述 rewrite 表示比较程度差别关系的前缀 by- 副,次要的 byproduct 副产品, 副作用 extra- 超越,额外 extraordinary 非常奇怪的,特别的,临时的 hyper- 超过,极度 hypersonic 超音速的 hypertension 高血压 out- 超过,过分 outdo(超过,胜过) outbid 出价高于(别人) over- 超过,过度,太 overeat overdress (使)穿的太讲究; 外衣 oversleep 睡过头 sub- | suc- 次,低,副,亚 subeditor 副主编 subordinate 下级的, 次要的,附属的 succession 连续; 继承,继任,继承权 super- | sur- 超过 supernatural 超自然的 superpower 超级大国 surplus 过剩的,多余的 under- 低劣,低下 undersize 不够大的 undergrown 发育不全的 vice- 副,次 vice-president vice-chairman 表示共同,相等意思的前缀 com- | cop- | con- | cor- | co- 共同,一起 combine connect 连接 coexist 和平共存 syn- | syl- | sym- 同,共,和,类 synthesis 综合,合成 sympathy 同情(心) 表示整个,完全意思的前缀 al- 完整,完全 alone 单独的 almost 几乎 over- 完全,全 overall 总体的,综合的; 大体上,总的来说; 全部的 overflow 溢出,淹没. 充满 pan- 全,总,万 panentheism(泛神论) panorama(全景,盖伦) 表示分离,离开意思的前缀 a- | ab- | abs- 分离,离开 away apart 分离的,与众不同的 abstract 抽象,摘要. 抽象的 abstain 放弃, 避免 de- 离去,除去 depart 离开,出发,违反,去世 decolour 使脱色 dis- | di- | dif- 分离,离开 disarm vi. 裁军 vt. 使息怒 divorce vt. 使离婚，使分离；与…离婚 n. 离婚；分离 ex- | e- 离开,分离 expel vt. 驱逐；开除 exclude vt. 排除；排斥；拒绝接纳；逐出 expatriate 侨民；放弃本国国籍的人 for- 离开,脱离 forgive forget re- 离开 release resolve vt. 决定；使…分解；决心要做…；溶解vi. 决心；解决；分解 n. 坚决；决定要做的事 se- 分离,隔离 separate vt. 使分离；使分居 vi. 分开；分居 adj. 分开的；单独的 seduce vt. 引诱；诱惑；诱奸；怂恿 select 表示通过,遍及意思的前缀 dia- 通过,横过 diameter 直径,放大率 diagram 图表,图解 per- | pel- 通,总,遍 perfect 完美的 perform 执行；完成；演奏 pervade(浸透) trans 横过,贯通 transparent adj. 透明的 含义清楚的, 显而易见的 transmit vt. &amp; vi. 发射, 播送, 广播 vt. 传播, 传染 传导 transport 运送; 流放 表示加强意思的前缀 a- arouse vt. 唤醒 引起, 激发 ashamed 惭愧的，感到难为情的；耻于……的 ad- adjoin 毗连，邻接 adhere(黏着) 表示变换此类动作的前缀 be- befriend(帮助,扶助) en- enslave 使成为奴隶;奴役 使受控制;征服;制伏 enable enrich ad- | ac- | af- | ag- | an- | ap- | ar- | as- | at- adapt vt. 改编；使适应 vi. 适应 accord n. 一致, 符合 (尤指国与国之间的)谅解, 协议 vt. 给予, 赠予 affix vt. 粘上；署名；将罪责加之于 n.词缀；附加物 aggression n. 侵略, 侵犯,挑衅 arrive assist 帮助,促进 attend 出席；上（大学等）；照料；招待；陪伴 (attempt 试图) attract 吸引, 引起…的注意 arrange 排列；安排；整理 assign vt. 分配; 交给 指派, 选派 表示数量关系的前缀 mono- | mon- 单一,一 monotone 单音调 monopoly 垄断；垄断者；专卖权 monarch 君主, 帝王 ambi- | bi- | di- | twi- 二,两,双 ambiguous 引起歧义的; 模棱两可的, 含糊不清的 amphibian 两栖动物 水旱两生植物 水陆两用飞行器 水陆两用车 bicycle 自行车, 脚踏车 diode 二极管 twilight 黄昏; 黎明 deca- | deco- | dec- | deci- 十 decade decimals 位数；小数（decimal的复数形式） hecto- | hect- | centi- 百,百分之一 hectometer (长度单位)百米 centimeter 厘米 kilo- 千,千分之一 kilometer myria- | myri- | mega- | meg- | micro- 万,万分之一 myriametre 万米(即10公里,略作mym.) megabyte 兆字节 microvolt 微伏(等于1伏特的百万分之一) multi- | mult- | poly- 许多,复,多数 multipmetre 多重 polysyllable 多音节字 hemi- | demi- | semi- | pene- | pen- 半,一半 hemisphere 半球 demiofficial 半官方的 semiconductor 半导体 semitransparent 半透明的 peninsula 半岛(半岛，是一種三面环海，一面连陆地的地形，相當小的半岛稱為海岬（海角）) 表示特殊意义的前缀 arch- 首位,第一,主要的 architect 建筑师, 设计师(?) archbishop (基督教会的)大主教 auto- 自己,独立,自动 automobile autobiography 自传 bene- 善,福 benefit vt. &amp; vi. 有益于, 得益 n. 益处, 好处 救济金, 保险金 eu- 优,美好 eugenics(优生学) euphemism 委婉语;委婉说法 male- | mal- 恶,不良 maltreatment 虐待,粗暴对待 malodor 恶臭 macro- 大,宏大 macroscopic(宏观) magni- 大 magnificent 壮丽的, 伟大的, 华丽的, 高贵的 micro- 微 microscope 显微镜 表示术语的前缀 aud- 听,声 audience 观众；听众；接见；读者 bio- 生命,生物 biography 传记 biology 生物学 ge- 地球,大地 geography n. 地理(学) 地形, 地势 phon- 声,声调 phonograph 留声机 tele- 远离 television telephone 后缀名词后缀具有某种职业或动作的人 -an | -ian …地方的人,精通…的人 American historian 历史学家, 史学工作者 -al 具有…职务的人 principal adj. 最重要的; 主要的 n. 负责人, 校长 资本, 本金 被代理人, 委托人 -ant | -ent …者 merchant 商人 agent servant 仆人，佣人；公务员；雇工 student -ar …的人 scholar 学者；奖学金获得者 liar 说谎者 -ard | -art 做…的人 coward n. 懦夫，懦弱的人 adj. 胆小的，懦怯的 laggard n. 落后者 braggart n. 吹嘘；好自夸者；大言者 adj. 自夸的；吹牛的 -arian …派别/主义的人 humanitarian 人道主义者,博爱主义者,慈善家 vegetarian 素食者；素食主义者 -ary 从事…的人 secretary n. 秘书 书记 部长, 大臣 missionary 传教士 -ate 具有…职责的人 candidate 申请求职者, 候选人 报考者 graduate -ator 做…的人 educator 教师；教育家；教育工作者 speculator 投机倒把者, 投机商 -crat 某种政体,主义的支持者 democrat 民主政体论者；民主主义者；民主党人 bureaucrat n. 官僚,官僚主义者,官僚作风的人 -ee 动作承受者 employee examinee 应试者；受审查者；受检查者 -eer 从事于…的人 engineer volunteer 志愿者 -er 从事某职业的人,某地区或地方的人 banker n. 银行家,银行主,银行经理 庄家 observer 观察者, 观察员; 遵守者 londoner 伦敦人 villager -ese …国人, …地方的人 Japanese Cantonese -ess 阴性人称名词 actress hostess n.女主人 空中小姐 manageress 女经理,女管理人 -eur …家 amateur adj. 业余的, n. 业余爱好者 外行, 生手 litterateur 文学家,文人 -ian …地方人,信仰…教的人,从事…职业的人 Christian 基督教徒 physician 医生, 内科医生 musician -ician 精通者, …家 electrician 电工, 电气专家 magician 魔术师，变戏法的人 technician 技术人员, 专家; 技巧好的人 -icist …家, …者, …能手 physicist 物理学家 phoneticist 语音学者 technicist 技术员,技师 -ic …者, …师 mechanic n. 技工，机修工 adj. 手工的 critic 批评家，评论家；爱挑剔的人 -ie 爱称, 指小 auntie 阿姨 lassie 姑娘；少女；恋人 -ier 从事…职业 cavalier 对女人彬彬有礼的绅士,对女人献殷勤的男子 骑士,骑手 clothier 男装裁缝, 男服装商 brazier 铜匠 -ine | -ina 阴性人称 heroine 女英雄；女杰 ballerina 芭蕾舞女演员 -ist 从事…研究者, 信仰…主义者 pianist 钢琴家 communist 共产主义者 dentist 牙科医生 artist chemist 药剂师；化学家；药店，药商 -ive 动作者, 行动者 native 本地人；土产；当地居民 captive 俘虏；迷恋者 -logist …学家,研究者 biologist 生物学家 geologist 地质学家;地质学者 -or …者 author doctor operator -ster 做…事情的人 youngerster 青少年 gamester 赌徒，赌棍 songster 歌唱家 -yer 从事…职业者 lawyer 构成具有抽象名词的含义 -acy 性质,状态,境遇 accuracy 精确(性), 准确(性) diplomacy 外交, 外交手腕, 外交术 -age 状态,行为,身份及结果,总称 courage 勇气；胆量 storage 存储；仓库；贮藏所 marriage 结婚 婚姻状况 婚礼 -al 事物的动作,过程 refusal n. 拒绝；优先取舍权；推却；取舍权 arrival survival n. 幸存, 生存 denial n. 否认 表示具体的事物 manual 手册, 指南 signal 信号；暗号；导火线 editorial 编辑的, 主笔的 journal -ance | -ence 性质,状态,行为,过程,总量,程度 endurance 忍耐力 importance 重要(性) diligence 勤奋，勤勉 difference obedience 服从;顺从;听话 -ancy | -ency 性质,状态,行为,过程 frequency 频率 振动频率; 波段 urgency 紧迫;急迫;急事；紧要 efficiency 效率, 效能 -bility 动作,性质,状态 possibility 可能性 可能的事 feasibility 可行性 -craft 工艺,技巧 woodcraft 木工技术 handicraft 手工艺;手工艺品 手工业者;手工艺人 statecraft 管理国家的本领 -cracy 统治,支配 bureaucracy 政府机构 官僚主义, 官僚作风 democracy n. 民主, 民主制 民主国家 -cy 性质,状态,职位,级别 bankruptcy 破产；倒闭 彻底失败;(名誉等的)完全丧失 supremacy 至高, 无上;最高权力 -dom 等级,领域,状态 freedom kingdom wisdom -ery | -ry 行为,状态,习性 bravery 勇敢；勇气 bribery 行贿,受贿,贿赂 rivalry 竞争；竞赛；对抗 -ety 性质,状态 variety n. 品种, 种类 变化, 多样化 dubiety 可疑性,可疑的东西,怀疑 -faction | -facture 做成, …化, 作用 satisfaction 满意, 满足, 实现 赔偿物, 补偿 manufacture 制造 捏造 制造品, 产品 -hood 资格,身份,年纪,状态 childhood falsehood 谎言;假话;虚假 -ice 行为,性质,状态 notice 通知，布告；注意；公告 vt. 注意到；通知；留心 vi. 引起注意 justice n. 正义; 公正, 合理 法律制裁; 司法; 审判 法官 service 服务，服侍；服役；仪式 -ine 带有抽象概念 medicine 药；医学；内科；巫术 discipline vt. 训练, 训导 处罚, 惩罚 n. 训练, 锻炼, 训导 纪律 处罚, 处分 学科 famine 饥荒；饥饿，奇缺 -ing 动作的过程,结果 building writing learning -ion | -sion | -tion | -ation | ition 行为的过程,结果,状况 action solution conclusion n. 结束, 结尾 信念, 意见, 结论 destruction 破坏, 毁灭, 消灭 expression n. 表示, 表现, 表达 表情 感情 词, 措辞, 词组 correction n. 改〔纠〕正 修改;纠正 有待改正 adj. 改正的,纠正的 -ise 性质,状态 exercise 练习；运动；运用；操练；典礼；礼拜 merchandise n. 商品, 货物 vt. 买卖, 经营 -ism 制度,主义,学说,信仰,行为 socialism criticism n. 批评, 批判, 指责 评论, 评论文章 colloquialism 俗话,白话,口语 heroism 英勇，英雄气概；勇敢的事迹；英雄行为 -ity 性质,状态,程度 purity 纯净；纯洁；纯粹；纯度 reality 现实；真实；实际 ability 能力; 力量 智慧, 才智; 天资 calamity 灾祸, 灾难 -ment 行为,状态,过程,手段及其结果 treatment 处理; 对待, 待遇 治疗; 疗法 movement judgment 判断；裁判；判决书；辨别力 punishment 处罚, 受罚 argument 争吵；论据；内容提要；论证 -mony 动作的结果,状态 ceremony 典礼, 仪式 礼节, 礼仪 testimony 证词 证明, 证据 -ness 性质,状态,程度 goodness n. 良好, 善良, 优良 精华, 精髓 上帝 kindness tiredness 疲劳;倦怠 -or | -our 动作,性质,状态 favor n. 好感,宠爱,关切,欢心,好意,喜爱 vt. 支持,赞成,照顾,促成,喜欢,证实,赐予 error -osity 动作,状态 curiosity 好奇心, 爱打听的癖性 奇人, 奇物, 珍品 -ship 情况,性质,技巧,技能及身份,职业 hardship n. 艰难, 困苦 艰难情况 membership 全体会员 会员身份, 会员资格 friendship -th 动作,性质,过程,状态 depth n. 深, 深度, 纵深 wealth truth length growth n. 生长, 发育 -tude 性质,状态,程度 latitude n. 纬度；界限；活动范围 altitude n. 高度, 海拔 -ure 行为,结果 exposure n. 暴露, 显露 揭发, 揭露 pressure n. 压力；压迫，压强 failure 失败；故障；失败者；破产 -y 行为的结果,状态,性质 glory 光荣，荣誉；赞颂 history inquiry 调查；质询；探究 带有场所,地方的含义 -age 住所,地点 village cottage 村舍；小屋；（农舍式的）小别墅 -ary 住所,场地 library granary 谷仓，粮仓；盛产粮食的地区 -ery | -ry 工作场所,饲养地,地点 laundry n. 洗衣店, 洗衣房 nursery 托儿所；苗圃；温床 surgery 外科；外科手术；手术室；诊疗室 -ory 工作场所,住处 factory 工厂；制造厂；代理店 dormitory 集体宿舍 laboratory 实验室 表示学术,科技含义 -grapy …学, 写法 biography 传记 calligraphy 书法；笔迹 geography n. 地理(学) 地形, 地势 -ic | -ics …学, …法 logic n. 逻辑(学), 逻辑性 mechanics 力学;机械学 optics 光学 -ology …学, …论 biology 生物学；（一个地区全部的）生物 zoology 动物学；动物区系 technology 科技(总称); 工艺; 应用科学 -nomy …学, …术 astronomy 天文学 economy 节约；经济；理财 -ery 学科,学术 chemistry 化学 cookery 烹调术；烹调业 machinery n. (总称)机器 体系, 机构 -y …学,术,法 photography 摄影术 philosophy n. 哲学 人生哲学, 人生观 表示人和事物的总和,集合含义 -age baggage 行李 tonnage 吨位;总吨数,排水吨数 -dom newspaperdom 报界,新闻界 -hood neighbourhood womanhood 女子成年期;女子特征,女子气质 -ry cavalry 骑兵；装甲兵；装甲部队 ministry （政府的）部门 -ure legislature 立法机关；立法机构 judicature n. 司法 (总称)法官 表示物品和物质名称的含义 -ant | -ent solvent 有溶解力的；有偿付能力的 n. 溶剂；解决方法 constant adj. 始终如一的, 恒久不变的 不断的, 连续发生的 忠实的, 忠诚的 -al signal n. 信号；暗号；导火线 vt. 用信号通知；标志 adj. 显著的；作为信 vi. 发信号 pictorial 以图画表示的;有画面的 -ar collar n. 衣领, 领子 (狗等的)项圈 pillar 柱子，柱形物；栋梁；墩 -er boiler 锅炉；盛热水器；烧水壶，热水器 computer washer 垫圈；洗涤器；洗衣人 cooker 炊具；窜改者 -ery drapery 布料；帏帐 -ing clothing matting 席 -ment instrument 器具, 仪器 乐器 equipment 设备; 装备; 配备 attachment n. 附着, 附属 附属物, 附件 连接;安装;附着 连接物 情感,爱慕;忠诚 表示 细小 的意思 -cle particle 颗粒；质点；极小量 -cule molecule 分子 -el parcel 包裹 vt. 给…打成包裹 分成若干部分 -en chicken 小鸡；鸡肉；胆小鬼，懦夫 maiden adj. 未婚的，处女的；初次的 n. 少女；处女 -et pocket 口袋；钱；容器 ticket -etta | -ette | -etto cigarette 纸烟, 香烟 -kin napkin 餐巾；餐巾纸；尿布 -ling duckling 小鸭子 -let booklet 小册子 -y baby doggy adj. 像狗的；时髦的；装阔气的 n. 小狗；幼犬 形容词后缀带有”属性,倾向,相关”的含义 -able | -ible movable comfortable 安逸的, 使人舒服的 applicable 适当的; 合适的 visible responsible 负有责任的, 需承担责任的 -al natural 自然的, 天然的 additional 增加的, 额外的, 另外的 educational 教育(方面)的,为教育的;有教育意义的;提供咨询的 -an | -ane urban 城市的；住在都市的 suburban 土气的；郊区的，城郊的；见闻不广的 n. 郊区居民 republican adj. 共和国的, 共和政体的 n. 拥护共和政体者, 共和主义者 -ant | -ent distant 远隔的, 遥远的 远亲的 important excellent 优秀的, 卓越的, 杰出的 -ar similar 相似的 popular regular -ary military 军事的；军人的；适于战争的 n. 军队；军人 voluntary 自愿的, 志愿的 义务的, 无偿的 -ic | -atic | -ical politic 精明的；有策略的；狡猾的；审慎的 systematic 有系统的; 有规则的; 彻底的 physical 身体的；物质的；物理的 -ine masculine adj. 男性的, 男子的, 男子气的 阳性的 feminine 有女性气质的, 女子气的, 适于女子的 〈语〉阴性的 marine adj. 海的, 海产的, 海生的 海军的 -ing moving touching 动人的，令人同情的 daring 勇敢, 鲁莽 adj. 勇敢的, 无畏的 -ish foolish 愚蠢的, 笨的 bookish 书本上的,好学的 selfish 自私的；利己主义的 -ive active impressive 给人印象深刻的, 感人的 decisive 决定性的；果断的，坚定的 -ory satisfactory 令人满意的, 符合要求的 compulsory 必须做的, 强制性的 -il | -ile | -eel fragile 易碎的, 脆的 虚弱的, 脆弱的; 经不起折腾的 genteel 上流社会的；有教养的，文雅的 表示”相像,类似”的含义 -ish boyish 男孩的；孩子气的；（女孩）像男孩的 childish 幼稚的，孩子气的 -esque picturesque 美丽的, 有趣的, 风景如画的 生动的; 活泼的 -like manlike 男人似的,有男子气质的 childlike 天真的;童稚的;孩子般的 -ly manly 有男子气概的;刚强的, 勇敢的 fatherly 父亲的；慈爱的；父亲般的 scholarly 学术性的;学问精深的 motherly 母亲的；慈母般的 -some troublesome 引起麻烦的, 令人讨厌的, 令人烦恼的 handsome -y milky 牛奶的；乳状的；柔和的；乳白色的；混浊不清的 pasty 肉馅饼 adj. 苍白的 表示”充分的” 含义 -ful beautiful wonderful helpful truthful -ous dangerous generous 慷慨的，大方的；宽宏大量的；有雅量的 courageous 勇敢的;无畏的 adv. 勇敢地;无畏地 various 勇敢的;无畏的 adv. 勇敢地;无畏地 -ent violent 暴力引起的, 粗暴的 剧烈的, 强烈的 表示由某种物质形成,制成或生产的含义 -en wooden 木制的；僵硬的，呆板的 golden woolen 羊毛的；羊毛制的 -ous gaseous 气态的;似气体的 -fic scientific 科学的 表示方向的含义 -ern eastern 东方的；朝东的；东洋的 western -ward downward 向下的，下降的 forward 早的；向前的；迅速的 adv. 向将来；向前地 vt. 促进；转寄；运送 表示倍数的含义 -ble double treble 三倍的；最高声部的；三层的；三重的 -ple triple 三倍的；三方的 -fold twofold 双重的；两倍的 tenfold 十倍地(的) 表示数量关系的含义 -teen thirteen -ty fifty -th fourth fiftieth 表示国籍,语种,宗教的含义 -an Roman European -ese Chinese -ish English Spanish 表示比较程度的含义 -er greater -ish reddish 微红的；略带红色的 yellowish -est highest -most foremost 最著名的, 最重要的; 最好的; 主要的 topmost 最高的；顶端的 其他含义 -less 否定 countless 无数的;多得数不清的 stainless adj. 不锈的；不锈钢制的 无污点的,无瑕疵的 wireless 动词后缀 -ize | -ise 做成,变成, …化 modernize 使现代化,使适应现代需要 vi. 现代化,使用现代方法 n. 现代化 mechanize 使(过程、工厂等)机械化 organize 组织；使有系统化；给予生机；组织成立工会等 -en 是成为, 引起, 使有 quicken 加快；变活跃；进入胎动期 weaken 减少；使变弱；使变淡 soften 使变柔软；使温和；使缓和 harden -fy 使…化, 使成 beautify purify vt. 净化；使纯净 intensify (使)增强, (使)加剧 signify v. 表示…的意思, 意味 -ish 使,令 finish abolish 废除, 废止 diminish 使减少；使变小 establish vt. 建立, 成立 确定, 证实 -ate 成为… , 处理, 作用 separate 使分离；使分居；使分开 operate 运转；动手术；起作用 vt. 操作；经营；对…开刀；引起 indicate 标示, 指示, 指出 象征; 表明或暗示…的可能性 副词后缀 -ly possibly 可能地；大概；也许 swiftly 很快地；即刻；敏捷地 simply -ward | -wards downward inwards 向内地；向中心地 upward -ways always sideways adv. 向侧面地；向一旁 adj. 向侧面的；一旁的 -wise otherwise 用别的方法, 不同地 在其他方面; 除此以外 conj. 否则; 要不然 clockwise 词根 aer | ar 空气,大气 aeroplane 飞机 aerial 空气的, 空中的 存在或悬浮于空中的, 架空的 n. 天线 ag | act | ig 做,动作 active 主动的；有效的；积极的；活跃的；现役的 n. 主动语态；积极分子 agent reaction 反应，感应；反作用；反动，复古 alt 高 altitude alter | altern | altr 其他,变更 alternate 轮流的, 交替的 间隔的 代替的 bio | bi | bion 生物,生命 biology bionics 仿生学 brev | bri | brief 短 brief 简短的，简洁的；短暂的，草率的 abbreviation 缩写; 缩写词 abridge 节略, 缩写(一本书等) 缩短 减少，消减；限制 cap | capt | cept | cip 取,获 capture except 把…除外; 免除 concept 概念; 观念; 想法 capacity 能力；容量；生产力；资格，地位 ced | ceed | cess 行,让步 proceed vi. 前进; 行进 进行; 继续下去 succeed 成功 完成 excess 无节制；过度，过量；超过，超额 centr 中心 concentrate 专心于; 注意 集中, 聚集 vt. 浓缩 eccentric 古怪的, 怪癖的; 异乎寻常的 clain | claim 呼喊 claim 声称, 断言,要求 proclaim 声明；宣告，公布；表明；赞扬 exclaim 呼喊, 惊叫, 大声说 clos | clud 闭合 conclude 结束；推断；决定，作结论 enclose 把…围起来 把…装入信封, 附入 include col | cult 耕耘 colony 殖民地；移民队 cultivate 耕作, 种植 agriculture 农业 农学, 农艺 cor | cord 心 cordial adj. 兴奋的；热忱的，诚恳的 n. 补品；兴奋剂；甜香酒，甘露酒 record t. &amp; vi. 记录; 录音, 拍摄 accord 一致, 符合 (尤指国与国之间的)谅解, 协议 vt. 给予, 赠予 curr | cur | cour 跑,动作 current adj. 现在的；最近的；草写的；流通的，通用的 occur 发生; 举行; 存在 concurrence 同时发生；赞同；合作 dic | dict 说,示 dictate 大声讲或读; 口授 vt. 指示; 指定; 指令 n. 命令, 规定, 要求 indicate vt. 标示, 指示, 指出 象征; 表明或暗示…的可能性 predict 预报，预言；预知 doc | doct 教 doctor document duc | duct 引导,传导 introduce produce vt. 生产；引起；创作 n. 农产品，产品 vi. 生产，创作 conduct 组织，实施，进行；指挥（音乐）；带领，引导；举止，表现；传导（热或电） fact | fac | fect | dic | dit 做,创造 factory effect n. 效果；作用；影响 profit n. 利润；利益 faculty n. 能力, 才能 技巧 fend | fens 打,击 defense 防卫，防护；防御措施；防守 offence 攻击；违反；犯罪；过错 fer 搬运,转移 ferry n. 渡口；渡船；摆渡 vt. （乘渡船）渡过；用渡船运送；空运 transfer defer 拖延, 延缓, 推迟 fin | finit 终,极 final finish confine n. 界限，边界 vt. 限制；禁闭 firm 坚固 firm 公司 坚定的；结实的；牢固的；严格的 confirm 确认；批准；证实；确定；使巩固 affirm 断言；肯定 fix 固定 prefix 前缀 affix 粘上；署名；将罪责加之于 flect | flex 弯曲 flexible 灵活的；柔韧的；易弯曲的 reflex 反应能力；反射作用 flor | flour | flower 花 flower flourish 茂盛, 繁荣 兴旺发达 vt. 挥动 form 形 uniform n. 制服 adj. 全都相同的, 一律的, 清一色的 formula n. 公式，准则；配方；婴儿食品 transform vt. &amp; vi. 改变 reform n. 改革, 改良, 改造 vt. &amp; vi. 改革; 改造; 改善 forc | fort 力,强度 force enforce effort 努力, 尽力 努力的结果, 成就 gen | genit 生产,发生 generate 使形成；生殖；发生 generation gram | graph 书写,记录 telegram diagram 图表；图解 photograph 照片, 相片 grad | gress | gred | gree 步,阶段 gradually 逐步地,渐渐地 degree 程度，等级；度；学位；阶层 progress 进步，发展；前进 hab | habit | hibit 保持,住 inhabit 居住于, 栖居于 exhibit 展览品；证据；展示会 vi. 展出；开展览会 prohibit vt. 阻止，禁止 her | hes 黏附 adhere vi. 黏附, 附着 坚持, 支持 cohesion 内聚力；结合；凝聚 ject | jet 抛射 project vt. 规划 抛; 投; 射 vt. &amp; vi. 伸出, 突出; 表达特点 n. 项目, 计划, 方案, 课题 inject vt. 注射, 注入 jour 日,一天 journal n. 日报，杂志；日记 adjourn vi. 休会；延期；换地方 vt. 推迟；使…中止；使…延期 journey n. 旅行; 行程 vi. 旅行 jug, junct 结合,联合 conjunction n. 连词 结合; 联合 junction n. 连接，接合；交叉点；接合点 labour | labor 劳动,工作 labourer n. (尤指户外的)体力劳动者,劳工,工人 elaborate vi. 详尽说明 vt. 详细制定 adj. 复杂的; 精心制作的 collaborate vi. 合作 勾结叛国 n. 协作者,合作者;勾结者 lect | leg | lig 挑选,采集 collect select lecture 演讲；讲稿；教训 lif | liv 生活,生存 life alive adj. 活着的, 在世的, 存在的 loc 场所,位置 location dislocate vt. 使(骨头)关节脱位 使(交通, 事务等)混乱 long | leng | ling 长的 length 长度，长；时间的长短 prolong 拖延；延长 linger 逗留, 徘徊 缓慢消失 loqu | locut 说话 colloquial 口语的, 会话的 eloquent 辩的，有口才的；有说服力的；意味深长的；动人的 mand | mend 命令 command demand 要求 需要 recommend vt. 推荐, 介绍, 赞许某人[某事物] 劝告, 建议 man | manu 手,手法 manage manual 用手的, 手工的 n. 手册, 指南 memor | member 记忆 memory remember memorial 纪念碑, 纪念物 mind | ment 心 mind remind mental adj. 精神的, 头脑的, 心理的, 智力的 精神病的 merc | merch 贸易 commerce 商业, 贸易 merchant 商人 meas | mens | meter | metr 测量,量度 measure meter diameter n. 直径 放大率 min 小 diminish vt. 使减少；使变小 vi. 变小；减少，缩小 minority n. 少数民族；少数派；未成年 miss | mit 派遣,送 mission n. 使命, 任务, 天职 代表团, 使节团 dismiss vt. 让…离开；开除；解散；解雇 vi. 解散 transmit 发射, 播送, 广播 vt. 传播, 传染 传导 missile n. 导弹 投射物 mob | mot | mov 动 movement motion mobile remove nect | nex 捆扎 connect disconnect annex 附加；并吞；获得 n. 附加物；附属建筑物 not 记号,注意 note denote 表示，指示 annotation 注解,注释 onom | onym 名字 synonym 同义词 autonym 本名,实名 anonymous 匿名的 pair | par 相同,对等 compare prepare 准备 pel | puls 追逐 expel 驱逐；开除 impel 驱使；推动；激励 pend | pens | poud 悬挂 depend independent 独立的, 自主的, 自立的 expense 开支；消费；损失，代价 phon 声音 symphony 交响乐；谐声，和声 telephone microphone plac 位置,场所 place replace peopl | popul | publ 人民,民众 public republic 共和国, 共和政体 popular people port 搬运 export import deport 举止；放逐；驱逐出境 press 压,压制 pressure express 表达, 表示, 陈述 . 快运, 快车 oppress 压迫，压抑；使……烦恼；使……感到沉重 impression 印象, 感想 想法, 看法, 感觉 prob | proof | prov 实验,验证 prove approve quer | quest | quir | quis 寻找,探问 inquiry 调查；质询；探究 question inquisition 调查,审讯 rang | rank 排列 arrange rank rect | right | rig 正,直 correct direct erect 竖立的, 直立的, 挺立的 riv 河流, 流走 river arrive derive 得到 源于 rupt 破坏 eruption 喷发, 爆发 bankrupt 破产的, 倒闭的 corruption 堕落;腐化;腐败;贿赂 sci 认识,知识 science conscious 神志清醒的 知道的; 注意到的 自觉的; 蓄意的 scrib | script 书写,记录 describe 描写, 叙述 script sens | sent 感觉,情感 sensation 感觉, 感受 知觉 激动, 轰动 sentiment 柔情 态度或意见 sign 标记,符号 signal signature design sembl | simil 相似,类似 similar resemble 像…, 类似于 soci 结合,社交 social association 协会, 社团 spec | spect | spitc | spis 看,视 inspect 检查；视察；检阅 spectator 观众, 旁观者 conspicuous 显眼的, 明显的 struct 建筑,构造 structure construct vt. 修建, 建立 构成, 组成 instruct 命令；教授；指导；通知 tect | teg 遮蔽,掩盖 detect protect 保护，防卫；警戒 temp | tens 时间,时机 tense 拉紧的；紧张的 contemporary 当代的 同时代的, 同属一个时期的 temporal 时间的 暂存的,短暂的, tend | tes | tent 倾向,伸张 tendency 倾向, 趋势 intension 紧张 extend (空间、时间等)延伸; 延续 vt. 延长; 扩展; 达到(某一点) intend 打算；意指；想要 test 证明,证实 testify 作证；证明，证实 protest 抗议; 反对 vt. &amp; vi. 声明; 抗议 contest 争辩；提出质疑 text 编织,构成 textile 纺织品，织物 texture 手感, 质感, 质地 context 环境；上下文；来龙去脉 tract | trail 拖拉,吸引 attract 吸引, 引起…的注意 tractor 拖拉机；牵引机 abstract 抽象；摘要； contract 感染；订约；收缩 tribut 给予 contribution n. 捐助物, 贡献 distribute t. 分配, 分给 散发; 散播; 分布 us | ut 用,使用 usable utilize abuse 滥用；辱骂；虐待；弊端；恶习，陋习 vac | van 空,虚 vacancy 空房间 空虚;空白 空缺;空职;空额 vanity 虚荣心；浮华；空虚；无价值的东西 evacuate 排泄；疏散，撤退 vad | vas | wad 走,去 invade 侵略；侵袭；侵扰；涌入 wade 蹚, 走过, 跋 evade 逃避；规避；逃脱 vers | vert 旋转,反转 convert vt. &amp; vi. (使)转变, (使)转化 皈依, 改变(信仰) inversion 倒置,(尤指词序)倒装 转化 reverse (使)反转; (使)颠倒; (使)翻转 推翻, 取消 使倒退, 逆转 adj. 相反的, 颠倒的, 反向的 divert vt. 转移；使…欢娱；使…转向 vi. 转移 vid | vis | vey | view 观看,看见 television visible evident 明显的, 明白的 interview survey 调查；测量；纵览；审视 viv | vit 生, 活 vivid 鲜明的；鲜艳的；生动的 vital 极重要的, 必不可少的 survival 幸存, 生存 war | ward 注意,保护 aware | wary | ward way 路 way away subway always 常用语句 He learns English every day.他每天学习英语 sv (主语+谓语) The universe remains.(宇宙长存) svp (主+系+表) The food is delicious. svo (主+谓+宾) He took his bag and left. svoo (主+谓+间宾+直宾) Her father bought her a dictionary. her (间接宾语)dictionary (直接宾语) svoc (主+谓+宾+宾补) We made him our monitor.我们选他做我们班长 our monitor (宾补) be动词用法形式be , is , am, are , was , were , being , been is,are: 现在进行 was,were: 过去 been: 现在完成时(They have been back.) 用法后面接名词,形容词,地点副词或短语作为补足语 My mother was in the kitchen. He has been a teacher for 3 years be 动词的否定/提问/回答否定am not , isn&#39;t , aren&#39;t , wasn&#39;t , weren&#39;t 提问 Is he a teacher?Yes,he is. / No,he isn’t. 代词 人称代词 I | me | we | us | you | it | he | him | she | her | they | them 物主代词 my | your | his | her | its | our | their | mine | yours | his | hers | ours | theirs 反身代词 myself | yourself | himself | herself | itself | ourselves | yourselves | themselves 相互代词 one another | each other 指示代词 this | that | these | those 不定代词 somebody | someone | anyone | anybody | something | anything | everything | nothing | nobody | no one | some | many | much | few | a few | little | a little | each | every | none | several | one | both | either | neither | other | another | any 疑问代词 who | whom | whose | which | what 连接代词 who | whom | whose | which | what | whoever | whichever | whatever 关系代词 who | whom | whose | that | as | which 人称代词 第一人称 I | me we | us 第二人称 you | you you | you 第三人称 he,she,it | him,her,it they | them we,you,they,he 表示泛指的用法we | you | they 可以泛指人们,意为 我们 | 你们 | 他们 ,单数用he We all get into trouble sometimes. 我们每个人You should finish the work this afternoon. 你(们)They say that honesty is the best policy. 人们He who laughs last laughs best. 谁笑到最后谁笑得最好 he,she 用法he 指代男性,she 指代女性.某些情况,可以指代事物或动物 指代宠爱的动物,可以用he,she;不带感情色彩用it Go and find the dog and put him out This little animal is a lemur and it lives in Madagascar She 可以用来指代国家,船只,大地,月亮等 China will always do what she has promised to do (天大笑话?) Nice car – how much did she cost 在诗歌,寓言等中,温柔的动物常用she指代,凶猛的用he **在英语中多个人称代词同时出现时,其排列的顺序通常为: 单数场合为 二,三,一,复数场合 一,二,三, 男女并用 男+女,承担责任 我在前 She and I are good friendsYou, he and I are of the same ageWe and they are longing to see youEvery student must have his or her homework finished by tomorrowI and he are to blame for the accident it用法it 作人称代词,主要指某样东西,抽象事物,不知性别的孩子或用来明确身份. 指代上文提到的某样东西 Where is my dictionary? I put it on the table just now 指代抽象的事物 I tried my best to persuade him, but it didn’t help (劝说) 指代身份不明确的人 Who is it knocking at the door? It might be the postman 指代时间,天气,距离等 What time is it nwo by your watch It was raining when I arrived home It’s about 15 minutes’walk from here to the bar 作形式主语或形式宾语,代替句子中的不定式短语,动名词短语或从句等 It is important for us to master the skills of computers It is no good living alone without keeping in touch with others. I feel it necessary to learn every day 有些固定句式中也常用it It is/has been + 时间段 + since It is/has been years since we parted in the West Point. 自从我们在西点军校分别以来已有多年了 It was/will be + 时间段 + before It will not be long before you regret for what you are doing now. 不久你就会为你现在的所作所为后悔的 强调结构 It is/was…that… It is in this bookstore that I find the book I want. 就是在这家书店我找到了我想要的那本书 名词性/形容词性物主代词形容词性物主代词单数: my, your , his&#x2F;her&#x2F;its , one&#39;s 复数: our , your , their 名词性物主代词单数: mine , yours , his&#x2F;hers&#x2F;its , one&#39;s 复数: ours, yours , theirs 用法It’s not my mobile phone. Mine is one the desk.使用名词性物主代词必须有特定的语言环境,即要指代的名词大家知道或已经提起过 Her coming added to our pleasure她的到来增加了我们的快乐 反身代词单数: myself , yourself , herself , himself , itself 复数: yourselves , ourselves , themselves Please help yourself to some fish.We enjoyed ourselves last night.Take good care of yourselfYou don’t have to worry. I can look after myself 在不强调的情况下, but | except | for 等介词后的宾语用反身代词或人称代词均可 No one but myself/me is hurt 固定用法 You’ll have to see if he has come for yourself你得亲自去看看他是否已经来了The computer can shut off of itselfYou shouldn’t leave the child by himself at home.Are you enjoying yourselfWhen he came to himself, he was lying alone in the dark他醒来发现自己一个人躺在黑暗中 常用必备 in oneself 本身固有 by oneself 独自 for oneself 亲自 of oneself 自动地 dress oneself 自己穿衣 come to oneself 恢复知觉 devote oneself to 致力于 enjoy oneself 玩得高兴 help oneself to 随便吃,随便用 make oneself at home 无拘束；别客气，随便 say to oneself 心里想 seat oneself 坐下 talk/speak to oneself 自言自语 teach oneself 自学 不用反身代词的情况 作主语时不用反身代词 Herself called you up last night (x) She called you up last night herself (0) Myself drove the car (x) I myself drove the car (0) 在 and | or | nor | 连接的并列主语中,第二个主语可用反身代词,尤其是 myself Tom and myself saw it 并列宾语中的一个为名词或非反身代词,另一个不能用反身代词 The tickets are for you, Mr Wang and myself (x) The tickets are for you, Mr Wang and me. (0) The chairman invited my wife and myself to the meeting (x) The chairman invited my wife and me to the meeting (0) 在介词about(到处),after等后的宾语即使和主语指同一对象,宾语也不能用反身代词 I looked about myself, hoping to find the lost keyis (x) I looked about me,hoping to find the lost keys (0) 我环顾四周,希望能找到丢失的钥匙 He closed the door after himself (x) He closed the door after him (0) 省略反身代词的情况“日常”的行为返回到自己身上时,代表自己的反身代词常常可以省略I don’t need to shave (myself) every day (刮胡子)The child can dress (himself) now.You mustn’s overeat (yourself) 指示代词单数(复数) this(these) that(those) 另外, such | so | the same 也可以起到指示代词作用 this,that,these,those this,these 指时间或空间上较近的人或物; that,those 较远 I love these books but I don’t like those 刚提到过的事情或已经完成的事情用 that , 即将要发生或将要提到的事情用this I’ve finished all my homework,Mum. That’s nice He said I was lying, and that was unfair. Now, everybody, watch this 在电话用语中, this 指自己, that 指对方 Hello. This is Alan. Who is that speaking that/those 还常常用来指代已经提到过的名词,以避免重复. That 特指不可数名词或可数名词单数(物); those 特指可数名词复数(人或物) The climate of Japan is not so mild as that of Taiwan The days in summer are longer than those in winter I love reading poems by Emerson better than those by Whitman. 习惯用法 like this 就这样,如此 for all this 就这一次 that is to say 也就是说 That’s it 可不是嘛 That’s enough! 我受够了 That’s all right 没关系/不用谢 such用法such 可单独使用, 指代上文提到的人或事物,意为”那样的,类似的”; 指代下文中要提到的内容,意为”这样的,下述一类的” Such is Albert Einstein, a famous physicist (作主语) We were second-class citizens and they treated us as such (指上文) The damage was such that it would cost thousands to repair (指下文) such 修饰的名词前如果有不定冠词,such 须放在其前; 如果有no,another,several等表示数量的词时,such须置于其后.有时such之后可以加一个as用以引出属于哪一类 Roger is such a nice person All such problems have been solved Any such mistake can be avoided There is no such thing as free lunch (世界上没有免费的午餐) so用法so是副词,但也可以起代词作用 用在 believe | think | expect | suppose | imagine | guess 等词后代替前文提出的观点. Will Bob come by boat this evening? I think so. / I don’t think so 用在 hope | I’m afraid 后代替前文提出的观点,但只用于肯定句 It is going to rain this evening I hope so (不可以说 I don’t hope so) He said he was defeated, and I’m afraid so. (不可以说 I’m not afraid so) 用 “动词 + so” 代替 “动词 + 宾语” 结构, 以避免重复 If she notices, she never says so She told me to get the tickets and I will do so as soon as possible He thinks I dislike him but that just isn’t so do so 代替的动作必须是可以由主观意识支配的,否则不可用 She lost all the money. I didn’t know how she did so (x) She lost all the money. I didn’t know how she did (0) 动作的执行者不一致时,不用 do so 而用 do it 或 do that I don’t have enough time to help you. Let George do it/that the sameMerry Christmas! The same to you and your family!I think the same of her as you doI would do the same againI found my book at the same palce where I had left itI’d like one the same as yoursLet’s meet at the same places as we did yesterday 不定代词不明确指代某个/些人或事物的代词叫做不定代词.不定代词可以替代名词和形容词,没有主格和宾格之分 one 用法one 指代可数名词单数,即可指人,也可指物. 其复数形式为ones, 所有格为 one&#39;s, 反身代词为 oneself 单独使用, 泛指”人””一个人””人们” One often fails to see one’s/his own faults. (人往往看不到自己的缺点) One 表示泛指是非常正式的用法, 口语或一般文体中常用 you You should do your best at all times (一个人无论何时都应尽全力) You can never be too careful (再小心也不为过) 表示具体的”一个人”或”一个事物” He is not one who is easy to work with This is the one you’re looking for One前面由形容词修饰是,形容词前必须由冠词或代词.如: the best one , her last one (最后一个) 指代上文已出现过的可数名词单数,表示泛指意义,以避免重复,ones指代可数名词复数 This problem is harder than that one Miss Green is a strict but kind teacher, one who cares for every pupil. I prefer red roses to white ones. 我喜欢红玫瑰胜过白玫瑰 Today’s libraries differ greatly from those of the past 常用短语 one day 过去或将来的某一天 (all) in one 合为一体 one after another 一个接一个地 one by one 逐个,逐一 as one 一齐,一致 one and the same 同一个人/物 at one time 曾经,一度 for one thing 首先 …for one … 就是其中之一 one and all 每个人,全体 either | neither either 指两者中的 任意一个. 作主语,谓语动词常用单数 Do you want tea or coffee? Oh, I don’t mind. Either will do (哪种都行) There are two apples. You may take either. (你可以随便拿一个) neither 指两者中的任何一个 都不 Neither of my parents allows me to study medicine You talked about Bill and Fagan, but I know neither Neither statement you provide holds water.(你所陈述的两个观点没有一个能站的住脚) either 用于否定句句末, 表示也(不).neither 位于句首时,表示前面否定的内容也适用于另外一个人/物,句子需要用部分倒装结构固定用法 me neither : 我也不…If you don’t go to the party, I won’t either (= neither will I)I won’t like horror movies. Me neither either…or… (或者…或…)neither…nor… (既不…也不…)When my daughter is happy,she either sings or dancesI have neither time nor money for skating. 我没有时间也没有钱去滑雪(这不就是我嘛) all | bothall 可以指代可数名词复数或不可数名词,表示三个或三个以上both 仅可修饰可数名词复数,指两个人或事物”都” all of / both of 后为名词时,Of可省略 All were present at the meeting(主语)Almost all of the music was from Italian operasBoth of us are non-smokers.Both women are FrenchShe invited both of us to her birthday partyThey both accepted my invitation all,both 作同位语时樱位于实义动词之前,连系动词,助动词或情态动词之后They both like water lilies very muchYou should all hand in your homework by tomorrow (把作业交上) each | everyeach: 每个(强调个体) (两者或两者以上)(可以与of搭配)every: 每个(强调整体) (三者或三者以上) (不可以与of搭配) They both came on time, but each left ahead of time他们两个都按时到达了,但又都提前走了 We send each other an e-mail each/every week Every student needs to be careful with their studies each作同位语时,谓语动词仍和主语保持一致,不受each的影响We each have received a special gift from the teacher another | otheranother“另外的,另外一个”,表示泛指,即没有整体范围.可单独使用,也可后接可数名词单数 Buy two CDs and get another completely freeIf you don’t like this dress, let me show you anotherWe need another person to help us finish the work another 后可接基数词或few,意为”还有…,另外的…”,修饰可数名词复数I have been here for two weeks and I will stay here for another three weeksThere’s still room for another few people at the back of the hall大厅后面还有几个人的空间 other other 可与 the 连用, 单独使用或修饰可数名词单数,表示 “(两者中的)另一个”.或修饰可数名词复数, 相当于the others, 意为”其余的”;也可不与 the 连用,直接修饰名词,修饰可数名词复数时, 相当于 others, 表示泛指意义,常用于 some…others…结构 I have two brothers. One is a soldiier and the other is a singer. The other shoe can’t be found The old man has three sons. One is doctor, another is a lawyer, and the other is a worker Old John has four children. Lily is a little silly, and lucy is a little lazy and the other two are very bright I often have different ideas from the others in my class We should not speak ill of other people behind thieir backs Some children are cleaning the windows, and others are mopping the floor other 前除了可以用 the , 还可以用 any | some | no | my | your | two | several | many | a few 等,一起修饰可数名词 I have no other dictionary apart from this one. 除了这本词典,我没有别的了 You can hold it with your other hand We’ve still got several other kinds for you to choose from I don’t like this colour. Have you got any other colours/any others These books are not all. There are still some other books/some others little | a little | few | a fewWe usually have little rain in springCan you speak English? Yes, but a littlePlease add a little sugar to the coffeeHe ate little of the foodA lot of friends were invited, but few cameI have read all of his works, but only a few are as good as his first oneI could still see a few people in the streetVery few students learn Latin now many | muchMany don’t agree to this planHe didn’t say much about his tripMany hands make light workI’ve got much work to do many 作主语,谓语动词用复数形式much 作主语,谓语动词用单数形式many 和 much 后面可跟of 短语 Many of my friends live abroadmuch of the work has been done many | much 前可以有 as | so | too | how 等词修饰Don’t take so manyThere are too many mistakes in your composition some | any some | any 表示”一些” 可修饰可数名词复数或不可数名词. 一般 some 用于肯定句中, any 用于否定句和疑问句中 Some say it was an accident, but I don’t believe it Many of the buildings were damaged in the earthquake and some were totally destroyed There are still some wine in the bottle Have you got any money with you? If you have any, please lend me some. Are any of the paintings for sale? 这些画有没有要卖的 I didn’t eat any meat some 有时也用于疑问句,表示说话者肯定的语气或希望得到对方肯定的回答. any 有时也用于肯定句中,表示”任何一个,任何一些” Weren’t you looking for some of those? 你不是再找那些东西吧? I’ve just made a pot of coffee. Would you like some? I’ll take any you don’t like Which colour do you want? Any of them will do 作主语时,谓语动词要根据 some 和 any 指代或修饰的名词的单复数而定 Some food has gone bad some agree, and some of them don&#39;t I don’t think any of them are coming Any of time is to be made full use of 复合不定代词的用法 some 类复合不定代词主要用于肯定句中或预料会得到肯定会带的问句中 any 类复合不定代词主要用于否定句和疑问句中,也可用于肯定句,表示”任何…”之意 Does someone here know Lily’s telephone number? I haven’t seen anybody around here that I can turn to for help I don’t know what he does exactly, but I know it has something to do with computers I’m so hungry and I’ll eat anything 由 one 和 body 构成的不定代词可以相互换用,但前者比较文雅 Someone/Somebody seems to have been here Everyone’s/Everybody’s business is no one’s/nobody’s business (事关大家无人管) someone | somebody | anyone | anybody | everyone | everybody | no one 等词后一般不跟 OF 短语; 若需跟of短语通常用 some one | any one | every one | none 等 Somebody should have told me Every one of them has a computer None of the suggestions are acceptable 复合不定代词后可加 -‘s 构成所有格 There’s somebody’s backpack left in the classroom It’s anybody’s plan,not mine(这是别人的计划,不是我的) none | no one none 表示三者或三者以上范围中”没有一个”, 也可指代不可数名词,表示”没有一点儿”; 后可以接表示范围的of短语 no one 只能指人,不能指物,其后一般不接of短语 I have invited them all but now none have/has arrived yet No one in our class failed the maths exam Owen has made lots of money, but he would prefer to spend none on books None of them believed his story I was going to offer you saome cake but there’s none left How many of you have been to the Three Gorges Dam? None Who knows the answer to this question? No one *回答how many/much 的提问用 none, 回答 who 的提问用 no one 常用短语 none but 只有 second to none 首屈一指 have none of sth. 不允许,不接受 none of one’s business 不关某人的事 every one | everyone every one 可单独使用, 也可用于of 短语之前,表示一定范围内的每一个人或每个事物 everyone 等同于 everybody, 只指人, 不指物, 常单独使用, 其后一般不跟of 短语 There are 50 students in this class and he knows every one. I checked every one of the drawers, but couldn’t find my watch somebody | nobody somebody 可指有一点地位或小有名气的人物; Nobody 指没有地位或默默无闻的人物 He thinks himself somebody, but he’s really nobody 相互代词指由相互关系的代词,主要有 each other | one another , 意为”相互”each other 主要用于两者之间, 但在现在英语中 each other 也可以用于三者或三者以上one another 主要用于三者或三者以上 We often help each other when in trouble Jeffery and I often send e-mails to each other They seem to love one another very much 相互代词的所有格修饰的名词不能作主语One another’s postcards have been received (x)We have received one another’s postcards (0) 疑问代词 who | whom who 即可指单数,也可指复数 whom 只能作动词或介词的宾语 . 作动词的宾语时可与who互换使用 在介词后作宾语时只能用whom Who will be the leader of the team? Who/Whom did you meet just now (动词的宾语) Who/Whom were you talking about when I came in (介词的宾语) With whom did you go to the concert (介词的宾语,跟在介词后,whom不可用who代替) 疑问代词作主语时,谓语动词的数要根据疑问代词代替的词的数来决定.如果数的概念不清,动词多用单数形式 Who are there on the playground? Who is in the room? whose 表示”谁的”, 可指人和物. 可置于名词前起修饰限定作用,也可单独使用 They each draw a picture, but whose is the best? Whose do you like better, Jack’s or Sally’s? Helen has already taken her bag away. Whose is this? Both Jim and Jack speak English. Whose pronunciation is better? Whose作主语时即可指�����数,也可指复数 Whose is this backpack? Whose are these backpacks? which which 指在明确的,已知的范围中进行选择,即可指人也可指物,即可指单数也可以指复数 Which is more interesting, this book or that? I don’t know which to choose Which cities are you going to visit this summer Which of the seven colours do you prefer Which of the patients have recovered (哪些患者已经康复了?) what what 意为”什么”. 修饰可数或不可数 What makes you love your hometown so much? What do you usually do on Sundays? What are your parents? What interests do you have? what | whichwhat 没有具体的范围,意为”什么”;which 常指在具体的范围内进行选择,意为”哪一个/些”What colour do you like? (没有指定选择的范围)Which colour do you like better, red or yellow? (在红色和黄色中进行选择) what | whoWhat 指人时一般说明职业who 常用来说明身份What is your father (你爸爸时作什么的)Who is the man? He is my brother “What be + 主语” 和 “What do + 主语 + do?” 用于询问职业What is your motherWhat do you do for a living “What be + 主语 + like” 用于询问品行,性格,状况等What is the weather like?What is Lucy like? She is ver diligent,friendly and lovely “What do + 主语 + look like?” 用于询问外貌What does Mary look like? She is tall and thin “What (…) for?” 用于询问原因和用处What did she put the books away for? She wanted to playI should get up early tomorrow morning. What for? “What if …?” 用于提出疑虑或建议,意为”如果…怎么办/怎么样?”What if it rains tomorrow?What if we go together? (我们一起去怎么样) “What about…?” 用于提出建议或询问情况What time shall we meet? What abot 7:00 tomorrow morning?I’ll stay here for another week. What about you? 连接代词指 引导主语从句, 宾语从句, 表语从句 和 同位语从句 的代词.主要分为表示会疑问的连接代词和不表示疑问的连接代词包括 who | whom | whose | which | what | whoever | whomever | whosever |whichever | whatever 表示疑问的连接代词Who will be elected president of the company won’t be known until late this afternoon.直到今天下午晚些时候,我们才能知道谁将被选为公司的总裁He didn’t tell me whose computer this wasI have no idea whomever I should invite to the get-together我不知究竟应该邀请谁参加这次聚会 不表示疑问的连接代词表示”…事,任何…”之意I’ll tell you what we’re planning to do in the coming daysWhoever can’t afford to go to school shall be sponsored by our company.上不起学的人都将受到我们公司的资助She will buy whichever is the cheapest哪个便宜她就买哪个You can buy whatever you need in this supermarketI have invited whomever you rang this morningWhosever books are overdue will be fined 练习题 This project requires close teamwork. ____ will be achieved unless we work well together. ____ can be good at something for 40 years if he doesn’t love it I’ve lived in New York and Chicago, but don’t like ____ of them very much At our factory there are a few machines similar to ____ described in this magazine. Do you have ____ ready for the opening ceremony, Ted? We’d really appreciate ____ when Miss Green comes to help us with the kitchen work He didn’t make ____ clear when and where the meeting would be held For ____ with famil members far away, the personal computer and the phone are improtant in staying connected. Nothing 2. Nobody 3. either 4. those 5. everything 6. it 7. it 8. those 改错 Life in the city is quite different form one in the country Everything is worng with my watch; It doesn’t work My brother and I have all worked in Nanjing for some time I’ve got some others friends I’d like to invite one &gt; that 2. Everything &gt; something 3. all &gt; both 4. others &gt; other 实意动词例如: come , read , go , watch , play , fly 实意动词的否定/提问使用助动词进行否定do&#x2F;does&#x2F;did 后面加 not don&#39;t doesn&#39;t didn&#39;t 使用助动词进行提问: He often plays golf.Does he often play golf?Yes,he does. / No,he doesn’t.注意play的形态 They go to school by bus.Do they go to school by bus?Yes,they do. / No,they don’t. Sam had breakfast yesterday.Did Sam have breakfast yesterday?Yes,he did. / No,he didn’t 使用疑问词进行提问和回答 He bought three books yesterday.Who bought three books yesterday?What did he buy yesterday?When did he buy three books?如果询问不是主语,则需要添加助动词,例如上面的did They have been in China for three years.How long have they been in China? It is about 4 kilometers from Beijing to Xi’an.How far is it from Beijing to Xi’an? They come to visit me once a week.How often do they come to visit me ? 他们学习汉语多长时间了?How long have they learned Chinese? How often do you watch movies? 名词 可数名词 单数 复数 不可数名词 无复数,只用单数形式表示 名词变复数规则 一般末尾加上后缀 s 以s,z,x,ch,sh结尾的词,在末尾加上后缀 esbus &gt; busesclass &gt; classesbrush &gt; brusheswatch &gt; watches 有些书定义是用发音来判断的,如 stomach 的复数为 stomachs 以字母 f 或 fe结尾的名词,要把 f 或 fe 改为 v 再加esleaf &gt; leaveswife &gt; wiveslife &gt; livesshelf &gt; shelves (书架)knife &gt; kniveswolf &gt; wolves 有些以 f 结尾的名词变复数直接加 s ,也有些词两种变化都可以 roof &gt; roofs (屋顶) chief &gt; chiefs (首领) gulf &gt; gulfs (海湾) scarf &gt; scarfs/scarves (围巾) 辅音字母+Y结尾的名词,将Y改为i,再加esfactory &gt; factoriescity &gt; citiesuniversity &gt; universitiesfamily &gt; familiesstudy &gt; studies (书房,研究)country &gt; countries 元音 + y 的词复数形式 day &gt; days toy &gt; toys boy &gt; boys monkey &gt; monkeys 以O结尾的名词,如果O前面不是元音字母或不是外来词或缩写形式,就加eshero &gt; heroespotato &gt; potatoes (土豆)tomato &gt; tomatoes (西红柿)echo &gt; echoes (回声) 直接接s radio &gt; radios (收音机) bamboo &gt; bamboos (竹子) photo &gt; photos piano &gt; pianos tobacco &gt; tobaccos (烟草) es/s 皆可 zero &gt; zeroes/zeros cargo &gt; cargoes/cargos (货物) 以 th结尾的词一般加 -smouth &gt; mouthsyouth &gt; youthspath &gt; pathsmonth &gt; months a,e,i,o,u 元音,其余为辅音字母 可数名词复数的不规则变化 单复数同形的名词sheep (绵羊)deer (鹿) means (方法,手段)series (系列) Chinese (中国人)crossroads(十字路口) species(种类) 改变内部元音的名词foot &gt; feettooth &gt; teethgoose &gt; geese (鹅)man &gt; men 变换词尾的名词child &gt; childrenox &gt; oxen (公牛) 表示”某国人”的名词a Chinese &gt; two Chinesea Japanese &gt; two Japanesea Frenchman &gt; two Frenchmenan Englishman &gt; two EnglishmenGerman &gt; Germans 中日不变英法变,其余 -s 添后面 外来名词的复数形式phenomenon &gt; phenomena (现象)basis &gt; bases (基础)thesis &gt; theses (论文)medium &gt; media (媒介物)crisis &gt; crises (危机)analysis &gt; analyses (分析) 特殊名词的复数形式 有些名词只有复数形式,同时也表示复数意义.做主语是,谓语动词用复数goods (商品)clothes (服装)thanks (感谢) 有些名词只有一种形式,但表示复数意义.做主语时,谓语动词用复数police peoplecattle (牛) 有些集体名词常以单数形式出现,侧重整体时表示单数意义,若表示多个这样的整体则有复数变化形式;侧重整体中的成员时表示复数意义Lily’s family is well known throughout the townOur willage consists of no more than 200 familiesHis family all love music. 以名词为中心词的复合名词,将该名词变复数; 没有中心词的符合名词,只在最后一词的词尾加-sblackboard &gt; blackboardseditor-in-chief &gt; editors-in-chief(主编)passer-by &gt; passers-bygrown-up &gt; grown-ups (成年人)go-between &gt; go-betweens (中间人)forget-me-not &gt; forget-me_nots (勿忘我)(草)(什么鬼!!!)brother-in-law &gt; brothers-in-law 有些名词意义不同复数形式不同 penny指价值时,复数形式为pence; 指硬币的个数时,复数形式为pennies ten pence 面值十便士ten pennies 十枚一便士的硬币 fish表示鱼的条数时,单复数同形; 表示鱼的种类时,复数形式为fishes I caught two fish in the river yesterdayI keep five fishes in the fishbowl people意为”人,人们”时,时集体名词,只有一种形式,表示复数意义;意为”民族”时,单数形式为people,复数形式为peoples two people 两个人two peoples 两个民族 常以复数形式出现的名词 trousers (裤子) | scissors (剪刀) | shorts (短裤) | chopsticks (筷子) | socks (短袜) | glasses (眼镜)这类词不能直接被具体数字修饰. 像 trousers 不能说 two trousers, 但可以说many trousers , two pairs of trousers 等 常见的不可数名词一般没有复数形式,不能用不定冠词修饰;若表示它的个体意义,一般要借助量词 advice | air | baggage(行李) | bread(面包) | chalk(粉笔) | change(零钱) | cloth(布) | cotton(棉花) | equipment(仪器) | food | fruit | furniture(家具) | gas(汽油) | glass | grain(谷物) | grass(草) | ink(墨水) | information| knowledge | luck | luggage(行李) | meat(肉) | money | music | news(新闻) | paper | progress(进步) | tea | rain | rice | sand | smoke | snow | sugar | traffic | waste(废弃物) | water | wealth | weather | wheat(小麦) | wind | work | wood 可转化为可数名词的物质名词 有些物质名词表示”一份/杯/场…”时,作可数名词用,前面可用不定冠词a beer 一瓶啤酒a raina winda coffeea paper 一份文件a glass 一个玻璃杯 有些物质名词可以有复数形式,表示不同种类或数量之多foods 各种各样的食品glasses 眼镜snows 雪堆,多场雪woods 小树林fruits 各种各样的水果sands 沙堆,沙丘waters 大片水域winds 多阵风 可转化为可数名词的抽象名词抽象名词表示具体事物时,可以变为可数名词,表示”某种人或某件事” beauty 美人death 死亡事件;死failure 失败的人或事joy 令人高兴的人或物pity 遗憾,可惜surprise 令人感到惊讶的事情comfort 安慰者;慰藉物honour 令人感到荣耀的人或事物pleasure 愉快的活动success 成功的事物shock 令人感到吃惊的事worry 令人担忧的事 Mary is a great honour to our classwhat a surprise you gave us all *专有名词一般也视为不可数名词,但有时也可以作为可数名词用,可以用 a/an 修饰或用复数形式 How I wish to be a Thomas Edison!A Dick is asking to see you. 一个叫迪克的人想见你There are two Marys in my class.I often confuse them. 名词所有格-‘s所有格构成 一般情况下,在名词词尾加 -&#39;smy son’s watchDick’s carRichard’s new ideaa women’s hospitalmen’s clothes 词尾是 -s 的复数名词,在词尾直接加 -&#39;birds’ nests 鸟窝my parents’ wishes 词尾是 -s 的单数名词或专有名词,名词尾加 -‘ 或 -‘s 均可my boss’/boss’s planEngels’/Engels’s works 恩格斯的著作 复合名词在最后一个词的词尾加 -‘smy brother-in-law’s birthday cakea grown-up’s problem 名词后有同位语是,只将同位语变所有格This is my sister,Mary’s bicycle. 这个是我姐姐玛丽的自行车You must be surprised when you know your son, Philip’s school report 用法 表示人或物真正地拥有时 用 -‘s 所有格形式Many students’ eyesight is gettting poorer and poorer. 表示时间,距离,国家,城市,团体,机构等名词today’s newspaperstomorrow’s weatherthe city’s environmentthe delegation’s visit 代表团的访问 用以构成各种节日Valentine’s Day 情人节New Year’s DayWomen’s Day 表示店铺,学校,住宅以及公共建筑的名词, -‘s 所有格后通常不出现其所修饰的名词at the doctor’s (office)at Tom’s (home)at the tailor’s (shop) 在裁缝店 有时所有格可单独使用My spoken English is just as good as Susan’s (spoken English).Robin’s (family) is a happy family. of 所有格 用于表示无生命的事物的名词From the top of the hill, you can get a panoramic view of the city.There is something wrong with the engine of the car.The environment of the city is getting better and better. 用于表示名词化的形容词或过去分词的名词the life of the poorthe living conditions of the oldthe needs of the wounded 伤员们的需要 用于有较多修饰语的名词I have read the report of the students who have done the research work for two years.The naughty boy caught the tail of the old black cat. 双重所有格of 所有格和 -‘s 所有格或名词性物主代词合成在一起用于一个短语中,叫做双重所有格.双重所有格主要用来表示部分概念和强烈的感情色彩 构成 of + -‘s 所有格a friend of jack’s 杰克的一个朋友a teacher of my brother’s 我弟弟的一位老师 of + 名词性物主代词some friends of ours 我们的一些朋友a good habit of mine 我的一个好习惯 用法 双重所有格中用-‘s 所有格的必须时一个明确限定的,指人的名词,同时of 前面被修饰的必须是不确指的名词 有时双重所有格所修饰的名词与指示代词连用,常带有赞赏,厌恶,不满等感情色彩That brother of yours is always looking for trouble.That little son of Mr Chen’s is very clever. 名词后用of所有格和双重书有个表达的含义不同,注意区别 a picture of my mother 我妈妈(本人)的一张照片 a picture of my mother’s 我妈妈(拥有)的一张照片 名词的修饰词表示数量的词作修饰语 只修饰可数名词 few | a few | several | many | many a (很多) | each | dozens of (几十个;许多) | scores of (许多;大量) | a couple of (两个;几个) | a great/good many (很多) | a number of (大量的) | more than one (不止一个) 只修饰不可数名词 little | a little | a bit of(一点) | much | a large amount of | a good/great deal of 即可修饰可数名词又可修饰不可数名词 some | a lot of | lots of | plenty of (充足的) | enough | most | all | any | masses of(许多) | a mass of(许多) | quantities of (许多) | a quantity of (许多) 单位词作修饰语 普通单位词英语中最宠用的单位词有piece,bit,article,item等,它们的搭配能力最强,常用来修饰不可数名词an item of information 一条消息an item of furniture 一件家具a piece of chalk 一支粉笔a piece of newsa piece of papera piece of work 一份工作a piece of meat 一块肉 two pieces of breadseveral pieces of advicea few articles of clothing 几件衣服a bit of wood 一块木头bits of broken glasses 玻璃碎片 度量单位常用的度量单位词有 metre,inch,yard,foot,pound,kilogram,tona metre of cloth 一米布an inch of land 一寸土地a pound of meat 一磅肉a ton of coal 一吨煤two feet of snow 两英寸厚的雪 容积单位词box,bag,tin,basket,bottle,cup,glass,basina box of sweets 一盒糖a bag of books 一袋子书a tin of baked beans 一罐烤豆子a bottle of wine 一瓶葡萄酒a cup of tea 一杯茶a glass of beer 一杯啤酒a basin of water 一盆水a basket of eggs 一篮子鸡蛋 形状单位词指用象状描述名词的一些词. 如: bar,ball,block,loaf,sheet,drop,grain等a bar of chocolate 一条巧克力a cake of soap 一块肥皂a block of ice 一块冰a loaf of bread 一条面包a drop of rain 一滴雨a grain of sand 一粒沙子 动态单位词主要用来描述”一阵”,”一道”,”一声”,”一丝”等a fit of laughter 一阵笑声a roar of shout 一声大喊a gust of wind 一阵狂风a flash of lightning 一道闪电a burst of anger 一阵怒火a round of applause 一阵掌声 集体单位词a crowd of people 一群人a group of studentsa troop of soldiers 一队士兵a team of playersa fleet of ships 一支舰队a gang of people 一伙人 其他修饰语 名词作修饰语a stone tablea clothes shopa goods traina shoe factorya girl studenta savings account 一个储蓄账户 形容词作修饰语a pretty girla nice dayamazing newsa well-known poeta greezing night 副词作修饰语the people there the pictures belowthe room above 介词短语作修饰语a girl in clean clothesthe school near the riverthe answer to this questionbooks on th top shelf 定语从句作修饰语The probelm which we are facing now is how to bring down the number of private cars. 名词句法功能 作主语self-confidence is the key to successThe lawyer will undertake this case 作宾语It is everyone’s duty to love animalsTeenagers today are facing lots of pressureHe went on to talk about his accident 作补足语Mary was made head of the delegationHe named his son John 作表语I’m not a wage-earner;I’m a self-employed man 我不是工薪阶层,我是一名个体经营者Lydia turned nurse,which she didn’t wish to be. 名词在turn后作表语时,其前不用冠词 作同位语That is my new English teacher,Mr WangWe students need to develop our interests fully 作定语The young man gave his girlfriend a diamond necklaceSorry, I am a chemistry teacher,not an English teacherIn my hometown,there grow many apple trees. 大多数情况下作定语的名词用单数形式.但 man , woman 作定语时,如果修饰的是可数名词复数,者相应地变为复数. 总是以复数形式出现的名词作定语时仍用复数a shoe factoryheart attack 心脏病a film staran orange treea woman doctorthree women doctorsa glasses store 词义解析 affair | matter | business I have been very interested in foreign affairs. 我一直对外交事物很感兴趣 We all wonder what is the matter with the new machine The manager is away on business and it’s none of your business cloth | clothes | clothing | dress cloth 泛指 “布”时为不可数名词,而指某一特殊用途的布时,时可数名词,其复数为 clothes Most of our clothes are made of cloth. 衣服由布做的 Customers are quite satisfied with our table clothes. 顾客对我们的桌布很满意 clothes 指身上穿的衣服,包括上衣,裤子,内衣等 Do I need to change into a new set of clothes for this party? clothing 是服装的总称,范围比clothes广.除衣,裤外,还包括帽子,鞋袜,手套等 This shop sells articles of men’s clothing. dress “裙子,衣服” . 作可数名词,指妇女的连衣裙或上下连身的女装,或小孩的衣物.作不可数,表示衣服(无论男女) He doesn’t care about dress. Who is that girl in a red dress? national dress (民族服装) evening dress (晚礼服) sound | nosie | voice Sound travels more slowly than light We couldn’t hear a sound here He enjoys the country life, away from the city nosie I recognized his voice at once when he phoned. He was suffering from flu and had lost his voice power | strength | force | energy power 力气,能力,权力 The power of the explosion smashed windows across the street(爆炸的冲击力震碎了对面街上的窗户) China is a country where the people are in power.(笑话?) Electricity gives us power and makes machines work. strength 体力,意志力,优点 The little boy doesn’t have the strength to lift that heavy box Union is strength. 团结就是力量 By doing so, you can test the strength of steel. (钢) Her main strength is her critical thinking ability(批判性的思维能力) force The force of explosion damaged his car He robbed me of the money by force. 他用暴力把我的钱抢走了 From then on, the regulations came into force. Air forces were sent to the front. 空军被派往前线 energy 精力,能量 The man is old but he is full of energy The sun can provide varieties of energy habit | custom | practice habit 指个人习惯; custom强调社会民主的风俗; practice作”惯例,常规” He has formed the habit of saving money Social customs vary greatly from country to country 各国的风俗习惯很不一样 It is the practice in Britain to drive on the left sight | view | scene | scenery sight 是可数名词,指某一地区值得游览的或具有特色的建筑物,风景,名胜等 The Great Wall is one of the most breathtaking sights in the world (惊叹) view 是可数,指从某一特定点观看到的东西,景物,尤其是美丽的自然风景 We have a fine view of the lake from our hotel window scene 是可数,表示”景色” ,指所见之物,也可表示动态或静止的室内,室外场景或常被当做一个整体的景色 There are many beautiful scenes in the out-of-town park scenery 是不可数, 指自然景色,场面,是大自然风景的总称 Guilin is world-famous for her fine scenery prize | award | reward prize 各类竞赛或抽奖的奖; award 多指工作中获得的奖; reward 多指对某人的工作或服务等的回报 Hundreds of prizes can be won in our competition The movie has won a number of awards A reward was offered for the return of the passport journey | trip | travel | tour | voyage journey 指一地到一地,远距离,或走很长的路,不含由回到原地之意 trip 时间短,距离近 travel 旅行,游历 tour 参观,访问 voyage 主要指乘船或飞机进行的旅行 He made a journey from Paris to Berlin He went on a trip to the nearest seaside during his vacation He came home after five years of foreign travel We made a tour around the factory yesterday The day is coming when man takes voyage to the moon 练习题1. I took out my guildebook in which there was a lot of information about the city&#39;s well-known tourist _____(attact) and started to read 2. The children huddled closely together for ____(warm) 3. Father went to his doctor for ____(advise) about his heart trouble 4. There are ten ____(woman) teachers and two hundred girl students in the school 5. I shall never fear difficulty and I shall never know the ____(exist) of the word &quot;failure&quot; 6. His ____(curious) made him wonder about clouds 7. Except for some short songs and poems included in his plays, all of ____(Shakespeare) greatest poems are sonnet 8. Tight jeans and trousers, short skirts and even sensible flat shoes may all cause ____(ill) 1. attactions 2. warmth 3. advice 4. women 5. existence 6.curiosity 7. Shakespeare&#39;s 8. illnesses 找出下面语句的错误 1. For Americans, distance in a social conversation is about an arm&#39;s long to front feet. 2. These children had great funs in the park. 3. Don&#39;t make any voice; your father is sleeping. 4. It&#39;s not my book and maybe it&#39;s somebody else. **5. One of the first thing Bill did was to teach us how to play basketball.** 6. The patient has stayed in the hospital for one and a half month. 7. Of course, she is often asked question by people who want to be told the secret of long life. 8. I had my hair cut at the barber around the corner 9. To my surprised, Mr Yang found me and apologized to me for his sharp words the next day. 1. long &gt; length 2. funs &gt; fun 3. voice &gt; noise 4. else &gt; else&#39;s 5. thing &gt; things 6. month &gt; months 7. question &gt; questions 8. barber &gt; barber&#39;s 9. surprised &gt; surprise 冠词不定冠词不定冠词 a/an 与one 同源,表示 “一” 概念. 但并不强调数目,只表示名词的不特定性 a 用于辅音音素前;an 用于元音音素前 a universitya one-eyed horse a European countryan important meeting an hour an honest boy 表示同类中的任何一个这种用法是由相同特点的同类人或事物中的任何一个来泛指一类人或事物的全部A doctor is a person who saves people’s lifeA square has four sides 表示泛指某个人或事物A girl is sitting under the treeI met a friend of yours today as I hurried off to work我今天在赶去上班的路上遇到了你的一个朋友My father bought me a nice present, but I don’t know what it is now. 表示”一”的概念The hall can seat a thousand people 表示相同,同一或具有相同的性质不定冠词的这种用法常与of搭配,构成”of + a/an + 名词”Birds of a feather flock together (物以类聚)We are all of an age (我们都是同龄人) 表示单位量词的”每一”常用在指时间,重量,速度,价格等的单位量词前,表示”每一”,相当于 per | each | every 等Take three pills a day and you’ll get better soonWe have a music class once a weekThe meat costs three shillings a pound 用于表示整体的集体名词,可数名词化了的不可数名词及专有名词前John Smith has a happy family A heavy rain fell yeaterdayThe news of my promotion came as a shock (我晋升的消息着实让我吃了一惊) I remember he came here one a Sunday and left soon 用于表示某一方面,某一部分等特殊含义的不可数名词前不可数名词如 education(教育) | history(历史) | knowledge(知识,学识) | population(人口) | time(时间) | word(世界) 等, 在表述其某一部分或某一方面的内容,概念时,尤其由修饰语修饰时,前面常用不定冠词have a long historyreceive a good educationa knowledge of English and computer 用于部分动词短语中具有动作意义的名词在与动词 have | take | make | give | 等一起构成短语时, 名词前常用不定冠词,表示一种短暂性的动作have a look/walk/break/bath/swimtake a rest/walk/break/bathmake a choice/decision/plan/studygive a whistle/laugh/smile/shout 用于作同源宾语的名词前dream a sweet dreamsmile an attractive smile (笑得迷人)fight a hard fightdie a glorious death (光荣牺牲)sleep a sound sleeplive a happy and peaceful life 常用短语 与 时间 | 数量 | 方式 等有关的短语a moment agotwice a weekafter a time 一段时间之后after a while 一会儿后for a while 一会儿half an hour 半小时in a moment 立刻just a minute/moment 就一会儿once in a while 偶尔all of a sudden 突然as a result 因此in a hurry 急匆匆地in a word 总之a great many 许多a lot of 许多a little 一点a number of 一些a kind of 一种a great deal of 许多a bit (of) 一点in a loud voice 大声地as a matter of fact 事实上as a rule 通常once upon a time 从前in a low mood 某些固定地动词短语catch a coldhave a good timekeep an eye onmake a face 作鬼脸make a living 谋生make a speechmake a choicepay a visit 拜访take an interest indo a good deed 做好事have a feverlend/ give sb. a handmake an effort 做出努力make a mistakemake an apologymake a decisionmake a promisetake a seat 定冠词定冠词 the 与 this | that | these | those 同源 特指上文提到过的特定地人或事物I went to a nearby restaurant. The food there was good, but the service of the restaurant was terribleI have been staying here for two weeks. The two weeks has been wonderful 特指上文虽未提及,但谈话人都知道的人或事物Would you please turn down the radio a little? The baby is sleepingClose the windows before you leave the lab 用在表示宇宙将独一无二地事物地名词前The sun was shining and birds were singingMan travelled to the moon scores of years ago 这里所指地主要是各种天体及世界上比较有影响的物体.但是如果有形容词修饰,常用不定冠词.例如: a full moon 一轮圆月 用在可数名词单数前表示一类人或事物The brain is the centre of thoughtThe cat, like the dog, is liked by many peopleThe pen is mightier than the sword (笔胜于剑) 用在表示地点,方位和时间地固定短语中in the worldat the corner 在拐角处from the westin the beginningin the morningin the countryin the easton the leftin the endin the middle of 如果出现对称的方位或事件名词时,冠词往往可以省略from (the) east to (the) westfrom (the) beginning to (the) end 用于序数词前或比较等级说修饰的名词前He is always the first to come and the last to leaveMaths is the most difficult subject and English is the easiest, I think. Which story is the more interesting (story) of the two? 用在 “the + 比较级… , the + 比较级…” 结构中The more love we give, the more love we’ll receiveThe more careful you are, the fewer mistakes you’ll make 用于某些形容词或形容词化的过去分词前表示一类人或事物The new is to take the place of the oldThe poor in Africa are still suffering from hungerIn the air crash, the number of the wounded was ten 用于被演奏的西洋乐器名词前The boy of no more than four years old can play the piano very wellShall we dance to the guitar 用于集体名词,物质名词前The museum is open to the publicThe people in this country are kind and ready to helpThe iron is harder than the stone 用于表示世纪或年代的词前in the 19th centuryin the fifties (在50年代)in the 1980s/1980’s 用于”动词 + sb. + 介词 + the + 身体部位”的结构中The policeman caught the thief by the arm. (警察抓住了小偷的胳膊)The teacher patted the child on the shoulder and encouraged him to answerA stone hit me in the face as I walked by the garden (我从花园旁经过时一块石头击中了我的脸) 常见的此类动词有 take | catch | hold | seize | pull | hit | cut | strike | pat | lead 常见的介词有 in | on | by等 上述固定结构在现代英语中常用简化的方式,省掉the hit sb. in the face = hit sb.’s face pat sb. on the shoulder = pat sb.’s shoulder lead sb. by the hand = lead sb.’s hand catch sb. by the arm = catch sb.’s arm 用于 “by + the + 计量单位名词” 结构中by the pound/foot/yard 按磅/英尺/码by the hour/day/week/year 按小时/日/星期/年 表示地名,组织,江河,海洋,海湾,沙漠等的专有名词前the Great Wallthe Yangtze River 长江the Palace Museum 故宫the Himalayas 喜马拉雅the History Museum 历史博物馆the USthe WTOthe Yellow Riverthe Summer Palacethe West Lakethe Taiwan Straits 台湾海峡the Atlantic Ocean 大西洋the Persian Gulf 波斯湾 不用冠词的情况 表示一类人或事物的可数名词复数前 Doctors and patients should respect each other. Tigers sometimes can be very kind. Trees can help clean the air 物质名词 | 抽象名词 | 专有名词前 表示其基本意义或泛指的物质名词,抽象名词等前不用冠词 I think water is a kind of food, too Music can bring people pleasure Philip has lived in China for years I wish you good luck in your coming competition 表示时间 | 节日 | 季节等的名词前 I have visited many cities since September 2003 Spring is the best season of the year January 1 is New Year&#39;s Day (注意前面没有the) 表示具体的季节,日期和中国传统节日的名词前常用定冠词 I don’t like the spring of Beijing. It’s too sandy The mid-autumn Festival is one of the most important traditional Chinese festivals 表示三餐,球类 What do you usually have for lunch Do you like to play football or baseball It calls for skills to play bowling well (打好保龄球需要技巧) 三餐前有形容词修饰或特指某顿饭时需要用冠词 a big lunch the dinner given by Mr Smith 表示学科,语言的名词前 I like physics though it’s a bit difficult English is one of the most improtant languages in the world 称呼语,表示职位,头衔的名词作表语,补足语,同位语或与姓氏连用时 Doctor, I’m not feeling myself today Mr Smith, head of the group, will plan for the whole trip 作 “人类”讲的 man 与 作 “消息” 讲的 word 前 Man can save the earth and man can also destroy the earth She sent word that she would be late 名词前有指示代词,物主代词等限定词时 This is my address. Let’s keep in touch I’d like to buy some books about cars Bill&#39;s camera is like mine as/though 引导的让步状语从句中作表语的名词提前至句首时 Child as/though she is, she plays the violin perfectly 表示同一人或事物的两个并列名词中的后一个名词前 a teacher and writer 教师兼作家 a fork and knife 一副刀叉 如果两个并列名词指不同的人或事物则需要各加冠词 a teacher and a writer 一位教师和一位作家 连系动词 turn 后作表语的名词前 Three years later, he turned lawyer 当turn后的名词前有形容词修饰,或名词在表示相同意义的become后作表语时,前面需要冠词 He wanted to be a lawyer, but later he turned a famous singer When did you first want to become a teacher 表示交通方式的by后的名词前 by bike by train by plane/air by ship by car by bus by land 从陆路 by water 从水路 by sea 从海路 单数名词相对应使用时 arm in arm 胳膊挽着胳膊 day after day 日复一日 face to face heart and soul 全心全意地 shoulder to shoulder 肩并肩 step by step 逐渐的 day and night 日日夜夜 day by day 一天天地 hand in hand 手拉手地 husband and wife 夫妇 side by side 肩并肩地 from time to time 时不时地 习惯用法中 at night at noon at home at table 在吃饭 at school at work at dinner after school at war by hand 手工制作 for example in ink 用钢笔 in fact 事实上 in hospital in danger in fight catch fire 着火 in surprise 有无冠词区别 at table 在吃饭 at the table 在桌子旁 at school 上学 at the shcool 在学校里 by day 白天 by the day 按日计算 in hospital/prison 住院/坐牢 in the hospital/prison 在医院/在监狱里 in charge of 掌管 in the charge of 在…的掌管下 in place of 取代 in the place of 在…的位置上 in front of 在…(外部)的前面 in the front of 在…(内部)的前面 out of question 毫无疑问 out of the question 不可能 take place 发生 take the place of 取代 live on farm 务农 live on the farm 住在农场 two of us 我们中的两人 the two of us 就我们两人 go to bed 上床睡觉 go to the bed 朝床边走去 go to church 做礼拜 go to the church 到教堂去 冠词的位置冠词用于名词或名词短语前a beautiful girlan orangea long enough holidaythe difficult situationthe happiest timethe cheapest clothes 固定结构中冠词的位置 as/so … as … 结构中 I have never spent as delightful a day as this Sunday Mary is not so smart a girl as I thought such … as 结构中 We are in such a difficult situation as we came across last time He has never written such an interesting book as that too .. (to) 结构中 Maggie is too young a girl to be left by herself at home I’m afraid it’s too heavy a load for such a boy of ten quite,rather 修饰可数名词单数时,不定冠词必须置于其之后,其他修饰语之前 He’s quite/rather a good soccer player (他是个相当不错的足球运动员) Our maths teacher is quite a teacher (我们的数学老师真的有点与众不同) what 引导的感叹句中,不定冠词置于what 之后,修饰名词的形容词前 What a splendid performance you gave us (演出多么精彩) how 引导的感叹句中,不定冠词置于how 修饰的形容词之后,可数名词单数前 How timely a rain we’ve got in such a dry season 定冠词the置于 all | both | double | twice | half 等词之后,名词之前 All the information is true I offered him double the amount, but he still refused 其他元音 + an 其他 + a an applea box of apples 不可数名词前不可加a(an),没有复数,但前面可以加量词 a cup of coffee 练习题 Animals are obviously ____ lower form of life than man. People develop ____ preference for particular style of learning at ____ early age and these preferences affect learnning Sarah looked at ____ finished painting with satisfaction Sophie dreams of walking in outer space like ____ astronaut one day Have you seen ____ pencil? I left it here this morning. Is it ____ black one? I think I saw it somewhere They are getting things together in preparation for ____ journey we have planned I heard ____ bank where Dora works was robbed by ____ gunman wearing a mask a a,an the an a,a the the,a 找出错误 He is a man of few words, but his talent in singing is the second to none Sam has been appointed a manager of the engineering department to take the place of George Tom, you’ve dropped a “s” in the word “across”. Have you seen the film The Silent War, which is said to be a great fun? The father was in hurry so he didn’t know what was inside Jumping out of an airplane at 10000 feet is quite exciting experience 去掉 the 去掉 a a 改为 an 去掉 a in a hurry quite an exciting experience 数词基数词one | two | three | four | five | six | seven | eight | nine | teneleven | twelve | thirteen | fourteen | fifteen | sixteen | seventeen | eighteen | nineteentwenty | thirty | fourty | fifty | sixty | seventy | eighty | ninetya/one hundred | thousand | million(百万) | billion(十亿) forty thousand 四万two hundred million 两亿 读法1,000 以上的数字,从后向前数,每三位加”,”第一个”,”前为 thousand第二个”,”前为 million第三个”,”前为 billion然后每一节按百,十,个的顺序表示 读的时候,百位和十位之间要读 and.例如: 104,056,486 读作 one hundred and four million, fifty-six thousand, four hundred and eighty-six one OR a/an若有 exactly | only 或要强调刚好是整数时用 one The journey took exactly one hundred days.(那次旅行刚好用了一百天)I owe him one thousand yuan only 序数词first | second | third | fourth | fifth | sixth | seventh | eighth | ninth | tentheleventh | twelfth | thirteenth | fourteenth | fifteenth | sixteenth | seventeenth | eighteenth | eighteenth | nineteenthtwentieth | twenty-first | twenty-second | twenty-third | twenty-fourth | twenty-fifth | twenty-sixth | twenty-seventh | twenty-eighth | twenty-ninththirtieth | fortieth | fiftieth | sixtieth | seventieth | eightieth | ninetiethone hundredth | one thousandth | one millionth | one billionth 缩写在阿拉伯数字后直接解上序数词最后两个字母构成,如 1st,2nd,3rd,4th,21st,22nd,34th 100以上读法第一百为 100th(读作 one hundredth)第101 为 101st (读作 one hundred and first) 句法The two happily opened the boxThe second was a tall man She is the second in our class I need three altogetherDo you prefer the first or the second We still have one hour leftJanuary is the first month of the year 自身用复数形式再搭配介词 of 后构成短语, 表示不确切的数量 tens of 数十hundreds of 数百tens of hundreds of 数千thousands of 数千tens of thousands of 数万millions of 数百万 score 二十dozen 十二 编号 第12号 Number 12 (number twelve,缩写: NO.12) 第211页 Page 211 (page two hundred and eleven) 第9行 Line 9 (line nine) the ninth line 408房间 Room 408 | Room No.408 | the No.408 Room 12路公共汽车 Bus 12 | Bus No.12 | the No.12 Bus 第5大街 Street No.5 | the No.5 Street 电话号码 435-7334 Tel. No. 435-7334 (telephone number four, three, five, dash, seven, double three,four) 邮政编码 250100 postcode(或zip code) 250100 时间 公元前 476 年 476 B.C. (four seven six B.C.)(four seventy-six B.C.)(four hundred and seventy-six B.C.) 公元 381 年 381 A.D. | A.D. 381 (three eight one A.D.)(three eighty-one A.D.)(Three hundred and eihty-one A.D.) 公元 1900 年 1900 (nineteen hundred) 公元1908 年 1908 (nineteen and eight)(nineteen hundred and eight)(one nine zero eight) 2008年11月25日 November 25(th),2008 (November (the) twenty-fifth, two thousand and eight) 在20世纪90年代 in the 1990s | in the 1990’s 在19世纪 in the 19th century 在80年代 in the eighties 月份January - Jan.February - Feb.March - Mar.April - Apr.MayJune - Jun.July - Jul.August - Aug.September - Sept.October - Oct.November - Nov.December - Dec. 时刻 8:21 twenty-one past eight | eight twenty-one 8:56 four to nine | eight fifty-six 8:30 eight thirty | half past eight 7:00 seven o’clock 8 a.m. eight a.m. 年龄She is a student, 16, from the United States in his thirties 在他三十多岁时“in one’s + 基数词整十数 的 复数形式” 货币货币后有小数,一律使用两位7.5 美元$7.50 (不能写 $7.5) 分数,小数,百分数 分数 表示简单分数时,一般分子用基数词,分母用序数词,分子与分母之间一般用连字符连接; 如果分子大于1,做分母的序数词要用复数形式. 但 1/2 用 one half 表示(不能用 one second) 表示带分数时,整数与分数之间用 and 连接 1/2 one half | a half 1/3 one-third | a third 2/3 two-thirds 3/4 three quarters | three-fourths 2/5 two-fifths 5又3/5 five and three-fifths 基数词与序数词之间的连字符”-“有时可以省略 小数 小数点前的基数词按照基数词读法读,小数点后将数字一一读出 67.89 sixty-seven point eight nine 0.05 zero point zero five 百分数 46% forty-six percent 3.5% three point five percent 倍数表示倍数, 两倍用 twice 或 double, 三倍以上用 “基数词 + times” 倍数 + as…as…. We have produced three times as many computers as we did last year. My deskmate claimed to have twice as many stamps as me 倍数 + the size of … weight | height | depth | width | age | length This city is almost twice/double the size of that city This rope is three times the length of that one 倍数 + what 从句 The width of the road is twice/double what it was three years ago The production now is three times what it was five years ago 倍数 + 比较级 + than I am twice older than you He has read three times more books than I have 比较级 + than … + by + 倍数 The line is longer than that one by twice The time I spent is more than that he spent by three times 分数,百分数等也可用于上面的各种句式中,表示差异的程度I usually spend half what Iearn on booksWe increased 20% as many products as last year. 序数词前冠词的使用情况序数词前一般用定冠词,但一下情况例外 表示”又一,再一”时,序数词前可用不定冠词 I’ll try a second time and see if I can do it 在一些固定短语中,序数词前不用 the first hand 直接地 at first sight 乍一看 be second to none 首屈一指 every third day 每隔两天 其他情况 月,日表达中序数词前可省略 the March (the) eighth October (the) first 并列使用两个序数词,后面的序数词前可省略the the twentieth and twenty-first centuries 在某些动词短语中序数词前可不用the take/win/get/gain first place 获得冠军 come out first 获得第一名 介词介词的分类根据形式分类 简单介词 由一个词构成 at _在… after _在…后 before with _和,带有 合成介词 由两个词合成 inside _在…里面 outside into _到…里面 without _缺乏,没有 双重介词 由两个介词构成 from behind _从…后面 until after _直到…之后 from among _从…之中 except for _除…之外 短语介词 由一个或几个简单介词和一个或几个其他词类组合构成 instead of _代替 because of _因为 in front of _在…前面 thanks to _多亏 分词式介词 形式上与分词相同的介词 including _包括 respecting _与…有关 considering _关于,涉及 given _考虑到,鉴于 根据意义分类 地点介词 at _在… in _在…里面 below _在…下方 inside off _远离 beyond _在…的那边 up _在…上边 around under behind _在…后面 outside between over _在…远处/上方 across _在…对面 on _在…上面 above _在…上方 in front of _在…前面 beside _在…旁边 among _在…(三者或以上)中间 past _经过 opposite _在…对面 时间介词 at _在…时 on _在…时 in _在…后 before between for _长达 since during by _到…为止 till _直到 after until _直到 手段介词 with _用… in _用… by _借助… 其他含义的介词 of _具有…性质 with _带有… without _没有 except _除…之外 besides _除…之外(还) instead of _代替;而不是 常用介词的用法表示时间的介词 at | in | on at: 某一具体时刻,时间点 in: 在一段较长的时间 on: 在特定的日子,具体的日期,星期,及节日 at seven o’clock at noon at midnight at that time at breakfast time in the evening in 2004 in August in the 21st century on Monday on a rainy day on May the first _在五月一日 on Monday morning during | in 在一段时间内 during 更强调时间的延续,可以表示一段时间内自始至终的状态 需要准确说明动作发生的具体时间时则用in during/in summer during/in afternoon during the whole month 整整一个月 in April 在四月 in | after …之后 After 20 hours, we arrived at Los Angeles Airport (用在过去时) We’ll have a meeting after three o’clock. (在将来时,表示 …(时间点)之后) My father will be back in two weeks (用在将来时) He wrote the book in two years (用在过去时,表示”在…内”) for | since I have lived in this city for more than 10 years I have been learning English for over 20 years I have lived here since two years ago/since last year I haven’t eaten anything since breakfast before | by 在…之前 by 含有 “最晚不迟于… , 到…为止” 的意思 I will be back before supper time Supper will be ready by 6 p.m. (晚饭将在6点前准备好(包括6点)) This factory had produced more than one million cars by the end of last year. 到去年年底, …. by | until by 表示到什么时候为止动作已经完成 until 表示动作持续到什么时候 在终止性动词做谓语的否定句式中,二者通用 Can you repair my bike by Friday? I’ll work here until six o’clock The work won’t be finished by/until tomorrow 表示方位,空间关系的介词的用法 over | above | on over: 主要强调覆盖某一物体 或 在某一物体的正上方 above: 强调在上方,但不一定在正上方. 而且还可以指温度,海拔等刻度”在…之上” on: 表示接触或由某一表面支撑着 The bridge over the river has a long history He spread a cloth over the table (他在桌子上铺了一块布) The plane flew above the clouds The average temperature here in summer is well above 30 (单位不打了) Leave your things on the table over there People were sunbathing on the grass under | below | beneath under: 强调在某一物体的正下方,是over的反义词 below: 指在下方,但不一定是正下方, 是above的反义词 beneath: 常与 below 互换, 其多用于正式文体中 She placed the ladder under the window The boat lay under several feet of water Please do not write below this line The temperatures remained below freezing all day Two girls are sitting beneath the tree Jo enjoyed feeling the warm sand beneath her feet before | after before: 在…前面, 指空间顺序时可与 in front of 通用 after: 在…后, 指空间可与 behind 通用 He had performed before the Queen A couple were just sitting before/in front of me and making lots of noise during the whole film She entered the hall after her mother It’s highly dangerous to ride a bike fast right after/behind a car between | among between: 一般用于两者之间. 也可用于三者或三者以上,此时强调每两者之间的关系或某物体与一组特定的可分离的事物之间的关系; among: 通常用于三者或三者以上 The house stands between two farms Switzerland lies between France,Germany,Austria and Italy The village lies among hills Tom has always been popular among her classmates in front of | in the front of 前者表示在某一空间外部的前面 后者表示在某一空间内部的前面 In front of my house runs a small river. Don’t sit in the front of the bus. around | round | about 三者基本通用,指围绕某一位置,物体或人物 Don’t walk around | round | about the room. across | through | past | over across 强调穿过某一个平面 through 强调从某一空间内通过 past 强调从某事物的一旁经过 over 强调从一边到另一边或越过某一高度 Be careful enough while walking across the street Walk through the gate and you’ll see the rest room We drove past the Great Hall of the People.(我们开车经过人民大会堂) The dog jumped over the fence and ran away.(狗跳过栅栏跑了) 表示”用”工具,手段,材料with 多指用工具,身体的某部位或器官by 指使用方法,手段in 指使用某种语言或材料等 What can I cut the cake with?You can see it with your own eyes.Why don’t we go there by car instead?He made the speech in EnglishDon’t write it in pencil,Write it in ink,please. “除….外”but | except Nobody but/except John knows the city wellI could come any day but/except FridayWho but/except you should be to blame for the mistake?(除了你还有谁应为这个错误负责呢？) 如果在句首或句尾，且与其他部分有逗号分隔，常用 exceptExcept my salary, I have nothing to live onChildren would prefer to do everything, except the things their parents ask them to except for 表示对整体说明做细节修正The street in the early morning is very quiet except for a few carsThe movie is good except for the ending besides “除…之外还/也…”Many students have been to the Great Wall besides me.(除了我之外，很多学生也去过长城)Besides reading, I love listening to music.(除了读书之外，我还喜欢听音乐) apart from “除…之外”。表示排除意义时相当于except，表示包括意义时相当 besidesThe children hardly see anyone apart from their parents.(除了他们的父母，孩子们很少见到其他人)Apart from being fun and good exercise,swimming is a very useful skill.(除了有趣和是一项好的运动之外，游泳还是一项很有用的技能) 介词的省略 表示“行为，方式”的way前介词 in 的省略 Don’t treat her (in) that way I think you’re going about this (in) the wrong way 肯定句中表示一段时间或距离的 for 不位于句首时常省略 I have been waiting for you (for) a whole afternoon. The forest stretches (for) thousands of miles. “of + 年龄，形状，面积等名词” 时的省略 age, colour, weight, length, width,height,shape,size类名词作 of 的宾语 When I was (of) your age, I knew much less than you. The desks in our class are (of) the same colour, material, shape, height and length. China and Canada are almost (of) the same size, but (of) very different populations. 表示时间的介词 on, at, in, by 等有时省略 Jack will be here (on) the first of next month What happened (on) that day so long ago 一些固定结构中介词 in, from 等的省略 be busy (in) doing sth have difficulty/trouble (in) doing sth spend…(in) doing sth have a good time (in) doing sth waste no time (in) doing sth 赶紧作某事 介词的固定搭配与名词搭配at nightat noonat breakfastat homeat workat schoolat the cinemafor examplein English 用音乐after schoolby accidentby the wayby the lake 在湖边at the moment 此刻during the nightat Christmasfor a moment 一会儿for years 多年for some reasonin inkin classin time 及时in dangerin a minute 一会儿之后in the way 妨碍on the weekend 在周末on time 按时 key to …的钥匙/答案answer tonote to …的注释way tovisit tointerest inreason for …的原因love for 对…的热爱desire for 对…的渴望effect on 对…的影响contribution toapproach to …的方法 与动词搭配listen towrite tohear from 收到…来信get to 到达look atlook afterrun into 碰到，撞上knock at/on 敲门look through 翻查ask forwait forpay forstick to 坚持search forsucceed in 在…取得成功insist on 坚持depend on 依靠differ fromoperate on 给…作手术learn fromworry aboutdeal withconsist of 由…组成account for 说明depart from 离开stand for 代表dream of/about 梦想result in 导致laugh at 与形容词搭配busy withgoot atafraid offull ofangry with sb.angry about sth.interested inabsent from 缺席，不在pleased with 对…感到高兴strict with 对。。。要求严格good/bad forlate forsorry forready forfamous forpolite to 对…有礼貌kind todifferent from 习题 She will leave for England ____ a month. The Greens left for home ____ the morning of June 20. The sun has already sunk ____ the horizon. The United States is ____ the south of Canada and ____ the east of Japan. Susan got back into bed and pulled the quilt ____ her head We walked ____ the river and found several boats ____ the water. It was a real race ____ time to get the project done. Luckily, we made it. The Smiths are praised ____ the way they bring up their children. 1.in 2.on 3.below 4.on,to 5.over 6.along,on 7.against 8.for He has been playing the guitar from 7 o’clock The policeman dived in the water and rescued the drowning child. In a particular afternoon, my mother brouught a little boy in. The Browns left for Hong Kong in the morning of July 27. 1.since 2. into 3.On 4.On 连词and | or | but | for(因为) | if | because | so | after | since | unless | although(尽管) | before both…and …not only…but also…not…but… 不是。。。而是。。。either…or… 或者。。。或者。。。neither…nor… 既不。。。也不。。。whether…or… 无论是。。。还是。。。 provided 只要assuming 假定providing 只要given 假如seeing 因为 as if 仿佛as though 仿佛even if 即使even though 即使as/so long as 只要in case 以免，万一now that 既然so that 以便，以致 表示转折关系 but 但是 yet 然而 while 却，但是，而 whereas 但是，尽管 The problem was a little hard, yet I was able to work it out.The winter in Beijing is very cold while/whereas that of Kunming is warm.I love strong tea while my father loves coffee.The soles are leather, while the uppers are canvas.(鞋底是皮革的，而鞋面是帆布的) 表示因果推理关系forThe leaves of the trees are falling, for it’s already autumn.He may be ill, for he is absent from the meeting today.I know that you are telling a lie, for you are a little panic. 有时有些副词或短语也可以起并列连词的作用，如 otherwise(否则) or else(不然的话) however(然而) therefore(因此) thus(因此) as well as(和) 等 Shut the window; otherwise it’ll get too cold in hereHe was very tired; therefore he fell sound asleep. He must be at home, for the light in his room is still on.He was late again because the traffic was too heavy. 从属连词I don’t think that we should stay another weekCan you tell me if he can come to my birthday party?Whether he’ll come is unknownThe notice came around two in the afternoon that the meeting wold be postponed.(下午两点左右来了通知，说会议要延期) When you came in, I was talking with a few boys.It started to rain while we were playing outdoors.They laughed as they walked down the river.After you finish this form, come to my office.Don’t hand in your papers before you are sure there are no mistakes.Wait here until/till I come back.I have lived in England since I was three.As soon as you feel sick, go to see a doctor.Once you have made your decision, you shouldn’t change it. I live where there are mountains.You shouldn’t go where you are not asked to.(你不应该去不让你去的地方)If you could go wherever you want to, where would you go?（如果你可以去你想去的任何地方，你会去哪里？) We have to go to bed now because we’ll start off early tomorrow.Since you know all about it, tell me please. (既然你都知道，那就请告诉我吧)As all the seats were taken, I had to stand. If you see him, give him this note.We won’t finish the work on time unless we work hard.You can use my car as long as you return it before Friday. 只要； 如果；既然 In order that we can arrive there on time, we should start off early.He played the piano very gently so that/in order that the baby could not be waken up. Though/Although Canada is large, the population is small.He went to school though/although he was very ill.Even if/Even though we got a local guide, we still had some difficulty walking through the bush He was so careless that he forgot to write his name on the paper.Dalian is such a beautiful city that a great many people go there for holidays.The teacher explained very clearly so that we all understood.My parents are waiting for me, so I must be off now. China has a larger population than India (does).He speaks English as well as Americans (do).Some people think that planes now are not so/as safe as trains (are). You should do as I doHe treated the boy as is he was his son.He walked about as though he had lost something. 习题1.The little body was doing his homework ____ his mother was cooking in the kitchen.2.I must be off now, ____ my mother is expecting me. whilefor 改错 1.It didn’t matter that I would win the match or not.2.I don’t doubt whether you have told the truth. that -&gt; whether32whether -&gt; that 形容词复合形容词 数词 + 名词 + （形容词） a five-year plan a three-week trip an 800-metre-long bridge a two-year-old child 形容词 + 名词 + -ed形式 an absent-minded child 一个心不在焉的孩子 cold-blooded murder 残忍的谋杀 good-tempered parents 好脾气的父母 a warm-hearted shop assistant a middle-aged man 形容词/副词 + 动词-ing形式 a far-reaching speech 一个意义深长的演讲 a long-standing friendship a good-looking girl a hard-working teacher 名词 + 动词-ed 形式 a man-made lake a heartbroken mother a snow-capped mountain 副词 + 动词-ed 形式 the so-called experts 那些所谓的专家 a newly built library a well-chosen story a well-known writer 其他 out-of-date information a face-to-face interview a know-it-all person 一个万事通的人 a step-by-step guide 形容词位置 置于被修饰词前Children should be given plenty of free time.Warm days are coming 置于被修饰词后 He is the most famous scientist alive in the world today.Time alone will show who is right (唯有时间可以证明谁是对的) 形容词修饰 someone, something, anyone, anything, nothing Attention, please! I’ve got something important to tell you all. There is nothing serious at all. There is a lake full of fish to the west of my hometown. Those brave enough to take the course will certainly learn a lot of useful skills. 两个形容词中间用 and 或 or 连接作定语时 I like reading books both interesting and instructive. All the people on this island, young or old, are all fond of music 修饰起名词作用的 anywhere, somewhere时，通常后置 Can you find anywhere safe? There are many buildings over 20 storeys high. 20多层高 There used to be a river about 10 metres wide 修饰名词的比较结构须后置 We need a house twice larger than this one 具有动词色彩并表示被动意义的以-ble, ible 结尾的形容词作定语时 This is the earliest edition obtainable. I have tried all means imaginable 多个形容词 一般总体描述在前，具体描述在后； 主观在前，客观在后； 普遍在前，特殊在后； 短词在前，长词在后 不紧密的在前 （限定词+）描述形容词 -》 大小 -》形状 -》 年龄新旧 -》 颜色 -》 国籍 -》 材料 -》 用途 a few big round new black French wooden tables a famous German medical school The last few unforgettable sunny days one tha beach 形容词比较级 没有比较级right | wrong | excellent | final | last | possible | golden | east | empty | impossible | wooden | favourite 比较级 和 最高级 构成规则 直接加 -er | -est slow &gt; slower &gt; slowest tall &gt; taller &gt; tallest 以字母 -e 结尾的形容词只在其词尾加 -r | -st brave &gt; braver &gt; bravest safe &gt; safer &gt; safest 以一个辅音字母结尾的重读闭音节形容词，双写这个辅音字母后再加 -er | -est big &gt; bigger &gt; biggest hot &gt; hotter &gt; hottest 以辅音字母 + y 结尾的词，将 y 变为 i 再加 -er | -est happy &gt; happier &gt; happiest easy &gt; easier &gt; easiest 其他双音节词和多音节词，再词前加 more 和 most 构成 beautiful &gt; more beautiful &gt; most beautiful important &gt; more important &gt; most important 不规则 good | well &gt; better &gt; best bad | ill &gt; worse &gt; worst little &gt; less &gt; least much | many &gt; more &gt; most far &gt; father(指距离) | further(指距离和抽象意义) | farthest | furthest old &gt; older | elder &gt; oldest | eldest 用法原级 as…as My handwriting is as beautiful as yours The story is as interesting as the one you just told not as/so…as I am not as/so busy as I used to be The weather here is not as/so comfortable as that in China as much/many…as We have produced as many tractors as we did last year I don’t make as much money as you do 比较级 than He made fewer mistakes than you Lesson 3 is more difficult than Lesson 4 单独使用 Be more careful next time It is colder today I hope to get a better job He went abroad for further education and As winter is coming, the night is becoming longer and longer Our country is becoming more and more beautilful the The shorter your article is, the better it is The more difficult the problem is, the more careful we should be The more careful you are, the fewer mistakes you’ll make ATTEMTION more 不可以 修饰比较级，但 much 可以 She looks more younger than me (x) She looks much younger than me (√) 相比较的两者必须是同一类 The weather of Beijing is colder than Shanghai (x) The weather of Beijing is colder than that of Shanghai (√) 在同一范围内比较时要使用other或else排除自身 China is larger than any country in Asia (x) China is larger than any other country in Asia (√) 最高级 the jack is the tallest student in his class It is the cleverest dog of these five dogs 介词 in 和 of 引导的短语说明比较范围： 如果在一定的地域空间内比较用 in 如果在同一类事物范围内进行比较用 of Jim is the tallest student in his school Jim is the tallest student of all the students in his school 最高级前不用定冠词the，就没有比较的意思，只是用来加强语气，相当于very This is a most interesting story. 这是一个非常有趣的故事 For little Tom, writing a composition is most difficult homework 比较级表示最高级意义 any other + 可数名词单数 all other + 可数名词复数 比较级 + than + any of the other + 可数名词复数 anyone/anything else any + 可数名词单数 Jane is taller than any other student in her class 与否定连用 I have never heard a better voice than yours Nothing can be more tiresome than copying the numbers 修饰语 比较级 much | even | rather | still | yet | twice | five | times | many times | two-fifths | 20% | (by) far | far and away | a lot | a great deal | a little | a bit I feel much/a great deal better today He is five years older than me = He is older than me by five years Your handwriting is (by) far better than mine. 你的书法比我的好多了 最高级 much | (by) far | nearly | almost The Yellow River is the second longest river in China Of the three girls Betty is much the cleverest Of all the students, Jack’s oral English is almost the best. ed | ingamused(被逗乐的) amusing(有趣的)astonished astonishingdisappointed disappointingexcited excitingfrightened frighteninginterested interestingmoved movingpleased pleasingpuzzled puzzlingsatisfied satisfyingsurprised surprisingtired tiringworried worrying He is frightenedShe was disappointed at his refusalJohn seemed puzzled about waht the question meantI was worried that the branch wouldn’t take my weight It’s astonishing that she should say that sort of thing to youThis film is more exciting than any that I’ve ever seenThe walk takes you past a lot of interesting buildings.It was the most worrying day that he had ever spent. 副词He speaks very fast.They have already leftThey have already been repaired. 副词可以修饰动词,形容词,其他副词以及其他结构 She is very beautifulvery : 副词 They work very hard.very , hard : 都是副词 It’s not simply a question of money 这不仅仅是钱的问题Try to express yourself more simplyI completely forgot that it’s his birthday todayThat’s a totally different matter 那完全是两码事 大多数副词构成实在形容词后直接加-ly frequently | constantly(经常地) | rapidly(迅速地) | calmly | happily | anxiously 形容词加 -ly 规则 形容词直接加 -ly 以 -le 结尾的形容词需去掉 e 再加 -y gentle &gt; gently | possible &gt; possibly | comfortable &gt; comfortably 以 -y 结尾的形容词把 y 改为 i ，再加 -ly easy &gt; easily | happy &gt; happily | heavy &gt; heavily | busy &gt; busily shy &gt; shyly(特殊) 与形容词同形 late | clean | fast | enough | slow | high | early | long | low | clear 有些词本身事副词，加 -ly 后又构成另外的副词，常见的有： hard (费力地)&gt; hardly(几乎不) most &gt; mostly(主要地) late &gt; lately(最近，近来) loud(大声地) &gt; loudly(喧闹地) near(接近) &gt; nearly (几乎) deep &gt; deeply(真诚地) close &gt; closely(密切地) just(正好) &gt; justly(公正地) high &gt; highly (高度地) wide &gt; widely(广泛地) free(免费地) &gt; freely(自由地) clean(完全地) &gt; cleanly(干净地) 分类 时间副词 now | then | just | recently | before | already | finally | today | tomorrow | soon | ago | late | since | immediately | lately 地点副词 here | ther | nearby | in out | inside | outside | down | up | upstairs | downstairs | back | far | over | everywhere | outdoors | indoors | ahead 方式副词 well | fast | hard | carefully | slowly | suddently | simply | kindly | seriously 程度副词 much | little | very | enough | particularly(特别，尤其) | extremely | entirely | that(那么) | so | too | rather | nearly | almost | half | quite(很) 频度副词 usually | often | sometimes | never | always | hardly | constantly | frequently | seldom 评论副词 luckily | happily | generally | honestly | roughly(大体上) | briefly(简洁地) | broadly(广义上) | narrowly | naturally | hopefully | fortunately | evidently | 疑问副词 where | when | why | however | whenever | wherever 关系副词 when | where | why 连接副词 therefore | besides(除此之外) | otherwise(否则) | though(但是) | when | why | wherever | moreover | however | then | meanwhile | wher | whenever | however 其他副词 yes | no | certainly | surely | sure | really 句法He works very hard on his project(修饰动词)I’m very busy these days(修饰形容词)She speaks English very beautifully(修饰另一个副词)Luckily, she has got another chance(修饰整个句子) When the metting is over, give me a phone callSorry, I have to be off right nowIs anybody in? The people there are very kind to visitorsPlease write down the words aboveI had to get off and take the bus behind We held quite a party last weekend. 一个相当不错地派对Even a child won’t believe such a storyNearly anyone present at the meeting was an expert on computers 参加这次会议地人几乎都是电脑方面地专家I learned three foreign languages at college, but now I have forgotten almost all of them Did you see anybody in?The boy was seen upstairsI went to her room only to find her out I know there’s a mouse under there somewhere 我知道在那下面有什么地方有只老鼠I didn’t know her until quite recently 副词的位置 修饰形容词，其他副词，一般位于被修饰词的前面 The place looks completely different now Computers work much faster than before Happy days pass too soon enough 作副词时总是置于被修饰的形容词或副词之后 The book is easy enough for little kids enough 作限定词时通常用于复数名词或不可数名词前，不可置于单数名词前 I’ve got enough bottles to contain the coins The police didn’t have enough evidence to convict him 修饰动词的方式副词一般放在动词后。 地点副词放句末 We must learn to speak English correctly and fluently The boy read quietly over there all afternoon He lives at 75 Xiangchun Road,Changsha 频度副词 I often go to school at six in the morning Jeff is always ready to help others You’ll always be asked to keep silence over what’s happened 程度副词 The film was quite good I don’t like coffee very much 短语动词 I need to think over your suggestion (= I need to think your suggestion over) 我需要考虑一下你的建议 I need to think it over 我需要考虑一下它 比较级 | 最高级well &gt; better &gt; best badly &gt; worse &gt; worst much &gt; more &gt; most little &gt; less &gt; least far &gt; farther | further &gt; farthest | furthest 原级 I love music as much as Betty does She can’t use the computer so/as well as you john drove much more carefully than me He runs faster and faster when he is near the finishing line The harder you work, the better you’ll learn 比较级 She speaks French no better than me 她的法语讲得和我一样都不好（否定两者） She speaks French not better than me 她的法语讲得不如我好 最高级 He talks (the) least and does (the) most in his office Jack jumps (the) highest but runs (the) most slowly of the three boys Of all the subjects, I like English (the) best 比较级的修饰语 even | still | much | a little | a lot | a bit | a great deal | far | by far He speaks Japanese a lot better than before Could you please speak a little more slowly so I can follow you 最高级的修饰语 (by) far | much | far and away | almost | the very | much | nearly Sophia works the best by far in her factory He played the piano much the best among the boys of his age 辨析 very | much | very much 修饰形容词或副词原级 用 very 修饰形容词或副词比较级和最高级 用 much It is very hot today The traffic is moving very slowly this morning He is much the best mechanic in the factory He is the very best mechanic in the factory. (例外，表示强调) 修饰现在分词转化成的形容词一般用 very 修饰过去分词一般用 much This film is very interesting I was much troubled by the noisy children I am very tired. (tired 已转换为形容词，可用very) very much 可修饰默写情感的动词 I enjoyed myuself very much at her birthday party last Sunday ago | before ago 通常用于一般过去时的句子中 before 通常用于完成时的句子中 Mike left the office about half an hour ago Have you two met before? Her husband had died many years before already | yet | still I have already seen the film. I already knew about it She’s here already. She’s early Has she found her bike already? Is supper ready yet? Have you found your ruler yet? He has not yet begun to work. Have you had your lunch? No, not yet They were still neck and neck Does he still work in the factory? They still haven’t got more money. (放在 not 之前) too | as well | also | either too 口语，一般用于肯定句，放在句末或句中，常用逗号隔开 If Mike would like to go, I will go, too. She, too, is a singer as well 和too 类似，通常用于句末 I know Japanese as well also 比较正式 They also have fish shops in that small town Mrs Green can also sing the song in Chinese either 用于否定 I don’t know him. Tom doesn’t know him, either. fairly | quite | rather 这三个语气程度由轻到重依次为 fairly quite rather This film is fairly good. 这部电影很好 This film is quite good. 非常好 This film is rather good. 相当好 fairly 只修饰褒义词 rather 主要用于贬义，但也可以用于褒义前，相当于very 在没有褒贬意的词前用 fairly 表示赞同，rather 表示不赞同 You did fairly well, but he did rather badly 你做的非常好，但是他做的相当差 She is fairly tall for her age。 就她的年龄来说，她长得算是很高了 She is rather tall for her age. 就她的年龄来说，她长得过于高了 rather 可以修饰 too 及比较级，而 fairly 和 quite 不行 This book is rather too difficult for the juniors. 低年级学生 My mother is rather better today quite 和 rather 可以修饰动词，而fairly一般不可以 This does not quite satisfy me 这没有使我很满意 They rather expected to win the match quite 和 rather 还可以修饰名词 That was quite an accident. 那是一次不太寻常的事故 It’s rather a pity. 这真的是相当遗憾 They had quite a good time almost | nearly My son is almost 10 years old. (可能就差几天) My son is nearly 10 years old. (可能是8岁) I almost/nearly fell off my bike Time is almost/nearly up. 时间差不到了 She is almost/nearly always at home in the evening Almost/ nearly everybody came almost 可以与 never | nobody | nothing | no | none | too | more than 连用，而neraly不行 The value of our currency has sunk to almost nothing This is almost more than we feared 这几乎远远超过我们所害怕的 nearly 可以被 very | pretty | not 前置修饰，而almost则不能 I’m not nearly ready She looks like her mother very nearly perhaps | maybe | possibly | probably | likely perhaps, maybe 基本相同，口语化，语气弱 Perhaps/Maybe the weather will turn out to be fine tomorrow possibly 强调客观存在的可能性，可能性较小，常与 may/might 或 can/could 连用 What he said may possibly be true You can’t possibly walk 20 miles in an hour probably 可能性较大，常用 more/most修饰，不可用 very John most probably told his father all about the matter. He usually tells him everything likely 侧重从表面看来很有可能，常与 probably 换用 They’ll very likely come by train I shall most likely be at home all day tomorrow. 例题1.The plane flew smoothly ____ (high) in the sky and people spoke ____ (high) of the experiencel pilot 2.He is a ____ (disappoint) child and his parents are ____ (disappoint) with him 3.To my great surprise, the little boy ____ (skillful) fixed myu computer in ten minutes 4.Earthquakes are ____ (extreme) difficult to predict 5.After passing several stations, I felt ____ (sleep) and closed my eyes 6.When you visit a Chinese friend, your friend will ____ (constant) add hot water to your emptying teacup 1.high; highly 2.disappointing; disappointed 3.skillfully 4.extremely 5.sleepy 6.constantly 改错1.The assistant was clearly as embarrassing as my sister2.They ate silently, and it was clearly that things were not going well3.Like the rest of my classmates, I didn’t really want to get closest to her4.She was, in fact, rather attractively, and she never seemed to care what the rest of us thought about her5.Mum said to Tom, “Dad and I were terrible worried.”6.Beside, Coco tends to bark an average of six hours a day7.No one in the carriage had previous spoken to or even noticed the ticket-owner before8.Interesting, It had a connection with the British porcelain industry9.After waiting for about half an hour, I was beginning to get impatiently.10.I found the test difficult, but I tried hardly to do it.11.I understood that he missed us just as many as we missed him 1.embarrassed 2.clear 3.close 4.attractive 5.terribly 6.Besides 7.previously 8.Interestingly 9.impatient 10.hard 11.much 动词 实意动词(Notional Verb) 系动词(Link Verb) 助动词(Auxiliary Verb) 情态动词(model Verb) 三大时态:现在,过去,将来进行的状态: 一般时,进行时,完成时使用动词时通常将 时态 和 状态结合使用,例如:一般现在时,过去进行时 实义动词及物动词跟宾语的动词。 又可分为 跟 单宾语 双宾语 复合宾语 单宾语 accetp | admire | admit | affect | afford | announce | borrow | bury | celebrate | cover | defeat | defend | destroy | devote | discover | educate | enjoy | explain | forget | guess | invent | love | post | raise Rasie your hand if you have any questions 双宾语 加to bring | give | hand | pass | post | promise | read | return | show | teach | tell | leand Hand me that book, please = Hand that book to me, please Will you show me your ticket, please? = Will you show your ticket to me, please? 加for buy | choose | cook | draw | find | fetch | make | order | paint | purchase | save | spare My parents bought me a nice backpack = My parents bought a nice backpack for me My mum made me a beautiful dress = My mum made a beautiful dress for me 加 to/for do | sing | bring I’ll bring you some stamps. = I’ll bring some stamps to/for you 复合宾语 跟形容词 consider | dye | drive | find | get | imagine | judge | knock | keep | leave | make |push | paint | set | think | wipe Keep the window open I find the book very interesting The noise almost drove me mad 跟名词 appoint | call | vote | elect | find | keep | make | name The parents named their daughter Lily We all made Jeffrey head of our team They apointed him Minister for Foreign Affairs to advise | allow | ask | expect | get | invite| order | tell | teach | wish | warn | want He advised us to discuss the report immediately Mother often tells me to make friends carefully to be + 名词或形容词 believe | consider | declare | find | imagine | know | prove | suppose I believe what you said to be true You will find it (to be) a difficult book 不带 to fell | hear | have | let | make | notice | see | watch I’ll have my friend repair my computer He noticed a tall man enter the office 动词-ing catch | discover | find | get | hear | have | keep | notice | ovserver | see | smell | watch Can you hear someone playing the piano next door He noticed a woman in a black dress sitting across from him. 动词-ed feel | find | get | have | hear | make | notice | see I couldn’t make myself heard by all the listeners I often hear this song sung by my father 副词 ask | drive | find | get | invite | let | order | shut | see | show Can I ask Bob in Show the visitor in, Please 请把客人请进来 介词短语 discover | find | get | have | hear | keep | notice | see Don’t have children at home all day. Keep all these books on the shelf and take them when necessary 不及物动词后面不接宾语。很多及物动词能作不及物动词用apologize | appear | arrive | come | die | fall | flow | go | happen | lie | rise | run | stay | sit | stand | walk Three days later a rash appeared. 三天后出现了皮疹Accidents like this happen all the time 连系动词 be They were very angry then. 那是他们非常生气 keep | stand | remain | stay | lie He always kept silent at the meeting This matter remains a mystery seem | appear It seems a foolish decision now Police say there appear to be signs of a break-in 警方称似乎有破门而入的迹象 feel | smell | sound | taste | look The park looks very beautiful This kind of cloth feels very soft This flower smells very sweet become | grow | turn | fall | get | go She grew rich within a short time Slowly my eyes became accustomed to the darkness prove The rumor proved false 这谣言证实是假的 The design proved to be a success 那个涉及后来证明很成功 助动词主要有 be | do | have | will | shall主要功能是帮助句中的谓语动词构成否定句，疑问句，时态，语态，语气 beam | wasare | wereis | was 现在分词 being过去分词 been 用法： be + 现在分词 进行时 The boss is interviewing some new comers. Jenny was studying in Japan last year. I’m not sure if she has returned now. be + 及物动词的过去分词 被动语态 All the projects were completed before last July. The story is said to be very instructive. dodo | does | diddo not | does not | did notdon’t | doesn’t | didn’t Do you know America well?Did Bob phone you yesterday?I don’t like being laughed at.Monica doesn’t live here; she lives next door.Do be careful while crossing the busy streets.Ann does like teddy bears.I did phone you last night, but no one was in. have原形 have | ‘ve | have not | haven’t / ‘ve not第三人称 has | ‘s | has not | hasn’t / ‘s not过去式 had | ‘d | had not | hadn’t / ‘d not现在分词 having | not having过去分词 had | not had 缩略式 ‘s 是 is 或 has 的缩略形式， 不是 was 的缩略形式 Maria’s / Maria has been studying in China for three years. 用法You haven’t been abroad before, have you?We hadn’t walked far when we lost our way.We will have finished all the work by next week.He hasn’t seen that film. 持续性动词与终止性动词 持续性动词 burn | drink | eat | fly | have | keep | know | lie | live | play | rain | read | run | sing | sleep | smoke | snow | stand | study | talk | wait | walk | wear | work 终止性动词 admit | arrive | begin | borrow | buy | break | close | come | die | fall | go | hit | join | jump | leave | lose | move | marry | open | put | return | reach | start | stop 互相转化 | 词义 | 终止性 | 持续性 | | | | | | 买 | buy | have | | 借 | borrow | keep | | 到达 | arrive | stay | | 得知 | learn | know | | 穿 | put on | wear | | 放置 | put | lie | | 结婚 | marry | be married | | 认识 | get to know | know | | 回来 | come back | be back | | 离开 | leave | be away | | 站 | stand up | stand | | 死 | die | be dead | | 坐 | sit down | sit | | 开始 | start/begin | be on | I bought the car three months ago I have had the car for three months The meeting began ten minutes ago. The meeting has been on for ten minutes. 短语动词 动词 + 副词 break out 爆发 break in 打断 find out give in 屈服 give up go about 四处走动 go by 经过 go ahead 开始干 go back 回去 go on look around look over put on pick out put aside 放下 put down 写下，放下 put away 收拾起来 run away 跑掉 ring up 打电话 turn on 动词 + 介词 ask for arrive at 到达 arrive in 到达 break into 破门而入 believe in begin with come across 偶然碰到 care for 喜欢 care about 关心 depend on die from get off go through go over 复习 look after listen to laugh at look at 动词 + 副词 + 介词 add up to 加起来，总共 break away from 躲开，脱离 catch up with 赶上，超过 do away with 废除 go in for 从事，参与 go on with 继续 get along with 与…相处 come up with 想出 keep out of 使…不进入 look forward to 盼望 动词 + 名词 + 介词 catch sight of 突然发现 make use of pay attention to make a contribution to take notice of take the place of take part in take pride in be + 形容词 + 介词 be fond of 喜欢 be afraid of be famous for 以什么出名 be sure about/of be aware of be good for be good at be ready for be active in 在…方面积极 be proud of 以…为自豪 动词 + 名词 keep watch 值班 take care take place 其他 break up 结束；破碎，放假，散开；开心 bring down 降低； 击落，打死 appeal to 呼吁，上诉，要求，对…有吸引力 cut down 砍倒，减少 come up with 提出，想出，赶上 go through 检查，审查，完成，经历，穿过，通过，用完，看完 live up to 实践，做到，不辜负 set off 出发；引起；动身；使爆炸；抵销；分开 take on 承担；呈现；具有；流行；接纳；雇用；穿上 work out 解决；算出；实现；制定出；消耗完；弄懂；锻炼 练习题break up | bring down | appeal to | cut down | come up with | go through | live up to | set off | take on | work out 用上面的词完成下面句子 1.The government has taken measures to ____ the high prices of daily goods to keep the market stable. 2.Some insects ____ the colour of their surroundings to protect themselves. 3.Nancy ____ in the gym three times a week to keep her figure. 4.The novel has been adapted for movies more than once since its exciting story ____ Hollywood producers as much as it does to readers. 5.-I’m surprised to hear that Sue and Paul have ____.-So am I. They seemed very happy together when I last saw them. 6.-What’s the matter with John? He has been sitting there for hours.-A postcard from his father ____ an attack of homesickness in him. 7.All drugs for humans must ____ trials to prove their safety and effectiveness before being placed on the market. 8.-Have you ____ some new ideas?-Yeah, I’ll tell you later. 9.Had she ____ her parents’ expectation, she would have made it to Columbia University. 10.Making good use of waste can help us ____ the costs. bring down | take on | works out | appeals to | broken up | set off | go through | come up with | lived up to | cut down 改错1.The little boy couldn’t hold back of his curiosity and tasted the medicine.2.Our teachers often tell us that every minute we spend on studying will finally pay up in the near future.3.It was in such poor light that I couldn’t take out what the newspaper said.4.The book which came out of at the end of last year turned out to be a great success in Shanghai.5.The food in England is strange at first but you will soon get used of it.6.A fire broken in a hospital last night, but no one was killed.7.Before the war broken out, many people threw away possessions they could not take with them in safe places.8.Who will hand over the company since Ewing has resigned?9.The forest guards often find campfires that have not been put completely.10.Now many people are working hard to earn enough money to keep up the high pace of modern society. 1.去掉 of2.up改为off3.take改为make4.去掉第一个of5.of改为to6.broke后加out7.threw改为put8.hand改为take9.put后加out10.up后加with 情态动词can,could,may,mightcan/could 表示能力, 用 be able to 代替can/could 现在/过去的能力客观可能时(can的可能性大) 表示能力 My grandma is well over eighty, but she can read without glasses. I could easily tell my father’s step. 我能很容易地判断出我父亲地脚步声 can 与 be able to 区别 can 只能用在一般现在时和一般过去时中，be able to 则可以用于更多时态 I’m sorry I haven’t been able to answer your letter in time. be able to 后地动词一般不用被动形式，而 can 可以 The patient can be operated on. 这个病人可以实施手术了 was/were able to 有做到的意思 I talked with her for a long time, and eventully I was able to make her believe me. 表示可能性 用在肯定句中，表示理论上的可能性，意为“有时候会。。。” Peter can be really annoying. 彼得有时候的确令人讨厌 Accidents can happen to any drunken driver. 醉酒的司机都有可能发生交通事故 It can be very hot here in summer 用在否定句和疑问句中表示主观猜测 It can’t be my father. He is now abroad. The door is open. Who can be in the classroom? 谁可能在教室里呢？ can/could have done 表示对过去事情的推测 Where can Mary have gone? She can’t have gone to school, because it is Sunday. Could the bank have made a mistake? 银行有没有可能出错呢？ 还可以表示 “过去本可以做。。。（但事实上未做）” He could have sent a message. 他本来可以发个信息来的 表示许可 请求许可 向对方请求许可，could 语气更加委婉，不确定 Can I have a look at your new design? Could I use your cell phone? -Yes, of course you can 给予许可 用can，此时相当于may，不能用could You can have a short holiday after this item of work. 做完这个工作后，你可以休一个短假 We can’t wear jeans at work. 工作时我们不可以穿牛仔裤 征求对方意见 常用 “Could/Can you…?”, 此时也可以用”Would you…?”, 不过 could 更有礼貌 Can you please help me with this furniture? 搬一下这个家具吗 Could you pick me up at the airport at five next Monday? 习惯用法 表示气愤或惊讶，一般用于疑问句和否定句。”怎么可以”,”难道会” They can’t have arrived already, surely！ Can he be serious? 他难道会当真吗？ can but “只好，至多不过” We can but do our best. 我们只好尽力而为 cannot help but do, cannot help doing sth. “禁不住做”,”不能停止做” Lee can’t help but agree with her. 李只得同意了她 When I try to speak, I can’t help laughing. 我一开始说话，就禁不住笑 cannot…too… 表示”无论。。。都不过分，越。。。越好”。 有时候 cannot 可用 can never 代替 You cannot be too careful to cross the road. 过马路时怎么小心都不为过 You can never do the work too well. 这项工作你做得越出色越好 may , might 表示可能性,may的可能性大might 更委婉 回答: Yes,please. No,you can’t/mustn’t 表示许可 may/might 可以表示征求对方的许可，比can/could更正式 请求许可 May I trouble you to pass me the book? Might I come to see you? 给予许可 You may/can phone me tomorrow May I trun on the TV? -No, you may not 表示法律条文等的客观许可 在机关，学校等的文书，公告表示“不得，禁止”时，不用 cannot， 而用 may not 或 mustn’t 表示 Any book may not be taken out of the library. Cars mustn’t be parked in front of the hall. 表示可能性 might 可能性比 may 小一些 I must go home at once. Mary might visit me. The little girl might be sleeping this time of day. I can’t find my sunglasses. I may/might have left them in your office. might have done 还可以表示“本可以做而事实上未做”之意 You might have told me earlier about your illness. You might have come earlier. 其他用法 表示祝愿时常用 May May you succeed. 祝你成功 May you have a good trip. may/might as well 表示有礼貌地劝告，“还是。。。的好，倒不如” There is nothing to do, so I may as well go to bed. It’s too late. You might as well not go. 天太晚了，你还是不走的好 may/might well 表示“很有理由” What do they hope to achieve? -You might well ask. 他们希望达到什么目标呢？你问的好 You may well refuse him. 你有理由拒绝他。 must(have to) 表示“必须” must 主观 have to 客观 I must keep my word. 我必须遵守诺言 It rained heavily, so the children had to stay at home. must 只有一种形态, have to 有多种 They had to speed up, for the weather turned terrible. We will have to ask Mr Li for help. have to 的否定和疑问式需要助动词构成， not have to 相当于 needn’t(不必)； must 的疑问式直接酱must提前，其否定式在must 后直接加 not， mustn’t(禁止) You don’t have to/don’t need to/needn’t tell him the truth if you don’t want to. If you earn more than 5000 yuan, will you have to pay tax? Must I pay now? All these exhibits mustn’t be touched. (展品) have to 在口语中 常用 have got to 代替 Have you got to work extra hours today? 加班 表示推测 must 表示有根据，有把握的推测，只用于肯定句 后接动词原形，表示对现在情况的推测 后接 be doing， 对正在发生 后接 have done, 表示对过去情况的推测 He must be ill. He looks so pale George must be sleeping now. You must have gone to bed late last night. Your eyes are red. You must have read this book. You know the story very well. 表示感情色彩 非要。。。；偏要 Why must you always interrupt me? If you must smoke, do it outside, please. When I was taking a nap, a student must knock at the door. 正当我午睡时，偏偏有一个学生敲门 shall/should/ought to Shall 用于第一，三人称做主语的疑问句中，表示说话人征求对方的意见 Shall I change into the evening dress for your party? Shall we put off the sports meet till next month? Shall Tom go there with me tomorrow? 用于第二，三人称做主语的陈述句中，表示说话人给对方的许诺，命令，警告 You shall get an answer from me tomorrow. 到明天你会得到我的答复的 He shall suffer for this. 他会未此事吃苦头的 用于第三人称做主语的陈述句中，表示条约，规定，法令等文件中的义务或规定 No readers shall remove a book from the library without the consent of the librarian. Each competitor shall wear a number. Those belonging to our club shall wear uniforms. should 作为 shall 的 过去式 Mr lee asked if he should get his visa on time I asked the teacher if I should have one day off. 表示义务，职责等， “应该” I think today’s children should really learn to respect their elders. You shouldn’t be so careless. 表示说话人的惊奇，愤怒，失望等特殊情感 It’s surprising that Mary should love such a person as Jack. 竟然爱上 Don’t ask me. How should I know? 表示很大的可能性，多指预期的式，常译为“按道理说应该” It should be Mike who has taken away all the materials. She promised to come by 10 o’clock. She should be here at any moment. should have done 表示“过去本应该做而未做”，否定式表示“过去本不应该做而做了” You are right. I should have thought of that. Mary, you shouldn’t have eaten all the cakes in one day. ought to 否定：ought not to 疑问：ought 置前 You ought not to be late for such an important meeting Ought I to hand in my composition now? Humans ought to stop polluting nature. You are late. You ought to have arrived five minutes earlier. will/would 表示意愿 Can someone help me? -I will. They would not let him in because he was poorly dressed.(过去式) 表示请求 Would 比 will 委婉， 不表过去意义 Will you come this way, please? 请你走这边好吗 Would you open the window, please? will 表示规律性的“注定会” Engines won’t run without lubricants. You will regret forever if you lose this golden chance. Oil will float on water. 表示习惯或特性 二者均带有主观性，will 表示现在的习惯， would 表示过去的 This old man is strange. He will sit for hours without saying a word. He would spend hours on the telephone. Mary will keep asking some silly questions. used to 表示”过去常常”, 没有人称和书的变化 I used to go to work by bike He didn’t use to be so careless. 他过去没有怎么粗心过 Used they to exercise in high school? 上高中时他们经常锻炼身体吗？ Where did they used to paly football? used to do sth. 过去常常做 be used to (doing) sth. 习惯于（做）。。。 be used to do sth. 被用来做 need 情态动词need 没有人称和时态的变化，后接动词原形，一般用于否定句或疑问句中 You needn’t be told twice about one single thing. You needn’t have spent all that money. 你本可以不花那么多钱的 Need I tell him everything that’s happened to his parents? -Yes, you must. / -No, you needn’t 实意动词need 有人称和数的变化 Plants need light in order to survive He needs to go to Beijing this Sunday to attend a book fair. 参加书展 Do I need to leave my telephone number and address? The house needed painting / to be painted You don’t need to hand in your composition dare 做情态动词 多用于疑问句，否定句和条件句中 Dare he tell them what he knows? He dared not tell us the truth I’m afraid you dare not / daren’t do such a thing. You will be punished if you dare break the rules. I dare say 是一种习惯说法， 也常写作daresay, “我想，我认为是” It will rain this afternoon, I dare say. I dare say you know about it already. 做实义动词 有人称和数的变化，在肯定句中要跟带to的不定式，否定式和疑问句中to可有可无 I suppose he dares to tell the manager the turth This student doesn’t dare (to) raise any question in class Do you dare (to) drive a car on such a crowded road? 情态动词后的动词时态形式be doinghave donehave been doing动词原形 后接进行式 一般表示对正在发生的事情的推测，can,may,might,must,should,ought to He might be sleeping in the room. We’d better not disturb him. He ought to be waitting for us. He promised to What can he be doing this time of day? 他白天这个时候应该正在干什么呢？ 后接完成式 对过去发生的事情的推测，can,could,may,might,must She can’t have read about the explosion. She didn’t know anything about it. They might have taken a later train. They must have lived here since last year. 他们肯定从去年就住在这里了 与事实相反的虚拟语气，含有责备，批评的意为。might,could,ought to,should,need You failed again. You should have done it much better. He might have given you more help then, even though he was very busy. They could have let me know they were going to be late. You needn’t have told them again. I had told them already Tom ought not to have told me your secret, but he meant no harm 后接完成进行式 They are too tired now. They must have been working all day. 他们肯定一整天都在工作 They should have been painting the new house. Both husband and wife have asked for leave. 想必他们一直在粉刷房子，夫妇两人都请假了 虚拟语气 非真实条件句的虚拟语气 对现在的虚拟 与现在相反，条件从句的谓语动词用过去式，主句谓语动词用”would/should/could/might+动词原形” If I were ten years younger, I would start all over again. If I had enough money, I would buy myself a computer first of all. 对过去的虚拟 条件从句中谓语动词用 had done，主句谓语动词用 should/would/could/might have done If we had had enough rain last year, we could have gained a good harvest. If you had worked hard, you would have easily passed the final examination. 真实条件句与非真实条件句的区别 If I have enough money, I will go to the zoo with you. 如果我有足够的钱，我就和你一起去动物园。 (真实条件句，暗语“我得数一数钱是否够，如果够我就去”) If I had enough money, I would go to the zoo with you. 如果我有足够的钱， 我会和你一起去动物园的 (非真实条件句，暗喻“事实上我现在没有足够的钱，没法和你去”) 对将来的虚拟 对将来的虚拟表示与将来事实相反的情况，条件从句中谓语动词可用 过去式、“should + 动词原形”或“were to + 动词原形”，主句谓语动词用“would/should/could/might + 动词原形” If I saw/should see/were to see him tomorrow, I would invite him home. 如果明天见到他， 我会邀请他到我家 If it were/should be fine tomorrow, I would go on a trip 非真实条件句省略if的情况 但语句中有 should, had, were 时， 可以省略 if，而是把词调到主语前，形成倒装 Had I worked hard, I would have surely succeeded Were she my daughter, I wouldn’t allow her to study abroad. Were it not for... “要不是…” Had it not been for... “当时要不是…” Were it not for your help, I would never be a good manager. Had it not been for you, I would have lost my way. 混合虚拟语气 主句与从句 谓语动词的形式根据各自发生的时间来确定 If I were you, I wouldn’t have missed the concert last night If you had told me the news yesterday, I wouldn’t be so worried now. If you hesitated this moment, you might suffer in future. 含蓄虚拟语气 有时假设的条件不通过条件从句表达出来，而是隐含在某些介词短语，副词，连词或上下文中 But for your advice, I would have failed. (If you hadn’t given me advice, I would have failed) Without your help, I wouldn’t have succeeded anyway. (If you hadn’t helped me, I wouldn’t have succeeded anyway) I’m really busy, otherwise I would certainly go with you 含有责备及批评语气的虚拟语气 “should/ought to/could/might + have + 过去分词” “过去本。。。而事实上未。。。” You are late again. You could have come earlier. You’ve made a few mistakes. You should have been a little bit more careful. 你犯了了几个错误。你本应该更加细心点的 I ought to have got a better price for the car but I’m not a very good businessman. It’s so near, We needn’t have taken a taxi. 这么近，我们本没有必要坐出租车的 其他从句中的虚拟语气 主语从句中的虚拟语气 It is/was important/necessary/essential/impossible/natural/unthinkable/strange/surprising that… It is/was a rule/a shame/an honour/a surprise/no wonder that… It is very important that one (should) master the skills of computer It is a rule that everyone (should) obey the laws It is/was advised/suggested/requested/required/ordered/proposed/decided that… It is advised that one (should) take plenty of boiled water. It is required that the students (should) learn a foreign language. 宾语从句中的 在 wish 后的宾语从句中， 用一般过去时表示与现在事实相反；用 “could/would + 动词原形” 表示与将来事实相反；用过去完成时表示与过去事实相反 I wish I were ten years younger I wish I could fly to the moon some day. I wish you had come to the lecture. 在 would rather 后的宾语从句中，用一般过去时表示与现在或将来事实相反；用过去完成时表示与过去事实相反 I’d rather you came tomorrow than today. I’d rather we had a rest now. I’d rather you hadn’t told me about it 表示”坚持要，建议，命令，要求”的动词 insist，demand, require, request, propose, suggest, command, order等后面的宾语从句中，谓语动词习惯上用”(should +) 动词原形” The commander ordered that the bridge (should) be blown up. My father suggests that I (should) take enough sleep before the final examination. He instisted taht I (should) come to his office at one o’clock. 这类动词若表示“建议，命令，要求”之外的意思一般不用虚拟语气 The smile on her face suggests that she agrees with me.(suggest 表示 暗示，表明) The boy insisted that he hadn’t broken the window (insist 坚持说) 表语从句中的虚拟语气 My suggestion is that we (should) get started as soon as possible My advice is that you (should) quit smoking 常用的这些词有： advice 建议 demand 要求 order 命令 insistence 坚持，主张 requirement 要求 request 请求 proposal 建议 suggestion 建议 command 命令 decision 决定 It seems as though it were spring already. (事实上不是) The girl si giving us a vivid description of the moon. It seems as if she had been to the moon many times. It looked as if she had seen a ghost It seems as if he has no worries. (表示没有烦恼接近事实) It seems as if he had no worries. (表示仿佛没有烦恼，其实有很多) 同位语从句中的虚拟语气 English teachers give advice that we (should) make good use of every chance to speak English. The order from the commander was that the troops (should) set off for the front immediately 定语从句中的虚拟语气 It’s time that I should go to pick up my daughter at school It’s high time we went to school. 我们该去上学了 It’s time that the children should go to bed. 状语从句中的虚拟语气 The young man with long hair walks as if he were a girl. The injured man acted as if nothing had happened. Everything in my childhood crowded upon my mind as if they had just happened. I hired a boat so that I could go fishing Bring some money in case you should use it. 带些钱以防能用到 只保留从句的虚拟语气 What if I should fail? 万一失败，我怎么办呢？ What should I do if I should fail? If only I were 20 years younger. It would be better if I were 20 years younger. 习题 Don’t interrupt me, Kevin. ____ you force me to tell you the truth right now? –Daddy, can you buy me a new iPad when you go to Beijing? –You ____ get one if you are admitted to a key university. It is unfair that so nice a person like Jenny ____ lost her job. Curious about the world around him, my son ____ ask me endless questions when he was young. The room is in a terrible mess; It ____ have been cleaned. Children above 8 years of age in our country ____ be left at home without going to school, or their parents will be charged. You ____ have the book as soon as I finish reading it. –Is there a ticket to Guangzhou the day after tomorrow? (后天) –There ____ be. I’ll check on the compter and find it out. The teacher ____ have thought Johnson was worth it or she wouldn’t have wasted time on him, I suppose. – Where ____ Mary have put the empty bottles? – She ____ have thrown them away. They must be somewhere. –Sunny had to give a speech in front of 500 people yesterday. –Whew! That’s a big audience. She ____ have been nervous. I ____ be late, so don’t wait for me. 1. Must 2. shall 3. should 4. would 5. can&#39;t 6. mustn&#39;t 7. shall 8. should 9. must 10. can, can&#39;t 11. must 12. may Don’t play with the dog, Jack, for it must be dangerous at times. You could done better, but you didn’t try your best. If I have know more about giving first aid, I could have helped them. It should have been raining heavily when he got back home, for he was wet all over. You would know what was going on if you listened. If he hasn’t chosen to save the girl, he would not have died in the mountains. They insisted that everyone come to the party. 1. must -&gt; can 2. could have done 3. have -&gt; had 4. should -&gt; must 5. 加 had 6. hasn&#39;t -&gt; hadn&#39;t 7. come -&gt; came 不定量表达法some , any , most , every , all some 用于肯定句,希望得到肯定回答时, 也可以用在疑问句中any 主要用于否定和疑问句中。。 most 大部分, 后面接复数名词 Most people here are from China. every 每一个/所有 , 后面接单数名词 Every one likes the film . all 表示”所有”, 后面接名词复数 both 两者都either 两者之一neither 两者都不 Both his eyes were severely burnedThere are trees on either side of the streetNeither answer is correct. lots of (a lot of)plenty of两者均可修饰可数和不可数名词 a few 肯定 几个few 否定 没几个。两个加可数名词复数 Few books are put into the box . a little 肯定 一点儿little 否定 没多点两个与不可数名词连用 There is little water in the bottle. noneno one一个也不,一点也不两个不同处: none 可以接of短语, 动词可用单数也可以用复数 no one 不能接of 短语, 动词只能用单数 No one knows the answer.None of us have(has) arrived. There/here be有 (There be) There is a book on the bookshelf.There are some books … 这是 (Here be) Here is the bus stop.Here are your books. 一般现在时和现在进行时一般现在时 They often get up at 7:00.He often gets up at 7:00. 一般现在时,动词的单三变化: 再动词尾直接加s 以字母 s , x , ch 或 o 结尾的动词,加es 以辅音字母 + y , 先变 y为i,再加es 一般现在时否定和疑问句用do,does 帮助构成 He doesn’t like the car.Does he like the car?Yes,he does./No,he doesn’t 现在进行时be + doing They are watching TV 动词现在分词的变化规则 一般直接动词后加 ing 动词以不发音的 e 结尾,要去e加 ing. (take - taking) 重读闭音节的动词,要双写词尾字母再加 ing. (cut - cutting) 以ie结尾的动词,变y再加 ing. (lie - lying) 否定/疑问Am I watching TV?Yes, you are. / No, you aren’t 一般过去时和过去进行时一般过去时过去习惯性的行为 He worked very hard last night.They came her by car. 动词一般过去时变化规则 一般动词后加 ed 再以字母e结尾, 只加 d 以 辅音+y 结尾的动词,改y为i,再加ed 在以重读闭音节结尾且末尾只有一个辅音字母的,双写最后一个辅音字母,再加ed. (plan - planned) 过去进行时was&#x2F;were + doing They were waiting for you.He was taking with his friends just now. 将来时 助动词 will 或 shall + 动词原形 They will go to Shanghai by ship tomorrow.We shall leave for Shanghai next month. be going to + 动词原形 (打算,就要) They are going to play football this afternoon.She is going to learn French next year. be doing 表示位置转移的动词, 如 go , come , leave , start , arrive 这些词可以用于表示将来时 注意:跟现在进行时不一样!!! They are leaving for Japan.She is arriving tomorrow. 完成时现在完成时have + p.p They have already arrived in Shanghai.She has played football for 3 hours.She hasn’t finished the homework yet.She hasn’t been to sichuan yet. 过去完成时had + .p.p. 表示句中的动作发生在过去之前,即过去的过去.已经完成,对过去造成了一定的影响或后果 They had arrived in Shanghai.She had played soccer for 3 hours.They hadn’t finished the work yet.Had they planned to stay here? 被动语态 如果主语是动作的承受着,则用动词的被动语态作谓语 被动语态的构成: be + 动词的过去分词 … by sb. He is taken to America by his mother. 被动语态有各种时态 The information is needed by us.The book was being read by her. (be doing 语句,read 过去分词和本身一样)The computer has been used by her.(has been done 语句)The room will be cleaned.The computer could have been used by them.(他们可能已经用了那个电脑) 被动态和情态动词结合can&#x2F;could + be + 动词过去分词 need + doing (常用) need to be + 动词过去分词 The food could be taken away.The food might be taken away.The food needs taking away.The food had better be taken away.Books used to be returned in two days. (By + 行为者)动作的行为者不分明,或不重要,或上下文中提到了行为者时,”by+行为者”可以省略. The information is needed.The door was opened. The book is being read. (正被读)(现在进行时的被动语态) The computer has been used (已经被用了)The pencil had been sharpenned (已经被削尖了)注意两个have形态,代表两种时态 被动语态的疑问助动词+主语+(其他助动词)+动词过去分词 Is the information needed by him? ——重点———— Has the computer been used by her?Yes,it has. / No,it hasn’t. Will the room be cleaned?Yes, it will. / No,it won’t. 被动语态的特殊疑问句疑问词+助动词+主语+(其他助动词)+动词过去分词 The information is needed by them.What is needed by them? The girl is taken to Shanghai.Where is the girl taken? The book has been read three times.How many times has the book been read? 非谓语动词 (to + 动词原形) To get there by bike will take us an hour.(作主语) The driver failed to see the car in time.(作宾语) We believe him to be guilty(有罪的)(作宾补) The next train to arrive is from Seoul.(作定语)下一辆到达的火车是来自首尔的 My suggestion is to put off the meeting.(作表语)推迟会议 I come here only to say goodbye to you.(作状语) (动词原形 + ing)动名词(动词作名词用) Reading is an art.They went on walking and never stopped talking. 假主语/真主语 to 不定式或动名词可以再主语的位置上,但一般用it代替它作形式主语,这种情况it叫形式主语. It’s a great honor to be invited.It’s no use crying over spilt milk.(覆水难收) 在宾语的位置上, 用 it 代替它作形式宾语.这种情况it叫形式宾语 We think it important to learn English.I found it pleasant walking in the park. 对动名词或不定式进行否定时,在不定式或动名词前加 not 否定就可以了 He pretended not to see her. (他假装没有看见她)He regrets not joining them (他后悔没有加入他们) to 不定式表示目的in order to + 动词 表示目的so as to + 动词 表示目的 由 in order to 引导的目的状语,置于句首,句尾均可由 so as to 引导的目的状语,只用于句尾 I’ve written it down in order to remember it.He shouted and waved so as to be noticed.(他大喊和挥手目的是让人注意) 否定 I’ve written it down in order not to forget itHe said nothing so as not to be noticed. 常见的不定式和动名词too … to The room is too small to live. enough + 名词 + to + 动词形容词 + enough + to + 动词 There is enough food to eat.The box is big enought to contain six apples. On + ing : 一 … 就 … On seeing the snake,the girl was very frightened. There is no hope of + ing : 没希望… There is no hope of seeing him. feel like + ing : 想要 I feel like eating ice cream now. have a hard time + ing : 做..艰难 They have a hard time solving the problem themselves. 现在分词/过去分词v+ing可以称为动名词,也可称为现在分词 Writing books is his job.(动名词) He is writing a book.(现在分词) 动词的p.p.形式可称为动词的过去分词,用在完成时和被动语态当中 He has witten the homework.(完成时) The homework is written. (被动) 分词句是包含现在分词或过去分词的分句 The students went out of the classroom, laughing and talking. Accompanied by his friend, he went to the railwawy station.(伴随他的朋友,…) 原形不定式使役动词have , make , let have&#x2F;make&#x2F;let + 宾语 + v&quot; 表示 “使/让…” He made me laugh.I let him go.please have him come here. get和help做使役动词 get + 宾语 + to + v help + 宾语 + (to) + v I can’t get anyone to do the work properly.I helped him (to) repair the car. have , make , let , get , help + 宾语 + 过去分词 (让某物&#x2F;人被别人...) I must get my hair cut.He couldn’t make himself heard.Can you get the work finished in time? 感官动词see , watch , observe , notice , hear, smell , taste , feel + 宾语 + 动词原形&#x2F;现在分词 动词原形, 表示动作的真实性 I saw him work in the garden yesterday. 现在分词,表示动作的连续性,进行性 I saw him working in the garden yesterday. 感官动词后可以接过去分词 John saw the man knocked down by the car.(被车子撞倒) I heard Sam sent(前面没有be动词) to the hospital 假设只单纯表示条件条件状语从句.用”if”引导条件状语从句,从句为现在时,通常译作”如果…” If you get up early, you will catch up with the train.(主语为第一人称时, will 改为 shall) will/shall 等表将来时的词后面接动词原形 if 引导的条件状语从句,可以放在句首,也可以放在句尾 If you ask him, he will help you.She will be upset if you fail the exam. The cat scratches you if you pull her tail.如果你拉猫的尾巴,他就会抓你 (经常反复发生) The cat will scratch you if you pull her tail.(将会发生) 与现在事实相反的虚拟语气If 从句是一种虚拟的条件或假设,和现在的事实相反的. 从句: 动词过去式(be 用 were) (if 后面的句子为从句) 主句: would &#x2F; could &#x2F; should &#x2F; might + 动词原形 If I were you , I would join them.She would come with you if you invited her. 与过去事实相反的虚拟语气IF 从句是一种虚拟的条件或假设,和过去事实相反的. 从句: had + 动词过去分词 主句: would &#x2F; could &#x2F; should &#x2F; might + have + 动词过去分词 If I had got there earlier, I should have met her.If he had taken my advice, he would not have made such a mistake.If there had been a heavy snow, we should not have gone skating. wish / as if + 过去时/过去完成时wishwish 后面的从句,译为:“希望…就好了”,是不可能实现的假设 与现在事实相反愿望 I wish I were as tall as you. (一般过去时) 与过去事实相反愿望 He wished he hadn’t said that. (过去完成时) 将来不大可能实现的愿望 I wish it would rain tomorrow. (would / shoulld / could) as ifas if , 翻译为”看起来好像…” 从句表示与现在事实相反 You look as if you didn’t care. 从句表示与过去事实相反 He talks about Rome as if he had been there before. 从句表示与将来事实相反 He opened his mouth as if he would say something. 定语从句在句中做定语,修饰一个名词或代词,被修饰的名词,叫先行词.其后的从句就是定语从句,由关系词引出 关系代词That , who , which , whom(宾格) , whose The girl whom/that I spoke to is my cousin使用 whom 的原因: I spoke to 缺少 宾语 先行词时人的话用 that , who , whom, whose 来引导定语从句 whom 在从句中做宾语 who 和 that 在从句中既可以做主语也可以做宾语 They are the people that/who were seen yesterdayThey are the people whom/that/who I saw yesterday.They are the people whose wallets were lost yesterday. 先行词时动物/事物的话,用which,that,whose来引导定语从句.which , that 在从句中做主语和宾语,做宾语可以省略 He came back for the book which/that he had forgotten.He came back for the book which/that was on the desk.This is the chair whose legs were broken. 关系副词when where , why We don’t know the reason why he didn’t show up.We’ll put off the picnic untill next week, when the weather may be better.We don’t know the palce where he lives. 宾语从句宾语从句: 在句子中起宾语作用的从句从属连词: that , if , whether连接代词: who , whom , whose , what.连接副词: when , where , why , how He told me (that) he would go to college the next year.He said (that) he was there yesterday.He doesn’t know if/whether he was there. Do you know who has won the game?Do you know whom he likes?Do you know whose book it is?Do you know what he is looking at? He wants to know when the party is.He wants to knwo why they have a party.He wants to knwo how they come. 比较级/最高级 一般词尾加 er/esthard - harder - the hardestclever - cleverer 词尾是不发音的e, 加 r/stnice - nicer - the nicest 词尾是辅音 + y 的双音节时, 去掉 y 加 ier/iestdry - drier - the driest 以一个辅音结尾的重读闭音节时,双写最后一个字母,加 er/esthot - hotter - the hottest 多音节和双音节,在形容词和副词前加more - the mostless - the leastinteresting - more/less interesting - the most / the least interesting 不规则good - better - the bestmany - more - the mostlittle - less - the least The book is more expensive than the pen.Her English is better than his.The book is the most expensive of the three.","categories":[],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"},{"name":"英文","slug":"英文","permalink":"https://blog.bingfengs.xyz/tags/%E8%8B%B1%E6%96%87/"}]},{"title":"Nmap笔记","slug":"Nmap笔记","date":"2020-01-08T16:20:00.000Z","updated":"2021-12-29T14:43:17.832Z","comments":true,"path":"2020/01/09/nmap-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2020/01/09/nmap-bi-ji/","excerpt":"","text":"help我们在终端输入 nmap -h 查看使用方法使用方法如下: nmap [Scan Type(s)] [Options] &#123;target specification&#125; 中括号内容代表可选,花括号是必填 这个选项内容可以是: hostnames，譬如: scanme.nmap.org microsoft.com/24 IP addresses, 譬如: 192.168.1.1 10.0.0-255.1-254 iL &lt;inputfilename&gt;， 可以从文件导入目标，文件一行一个地址 扫描常见例子nmap -sP 192.168.2.0/24 大致输出如下： root@raspberrypi:~# nmap -sP 192.168.2.0&#x2F;24 Starting Nmap 7.70 ( https:&#x2F;&#x2F;nmap.org ) at 2019-12-25 11:48 CST Nmap scan report for phicomm.me (192.168.2.1) Host is up (0.00051s latency). MAC Address: FC:7C:02:72:60:8F (Unknown) ... 探测C段存活主机，可以用 |grep up 过滤存活的主机 nmap -sS 1.1.1.1-30 -p 80 SYN扫描，指定IP范围指定端口。 nmap -sV 1.1.1.1 -p 1-65535 探测端口的服务和版本 nmap -O 1.1.1.1 或 nmap -A 1.1.1.1 探测操作系统类型和版本 nmap -sL 192.168.2.0/24 简单扫描192.168.2 这个IP段 nmap -sS -O target.example.com/24 发起对target.example.com所在网络上的所有255个IP地址的秘密SYN扫描。同时还探测每台主机操作系统的指纹特征。需要root权限。 nmap -v target.example.com 扫描主机target.example.com的所有TCP端口。-v打开冗余模式。 nmap -sX -p 22,53,110,143,4564 128.210.*.1-127 对B类IP地址128.210中255个可能的8位子网的前半部分发起圣诞树扫描。确定这些系统是否打开了sshd、DNS、pop3d、imapd和4564端口。注意圣诞树扫描对Micro$oft的系统无效，因为其协议栈的TCP层有缺陷。 参考文章 https://blog.csdn.net/qq_41876188/article/details/88926938 扫描参数 -r: 不进行端口随机打乱的操作（如无该参数，nmap会将要扫描的端口以随机顺序方式扫描，以让nmap的扫描不易被对方防火墙检测到） --top-ports :扫描开放概率最高的number个端口（nmap的作者曾经做过大规模地互联网扫描，以此统计出网络上各种端口可能开放的概率。以此排列出最有可能开放端口的列表，具体可以参见文件：nmap-services。默认情况下，nmap会扫描最有可能的1000个TCP端口） -v :冗余模式。强烈推荐使用这个选项，它会给出扫描过程中的详细信息。使用这个选项，你可以得到事半功倍的效果。使用-d选项可以得到更加详细的信息。 -resume : 某个网络扫描可能由于control-C或者网络损失等原因被中断，使用这个选项可以使扫描接着以前的扫描进行。logfilename是被取消扫描的日志文件，它必须是可读形式或者机器可以解析的形式。而且接着进行的扫描不能增加新的选项，只能使用与被中断的扫描相同的选项。nmap会接着日志文件中的最后一次成功扫描进行新的扫描。 -F : 快速扫描模式，只扫描在nmap-services文件中列出的端口。显然比扫描所有65535个端口要快。 Fast mode – 快速模式，仅扫描TOP 100的端口 -iR : 让nmap自己随机挑选主机进行扫描。 -e : 告诉nmap使用哪个接口发送和接受数据包。nmap能够自动对此接口进行检测，如果无效就会告诉你。 -S 在一些情况下，nmap可能无法确定你的源地址(nmap会告诉你)。在这种情况下，可以使用这个选项给出你的IP地址。在欺骗扫描时，也使用这个选项。使用这个选项可以让目标认为是其它的主机对自己进行扫描。 -sn: Ping Scan - disable port scan -p: 指定待扫描的端口。用法如下 实例: -p22 -p1-65535 -p U:53,111,137,T:21-25,80,139,8080,S:9（其中T代表TCP协议、U代表UDP协议、S代表SCTP协议） 扫描类型 -sT : TCP connect()扫描：这是最基本的TCP扫描方式.这项技术最大的优点是，你勿需root权限。任何UNIX用户都可以自由使用这个系统调用。这种扫描很容易被检测到，在目标主机的日志中会记录大批的连接请求以及错误信息 -sS : TCP同步扫描(TCP SYN)：因为不必全部打开一个TCP连接，所以这项技术通常称为半开扫描(half-open).你可以发出一个TCP同步包(SYN)，然后等待回应。如果对方返回SYN|ACK(响应)包就表示目标端口正在监听；如果返回RST数据包，就表示目标端口没有监听程序；如果收到一个SYN|ACK包，源主机就会马上发出一个RST(复位)数据包断开和目标主机的连接，这实际上有我们的操作系统内核自动完成的。这项技术最大的好处是，很少有系统能够把这记入系统日志。不过，你需要root权限来定制SYN数据包。 -sF -sX -sN : 秘密FIN数据包扫描、圣诞树(Xmas Tree)、空(Null)扫描模式：即使SYN扫描都无法确定的情况下使用。一些防火墙和包过滤软件能够对发送到被限制端口的SYN数据包进行监视，而且有些程序比如synlogger和courtney能够检测那些扫描。这些高级的扫描方式可以逃过这些干扰。这些扫描方式的理论依据是：关闭的端口需要对你的探测包回应RST包，而打开的端口必需忽略有问题的包(参考RFC 793第64页)。FIN扫描使用暴露的FIN数据包来探测，而圣诞树扫描打开数据包的FIN、URG和PUSH标志。不幸的是，微软决定完全忽略这个标准，另起炉灶。所以这种扫描方式对Windows95/NT无效。不过，从另外的角度讲，可以使用这种方式来分别两种不同的平台。如果使用这种扫描方式可以发现打开的端口，你就可以确定目标注意运行的不是Windows系统。如果使用-sF、-sX或者-sN扫描显示所有的端口都是关闭的，而使用SYN扫描显示有打开的端口，你可以确定目标主机可能运行的是Windwos系统。现在这种方式没有什么太大的用处，因为nmap有内嵌的操作系统检测功能。还有其它几个系统使用和windows同样的处理方式，包括Cisco、BSDI、HP/UX、MYS、IRIX。在应该抛弃数据包时，以上这些系统都会从打开的端口发出复位数据包。 -sP : ping 扫描：有时你只是想知道此时网络上哪些主机正在运行。通过向你指定的网络内的每个IP地址发送ICMP echo请求数据包，nmap就可以完成这项任务。如果主机正在运行就会作出响应。不幸的是，一些站点例如：microsoft.com阻塞ICMP echo请求数据包。然而，在默认的情况下nmap也能够向80端口发送TCP ack包，如果你收到一个RST包，就表示主机正在运行。nmap使用的第三种技术是：发送一个SYN包，然后等待一个RST或者SYN/ACK包。对于非root用户，nmap使用connect()方法。 在默认的情况下(root用户)，nmap并行使用ICMP和ACK技术。 注意，nmap 在任何情况下都会进行ping扫描，只有目标主机处于运行状态，才会进行后续的扫描。如果你只是想知道目标主机是否运行，而不想进行其它扫描，才会用到这个选项。 -sU: UDP扫描 -sA : ACK扫描：这项高级的扫描方法通常用来穿过防火墙的规则集。通常情况下，这有助于确定一个防火墙是功能比较完善的或者是一个简单的包过滤程序，只是阻塞进入的SYN包。 -sW: 对滑动窗口的扫描 -sR: RPC扫描 -O: 这个选项激活对TCP/IP指纹特征(fingerprinting)的扫描，获得远程主机的标志。换句话说，nmap使用一些技术检测目标主机操作系统网络协议栈的特征。nmap使用这些信息建立远程主机的指纹特征，把它和已知的操作系统指纹特征数据库做比较，就可以知道目标主机操作系统的类型。 原理主机发现主机发现（Host Discovery），即用于发现目标主机是否在线（Alive，处于开启状态） 默认情况下，Nmap会发送四种不同类型的数据包来探测目标主机是否在线。 ICMP echo request a TCP SYN packet to port 443 a TCP ACK packet to port 80 an ICMP timestamp request 依次发送四个报文探测目标机是否开启。只要收到其中一个包的回复，那就证明目标机开启。使用四种不同类型的数据包可以避免因防火墙或丢包造成的判断错误。 -sn: Ping Scan 只进行主机发现，不进行端口扫描。 -Pn: 将所有指定的主机视作开启的，跳过主机发现的过程。 -PS/PA/PU/PY[portlist]: 使用TCP SYN/ACK或SCTP INIT/ECHO方式进行发现。 -PE/PP/PM: 使用ICMP echo, timestamp, and netmask 请求包发现主机。-PO[protocollist]: 使用IP协议包探测对方主机是否开启。 -n/-R: -n表示不进行DNS解析；-R表示总是进行DNS解析。 --dns-servers &lt;serv1[,serv2],...&gt;: 指定DNS服务器。 --system-dns: 指定使用系统的DNS服务器 --traceroute: 追踪每个路由节点其中，比较常用的使用的是-sn，表示只单独进行主机发现过程；-Pn表示直接跳过主机发现而进行端口扫描等高级操作（如果已经确知目标主机已经开启，可用该选项）；-n，如果不想使用DNS或reverse DNS解析，那么可以使用该选项。 端口扫描默认情况下，Nmap 会扫描1000个最有可能开放的TCP端口。 Nmap通过探测将端口划分为6个状态： open：端口是开放的。 closed：端口是关闭的。 filtered：端口被防火墙IDS/IPS屏蔽，无法确定其状态。 unfiltered：端口没有被屏蔽，但是否开放需要进一步确定。 open|filtered：端口是开放的或被屏蔽。 closed|filtered ：端口是关闭的或被屏蔽。 TCP SYN scanning这是Nmap默认的扫描方式，通常被称作半开放扫描（Half-open scanning）。该方式发送SYN到目标端口，如果收到SYN/ACK回复，那么判断端口是开放的；如果收到RST包，说明该端口是关闭的。如果没有收到回复，那么判断该端口被屏蔽（Filtered）。因为该方式仅发送SYN包对目标主机的特定端口，但不建立的完整的TCP连接，所以相对比较隐蔽，而且效率比较高，适用范围广。 TCP connect scanningTCP connect方式使用系统网络API connect向目标主机的端口发起连接，如果无法连接，说明该端口关闭。该方式扫描速度比较慢，而且由于建立完整的TCP连接会在目标机上留下记录信息，不够隐蔽。所以，TCP connect是TCP SYN无法使用才考虑选择的方式。 TCP ACK scanning向目标主机的端口发送ACK包，如果收到RST包，说明该端口没有被防火墙屏蔽；没有收到RST包，说明被屏蔽。该方式只能用于确定防火墙是否屏蔽某个端口，可以辅助TCP SYN的方式来判断目标主机防火墙的状况。 TCP FIN/Xmas/NULL scanning这三种扫描方式被称为秘密扫描（Stealthy Scan），因为相对比较隐蔽。FIN扫描向目标主机的端口发送的TCP FIN包或Xmas tree包/Null包，如果收到对方RST回复包，那么说明该端口是关闭的；没有收到RST包说明端口可能是开放的或被屏蔽的（open|filtered）。 其中Xmas tree包是指flags中FIN URG PUSH被置为1的TCP包；NULL包是指所有flags都为(空的?)的TCP包。 UDP scanningUDP扫描方式用于判断UDP端口的情况。向目标主机的UDP端口发送探测包，如果收到回复“ICMP port unreachable”就说明该端口是关闭的；如果没有收到回复，那说明UDP端口可能是开放的或屏蔽的。因此，通过反向排除法的方式来断定哪些UDP端口是可能出于开放状态。 例子nmap –sS –sU –T4 –top-ports 300 192.168.1.100 参数-sS表示使用TCP SYN方式扫描TCP端口；-sU表示扫描UDP端口；-T4表示时间级别配置4级；--top-ports 300表示扫描最有可能开放的300个端口（TCP和UDP分别有300个端口） 版本检测-sV: 指定让Nmap进行版本侦测 --version-light: 指定使用轻量侦测方式 (intensity 2) --version-all: 尝试使用所有的probes进行侦测 (intensity 9) --version-trace: 显示出详细的版本侦测过程信息。 OS 侦测具体实现方式如下： Nmap内部包含了2600多已知系统的指纹特征（在文件nmap-os-db文件中）。将此指纹数据库作为进行指纹对比的样本库。 分别挑选一个open和closed的端口，向其发送经过精心设计的TCP/UDP/ICMP数据包，根据返回的数据包生成一份系统指纹。 将探测生成的指纹与nmap-os-db中指纹进行对比，查找匹配的系统。如果无法匹配，以概率形式列举出可能的系统。 -O: 指定Nmap进行OS侦测。--osscan-limit: 限制Nmap只对确定的主机的进行OS探测（至少需确知该主机分别有一个open和closed的端口）。--osscan-guess: 大胆猜测对方的主机的系统类型。由此准确性会下降不少，但会尽可能多为用户提供潜在的操作系统。 防火墙/ids规避防火墙与IDS规避为用于绕开防火墙与IDS（入侵检测系统）的检测与屏蔽，以便能够更加详细地发现目标主机的状况。 Nmap提供了多种规避技巧，通常可以从两个方面考虑规避方式：数据包的变换（Packet Change）与时序变换（Timing Change）。 规避原理分片（Fragmentation）将可疑的探测包进行分片处理（例如将TCP包拆分成多个IP包发送过去），某些简单的防火墙为了加快处理速度可能不会进行重组检查，以此避开其检查。 IP诱骗（IP decoys）在进行扫描时，将真实IP地址和其他主机的IP地址（其他主机需要在线，否则目标主机将回复大量数据包到不存在的主机，从而实质构成了拒绝服务攻击）混合使用，以此让目标主机的防火墙或IDS追踪检查大量的不同IP地址的数据包，降低其追查到自身的概率。注意，某些高级的IDS系统通过统计分析仍然可以追踪出扫描者真实IP地址。 IP伪装（IP Spoofing）顾名思义，IP伪装即将自己发送的数据包中的IP地址伪装成其他主机的地址，从而目标机认为是其他主机在与之通信。需要注意，如果希望接收到目标主机的回复包，那么伪装的IP需要位于统一局域网内。另外，如果既希望隐蔽自己的IP地址，又希望收到目标主机的回复包，那么可以尝试使用idle scan或匿名代理（如TOR）等网络技术。 指定源端口某些目标主机只允许来自特定端口的数据包通过防火墙。例如FTP服务器配置为：允许源端口为21号的TCP包通过防火墙与FTP服务端通信，但是源端口为其他端口的数据包被屏蔽。所以，在此类情况下，可以指定Nmap将发送的数据包的源端口都设置特定的端口。 扫描延时某些防火墙针对发送过于频繁的数据包会进行严格的侦查，而且某些系统限制错误报文产生的频率（例如，Solaris 系统通常会限制每秒钟只能产生一个ICMP消息回复给UDP扫描），所以，定制该情况下发包的频率和发包延时可以降低目标主机的审查强度、节省网络带宽。 其他技术Nmap还提供多种规避技巧，比如指定使用某个网络接口来发送数据包、指定发送包的最小长度、指定发包的MTU、指定TTL、指定伪装的MAC地址、使用错误检查和（badchecksum）。 -f; --mtu: 指定使用分片、指定数据包的MTU. -D &lt;decoy1,decoy2[,ME],...&gt;: 用一组IP地址掩盖真实地址，其中ME填入自己的IP地址。 -S &lt;IP_Address&gt;: 伪装成其他IP地址 -e &lt;iface&gt;: 使用特定的网络接口 -g/--source-port &lt;portnum&gt;: 使用指定源端口 --data-length &lt;num&gt;: 填充随机数据让数据包长度达到Num。 --ip-options &lt;options&gt;: 使用指定的IP选项来发送数据包。 --ttl &lt;val&gt;: 设置time-to-live时间。 --spoof-mac &lt;mac address/prefix/vendor name&gt;: 伪装MAC地址 --badsum: 使用错误的checksum来发送数据包（正常情况下，该类数据包被抛弃，如果收到回复，说明回复来自防火墙或IDS/IPS）。 nmap -v -F -Pn -D192.168.1.100,192.168.1.102,ME -e eth0 -g 3355 192.168.1.1其中，-F表示快速扫描100个端口；-Pn表示不进行Ping扫描；-D表示使用IP诱骗方式掩盖自己真实IP（其中ME表示自己IP）；-e eth0表示使用eth0网卡发送该数据包；-g 3355表示自己的源端口使用3355；192.168.1.1是被扫描的目标IP地址。 参考https://github.com/erasin/notes/blob/master/linux/safe/nmap.md 自己常用的nmap -sP -iL /home/smbShare/PCName.txt -oN /home/smbShare/outfile.txt iL : 输入文件 oN : 把结果输出到文件","categories":[],"tags":[{"name":"网络","slug":"网络","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%BB%9C/"},{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"常用网络工具合集","slug":"常用网络工具合集","date":"2020-01-08T15:58:23.000Z","updated":"2021-12-29T14:43:12.625Z","comments":true,"path":"2020/01/08/chang-yong-wang-luo-gong-ju-he-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2020/01/08/chang-yong-wang-luo-gong-ju-he-ji/","excerpt":"","text":"OSI七层模型 层次 名称 协议举例 7 应用层 比如: HTTP DNS FTP SMTP POP3 SSH…(这一层的协议非常多,与用户直接打交道,大多在这层) 6 表示层 (这一层的协议比较少见) 5 会话层 Sock5 PPTP NetBIOS 管道命名(常用于:进程间通讯) 4 传输层 TCP(传输控制协议) UDP(数据报协议) 3 网络层 IP(互联网协议) ICMP(互联网控制消息协议) IGMP(互联网组管理协议) IPsec(常用于VPN) 2 链路层 MAC ARP&amp;RARP SLIP&amp;PPP&amp;PPPOE(常用于拨号上网) L2TP 1 物理层 USB协议 蓝牙协议 RS-232(串口标准协议) netcatnetcat 简介简称 nc ， 俗称网猫， 英文全称为 network communication nc 本身很小，所以有一些衍生的版本，比如”OpenBSD netcat” ，很多主流的 linux 发行版自带这个工具以下的教程均以这个衍生版作为介绍 命令简介nc 命令选项 主机 端口 命令选项:这部分有很多个选项 主机:可以没有,可能以”点分十进制”形式表示,也可能以”域名”形式表示 端口:这部分可能没有,可能是单个端口,也可能是端口范围(端口范围如右表示: 1-1024) 命令选项nc 提供了一大堆【命令行选项】，分别对应它提供的功能。每个选项都是“单字母”滴。有些选项需要带【选项值】，有些不需要。你要使用的选项都放在 nc 这个命令之后，每个选项前面要有一个【半角减号】，选项之间以空格分开。 在下面这个例子中，分别用到了三个选项（l、p、v），其中 12345 是选项 p 所带的【选项值】 nc -l -p 12345 -v 可以使用 nc -h 来查看所有的命令选项 h: 输出帮助信息 v: 显示详细的信息输出 n: 对命令行中的”主机”,不进行域名解析 ,只对”点分格式”的ip起作用,对域名的形式,不能使用该选项 p: 指定”端口号” l: 开启”监听模式”,nc作为**服务端”.如不使用该选项,nc默认作为客户端 u: 使用UDP协议,如不加该选项,nc默认使用TCP w: 设置连接的超时间隔(N秒) q: 让nc 延时(N秒)再退出 z: 开启”zero-I/O模式”,该选项仅用于”端口扫描” k: 配合 -l 选项使用,可以重复接受客户端连接 X: 指定代理的类型 x: 以 IP:port的格式指定代理的位置 e: 启动某个进程,把该进程的”标准输入输出”与网络通讯对接 使用场景(网络诊断)测试某个远程主机的【监听】端口是否可达经常有这种需求，要判断某个主机的监听端口是否能连上。导致监听端口【无法】，通常有两种原因： 其一，这个监听端口根本就【没开启】； 其二，监听端口虽然开启，但是被防火墙阻拦了。 对第1个原因，（如果你能在该主机上运行命令）可以直接用 netstat 这个命令查看监听端口是否开启但对于第2个原因，netstat 就用不上了。这时候就可以用 nc 来帮你搞定。 用如下命令可以测试某个 IP 地址（x.x.x.x）上的某个监听端口（xx）是否开启。nc -nv x.x.x.x xx 在测试链接的时候，如果你【没】使用 -w 这个超时选项，默认情况下 nc 会等待很久，然后才告诉你连接失败。如果你所处的网络环境稳定且高速（比如：局域网内），那么，你可以追加“-w选项”，设置一个比较小的超时值。在下面的例子中，超时值设为3秒。 nc -nv -w 3 x.x.x.x xx 只需再上面的命令添加 -u 选项,即可测试 UDP 的环境 (网络诊断)判断防火墙是否“允许 or 禁止”某个端口前一个章节（招数1）的场景是——已经有某个网络软件开启了监听端口，然后用 nc 测试端口是否可达。现在换另一个场景：假设你正在配置防火墙规则，禁止 TCP 的 8080 端口对外监听。那么，你如何【验证】自己的配置是 OK 滴？更进一步说：如果当前【没有】任何软件开启 8080 这个监听端口，你如何判断：该端口号是否会被防火墙阻拦？为了叙述方便，设想如下场景： 有两台主机——“主机C”充当客户端，“主机S”充当服务端。然后要判断“主机S”上的防火墙是否会拦截其它主机对 8080 TCP 端口的连接。 在 “主机S” 上运行 nc，让它在 8080 端口，命令如下： nc -lv -p 8080 然后在“主机C”上运行 nc，测试“主机S”上的 8080 端口是否可达(参考上一节) 在默认情况下，nc 开启 listen 模式充当服务端，在接受【第一次】客户端连接之后，就会把监听端口关闭。为啥会这样捏？因为当年设计 nc 更多的是作为某种网络诊断/配置工具，并【不是】真拿它当服务端软件来用的。如果你想要让 nc 始终监听模式，使之能【重复】接受客户端发起的连接，可以追加 -k 选项。 端口扫描不论是 TCP 还是 UDP，协议规定的【有效】端口号范围都是：1 ~ 65535 nc -znv x.x.x.x 1-1024 -z参数意思是：开启“zero-I/O 模式”。该模式指的是：nc 只判断某个监听端口是否能连上，连上后【不】与对端进行数据通讯。 nc -znv x.x.x.x 1-1024 2&gt;&amp;1 | grep succeeded 由于“-v 选项”产生的输出位于【stderr】，上述命令中的 2&gt;&amp;1 用来把【stderr】合并到【stdout】grep 命令用来进行【过滤】。对于 Windows 系统，默认【没有】grep 命令，需改用 find 命令过滤。 同时运行多个 nc，分别扫描不同的端口范围。可以提高效率 通过代理nc -X 5 -x 127.0.0.1:9050 -q 3 -v program-think.blogspot.com 443 -X : 代理的类型(5: Socks5; 4: socks4; connect:connect型的HTTP代理)-x : 代理的地址和端口 (信息收集)用 nc 探测“服务器类型”和“软件版本”（以 SSH 为例）echo &quot;EXIT&quot; | nc -vq 5 服务器域名 22 获取网页代码echo -e &quot;GET /index.html HTTP/1.0\\r\\n\\r\\n&quot; | nc-tor -vq 5 服务器域名 端口 可以把 nc 抓下来的 HTML 源代码，（在命令行中用“大于号”）重定向到某个 HTML 文件，然后就可以用你本机的浏览器阅读之。 (系统管理)用 nc 传输文件为了叙述方便，假设你有两台主机 A 与 B，你要把 A 主机上的文件 file1 传输到 B 主机上，保存为 file2 你先在【接收端】（B 主机）运行如下命令（其中的 xxx 是端口号) nc -l -p xxx file2 然后在【发送端】（A 主机）运行如下命令 nc x.x.x.x xxx &lt; file1 第二条命令中的 xxx 是端口号，要与第一条命令中的端口号相同；第二条命令中的 x.x.x.x 是【主机 B】的 IP 地址。 使用nc 复制整个硬盘假设你要把 A 主机 /dev/sda 磁盘的【原始数据】整个复制到 B 主机的 /dev/sdb 磁盘。 你先在【接收端】（B 主机）运行如下命令（其中的 xxx 是端口号） nc -l -p xxx | dd of=/dev/sdb 然后在【发送端】（A 主机）运行如下命令 dd if=/dev/sda | nc x.x.x.x xxx 更多请查看源博客 https://program-think.blogspot.com/2019/09/Netcat-Tricks.html netstat查看打开的端口看到本机开启的【所有】监听端口,Windows执行下方命令 netstat -an | find &quot;LISTEN&quot;netstat -ano | find &quot;LISTEN&quot; -o 选项可以看到是哪个进程开启的, 如果使用不了,可以用findstr 代替 find.或者在 powershell 里面运行 对于Linux,可以把 find 替换成 grep ,也是一样的 windows 命令下的端口转发netsh interface portproxy add v4tov4 listenport=新开的监听端口 listenaddress=新开端口的绑定地址 connectaddress=要转发的地址 connectport=要转发的端口 protocol=tcp netsh interface portproxy delete v4tov4 listenport=新开的监听端口 listenaddress=新开端口的绑定地址 命令举例比方说，俺本地已经运行了 Tor，端口是 8118，绑定在 127.0.0.1如果俺希望建立一个新的端口，端口号是 12345（这个端口号是俺随手编的，你也可以用其它端口号），绑定在 0.0.0.0 上，那么就执行如下命令。然后，发往 12345 端口的数据流就会被转发到 8118 端口。 netsh interface portproxy add v4tov4 listenport=12345 listenaddress=0.0.0.0 connectaddress=127.0.0.1 connectport=8118 protocol=tcp traceroute简介linux系统中是 traceroute,在MS Windows中为tracert。traceroute通过发送小数据包到目的主机直到其返回，来测量其耗时。一条路径上的每个设备traceroute要测3次。输出结果中包括每次测试的时间(ms)和设备的名称及其IP地址。 traceroute [-dFlnrvx][-f&lt;存活数值&gt;][-g&lt;网关&gt;...][-i&lt;网络界面&gt;][-m&lt;存活数值&gt;][-p&lt;通信端口&gt;][-s&lt;来源地址&gt;][-t&lt;服务类型&gt;][-w&lt;超时秒数&gt;][主机名称或IP地址][数据包大小] -d 使用Socket层级的排错功能。 -f 设置第一个检测数据包的存活数值TTL的大小。 -F 设置勿离断位。 -g 设置来源路由网关，最多可设置8个。 -i 使用指定的网络界面送出数据包。 -I 使用ICMP回应取代UDP资料信息。 -m 设置检测数据包的最大存活数值TTL的大小。 -n 直接使用IP地址而非主机名称。可以加快运行速度 -p 设置UDP传输协议的通信端口。 -r 忽略普通的Routing Table，直接将数据包送到远端主机上。 -s 设置本地主机送出数据包的IP地址。 -t 设置检测数据包的TOS数值。 -v 详细显示指令的执行过程。 -w 设置等待远端主机回报的时间。 -x 开启或关闭数据包的正确性检验。 -q 默认数值是3 , 表示向目标发送3个数据包. 一台主机有时会看到一些行以星号表示，出现这样的情况，可能是防火墙封掉了ICMP的返回信息，所以得不到什么相关的数据包返回数据。 Linux iproute 工具 iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。 help 说明Usage: ip [ OPTIONS ] OBJECT &#123; COMMAND | help &#125; where OBJECT :&#x3D; &#123; link | address | addrlabel | route | rule | neigh | ntable | tunnel | tuntap | maddress | mroute | mrule | monitor | xfrm | netns | l2tp | fou | macsec | tcp_metrics | token | netconf | ila | vrf | sr &#125; OPTIONS :&#x3D; &#123; -V[ersion] | -s[tatistics] | -d[etails] | -r[esolve] | -h[uman-readable] | -iec | -j[son] | -p[retty] | -f[amily] &#123; inet | inet6 | ipx | dnet | mpls | bridge | link &#125; | -4 | -6 | -I | -D | -M | -B | -0 | -l[oops] &#123; maximum-addr-flush-attempts &#125; | -br[ief] | -o[neline] | -t[imestamp] | -ts[hort] | -b[atch] [filename] | -rc[vbuf] [size] | -n[etns] name | -a[ll] | -c[olor]&#125; 常用OBJECT的取值含义如下： link：网络设备 address：设备上的协议（IP或IPv6）地址 addrlabel：协议地址选择的标签配置 route：路由表条目 rule：路由策略数据库中的规则 常用OPTIONS的取值含义如下： -V，-Version：显示指令版本信息 -s，-stats，statistics：输出详细信息 -h，-human，-human-readable：输出人类可读的统计信息和后缀 -o，-oneline：将每条记录输出到一行，用‘\\’字符替换换行符 command设置针对指定对象执行的操作，它和对象的类型有关。一般情况下，ip支持对象的增加(add)、删除(delete)和展示(show或list)。有些对象不支持这些操作，或者有其它的一些命令。对于所有的对象，用户可以使用help命令获得帮助。这个命令会列出这个对象支持的命令和参数的语法。如果没有指定对象的操作命令，ip会使用默认的命令。一般情况下，默认命令是list，如果对象不能列出，就会执行help命令。 arguments是命令的一些参数，它们倚赖于对象和命令。ip支持两种类型的参数：flag和parameter。flag由一个关键词组成；parameter由一个关键词加一个数值组成。为了方便，每个命令都有一个可以忽略的默认参数。例如，参数dev是ip link命令的默认参数，因此ip link ls eth0等于ip link ls dev eth0。命令的默认参数将使用default标出。 例子ip -4 a只查看ipv4的信息 ip -4 a show wlan0 ip link ls up查看启动的网卡 ip link set eth0 up说明：启用被禁用的网卡 ip link set eth0 down说明：禁用网卡 ip link set mtu 9000 dev eth0 ip addr add 2.2.2.2/16 dev eth0给网卡增加一个地址 ip route show 输出内容第一条是默认的路由，我们可以根据我们的需要改动它metric 1002：跳跃计数，确定网关的优先级，默认20，数值越小优先级越高proto kernel：该路由的协议，主要有redirect，kernel，boot，static，ra等，其中kernel指的是直接由核心判断自动设定 ip route add default via 192.168.0.150/24说明：所有的网络数据包都通过192.168.0.150来转发，而不是以前的默认路由 ip route add 172.16.32.32 via 192.168.0.150/24 dev enp0s3说明：修改特定网卡的默认路由 ip route del 172.17.160.0/20说明：删除路由 ip route add 192.168.1.0/24 dev eth0要路由的所有流量从 eth0 网卡的192.168.1.254网关通过 ip route flush cache说明：刷新路由表 ip -s link 说明:反应网络通信的质量输出重点内容详解： RX：表示接收 TX：表示发送 bytes：接收/发送的字节数 packets：接收/发送的包数 errors：接收/发送的带有错误的包总数 dropped：由于处理资源不足导致接收/发送的丢弃的包数 overrun：因接收溢出（环形缓冲区）导致丢失的包；通常如果接口溢出，则表示内核中存在严重问题，或者说服务器上该网络设备的处理设备太慢 mcast：接收到的多播包数 carrier：因数据链路错误导致发送失败的包数 collsns：因在网络上发送冲突而导致的失败数 ip link不支持tab键补齐 ip route add 目标主机 via 网关 1）添加到达目标主机的路由记录 ip route add 目标网络/掩码 via 网关 2）添加到达网络的路由记录 作用域 scope &#123;global|link|host&#125;]：指明作用域 global: 全局可用，即两个接口进来的数据我都可以响应。是默认状态。 link: 仅链接可用，进来的数据只有直接相连的那个接口能够响应 host: 本机可用，即只能自己访问","categories":[],"tags":[{"name":"网络 - Linux","slug":"网络-Linux","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%BB%9C-Linux/"}]},{"title":"VBS 入门","slug":"VBS-入门","date":"2019-10-15T11:01:18.000Z","updated":"2022-04-24T14:23:11.813Z","comments":true,"path":"2019/10/15/vbs-ru-men/","link":"","permalink":"https://blog.bingfengs.xyz/2019/10/15/vbs-ru-men/","excerpt":"","text":"声明，注释REM 这里是注释，这是一些VBS基本的语法 Dim name,msg &#39;用 Dim 声明 name 和 msg 两个变量 msg &#x3D; &quot;请输入你的名字：&quot; &#39;赋予字符串值给msg变量 name &#x3D; Inputbox(msg, &quot;名称&quot;) msgbox name Dim 用来声明一个变量，在 VBS 中，变量类型并不是那么重要，就是说VBS会帮你自动识别变量类型，而且变量在使用前不一定要先声明，程序会动态分配变量空间。如果要在声明的同时，赋予变量值，可以这么写。加一个冒号，然后声明即可 Dim sPathOutputFolder : sPathOutputFolder &#x3D; &quot;&quot; Inputbox和Msgbox是VBS内建的函数，一个函数就相当于一个”黑箱”，有输入(参数)和输出(返回值)，一个函数可以有返回值也可以没有，可以有参数也可以没有。Inputbox的两个参数对应下面的两个箭头指向 声明其他 Dim arrAllProducts() &#39;声明Array，数组 Dim dicFolders &#39;声明字典 Const CSV &#x3D; &quot;,&quot; &#39;声明常量 在变量声明后，但是不赋值，用IF判断时，可等于0 dim test if test &#x3D; 0 then msgbox &quot;0&quot; sub，function sub 不返回执行的结果 function 可以返回函数执行的结果 局部或全局变量在sub和function里面声明的变量，只在声明的函数里面起作用，如下的 iNum2在函数外声明的为全局变量，所有的函数通用。 dim iNum1 sTest msgbox iNum1 &#39;显示结果为 1 msgbox iNum2 &#39;显示结果为空 sub sTest() dim iNum2 &#x3D; 2 iNum1 &#x3D; 1 end sub 调用函数的一些规范（坑）VBS 在调用函数的时候，是有一些坑的。 如果函数带有参数，请参考如下例子： Today &#x3D; &quot;Thusday&quot; YourName &#x3D; &quot;Bin&quot; test YourName, Today &#39;可以 call test(YourName, Today) &#39;可以 call test YourName, Today &#39;错误格式，不允许 test(YourName, Today) &#39;错误格式，不允许 function test(Name,Day) msgbox &quot;Hi, &quot; &amp; Name &amp; &quot;. Today is &quot; &amp; Day end function 报错的提醒： 调用函数做布尔判断等操作时候，请用用这种格式： If RegEnumValues (hDefKey, sSubKeyName, arrNames, arrTypes) Then &#39;RegEnumValues 是一个函数，括号中是它的参数 如果函数没有参数，那调用的方法随意 call test &#39;可以 test &#39;可以 test() &#39;可以 call test()&#39;可以 function test msgbox &quot;Hi&quot; end function 内置函数方法UCase Mid LenfCScript &#x3D; (UCase(Mid(Wscript.FullName, Len(Wscript.Path) + 2, 1)) &#x3D; &quot;C&quot;) UCase: 把文字转成大写，对应LCase（转成小写）。用法 UCase(string) Mid: 提取一部分数据。用法 Mid(String, Start, Length)。类似的还有 Left，Right 方法 test &#x3D; &quot;How are you?&quot; test2 &#x3D; mid(test,1,4) &#39;从第一个字符开始，抓取4个字符(包括空格) msgbox test2 &#39;显示 How Len： 统计一段文本的长度 注意：这小段代码其实是一个布尔判断，fCScript 的结果 为 true 或 false。解释下作用把，就是判断当前的环境是CStript还是WSript Left Instrf64 &#x3D; Instr(Left(oItem.SystemType, 3), &quot;64&quot;) &gt; 0 Left：从左边第一个字符开始，抓取3个字符 Instr：用法 InStr(Start, String, Substring, Compare)。Start，Compare 是可选的。返回找到第一个找到的位置 Compare 值： 0 Binary comparison (case sensitive) 1 Text Comparison (case insensitive) 2 Compare information inside database InStr(&quot;ABCDE ABCDE&quot;, &quot;C&quot;) Output: 3 &#39;后面的c就不管了 InStr(4, &quot;ABCDE ABCDE&quot;, &quot;C&quot;) Output: 9 这小段代码是一个布尔判断，判断系统是否为64位 Set oMsi &#x3D; CreateObject(&quot;WindowsInstaller.Installer&quot;) msgbox oMsi.Version &#39; output 5.0.17763.557 msgbox (Instr(oMsi.Version, &quot;.&quot;) - 1) &#39;output 1 iWiVersionMajor &#x3D; Left(oMsi.Version, Instr(oMsi.Version, &quot;.&quot;) - 1) &#39;output 5 replaceReplace(String, FindSubstring, ReplaceSubstring, Start, Count, Compare) String The String argument is the string to be searched. FindSubstring The FindSubstring argument is the substring you are searching for inside the string. ReplaceSubstring The ReplaceSubstring argument is the the new substring string that you wish to insert inside the string. Start The optional Start argument specifies the position number, counting from the left, where you wish to start the search. Count The optional Count argument specifies how many times to replace the substring. Compare The optional Compare argument must only use either a constant or value from the Comparison Constants table. CONSTANT VALUE DESCRIPTION VBBinaryCompare 0 Binary comparison VBTextCompare 1 Text Comparison VBDataBaseCompare 2 Compare information inside database Replace(&quot;How now brown cow?&quot;, &quot;brown&quot;, &quot;purple&quot;) Output: How now purple cow? joinJoin(Array, Delimiter) 将 Array 组合成 String，与它相反的 Split The optional Delimiter argument specifies the characters (including blanks) you wish to place between each element. If this argument is not specified, the default is to place a blank space between each element. If you wish to have no spaces, use a double quote, “”, for the argument. Dim cowarray(10) cowarray(0) &#x3D; &quot;How&quot; cowarray(1) &#x3D; &quot;now&quot; cowarray(2) &#x3D; &quot;brown&quot; cowarray(3) &#x3D; &quot;cow?&quot; Join(cowarray) Output: How now brown cow? 循环或判断我觉得这个很有用，就来作为例子吧 For i &#x3D; 1 To 4 &#39;从1循环到4 Select Case i &#39;Case 选择，变相相当于 if 判断 Case 1 : lAccPermLevel &#x3D; KEY_QUERY_VALUE Case 2 : lAccPermLevel &#x3D; KEY_SET_VALUE Case 3 : lAccPermLevel &#x3D; KEY_CREATE_SUB_KEY Case 4 : lAccPermLevel &#x3D; DELETE End Select &#39;注意要结束Case &#39;Not，非。 If Not RegCheckAccess(hDefKey, sSubKeyName, lAccPermLevel) Then fIsAdmin &#x3D; False Exit for &#39;马上退出循环，不在执行剩下的循环 End If Next &#39;i &#39;用 Next 结束 For 循环 这个是单行的 IF 判断语句，不需要结束符号 If sPathOutputFolder &#x3D; &quot;&quot; Then sPathOutputFolder &#x3D; &quot;%TEMP%&quot; 在不知道数组的大小情况下，遍历整个数组的方法，重点在 UBound For iValueName &#x3D; 0 To UBound(arrNames) 判断变量类型IsArray(varName)IsDate(varName)IsEmpty(varName)IsNull(varName)IsNumeric(varName)IsObject(varName) VarType(Varname):返回的值： CONSTANT VALUE DESCRIPTION VBEmpty 0 Uninitialized VBNull 1 Contains no valid data VBInteger 2 Integer subtype VBLong 3 Long subtype VBSingle 4 Single subtype VBDouble 5 Double subtype VBCurrency 6 Currency subtype VBDate 7 Date subtype VBString 8 String subtype VBObject 9 Object VBError 10 Error subtype VBBoolean 11 Boolean subtype VBVariant 12 Variant (only use for arrays of variants) VBDataObject 13 Data access object VBDecimal 14 Decimal subtype VBByte 17 Byte subtype VBArray 8192 Array whatsubtype&#x3D;&quot;This is a string subtype&quot; VarType(whatsubtype) Output: 8 字典更多属性，方法请查看： https://www.devguru.com/content/technologies/vbscript/objects-dictionary.html Dim cars Set cars &#x3D; CreateObject(&quot;Scripting.Dictionary&quot;) &#39;创建字典变量cars cars.Add &quot;a&quot;, &quot;Alvis&quot; cars.Add &quot;b&quot;, &quot;Buick&quot; cars.Add &quot;c&quot;, &quot;Cadillac&quot; msgbox cars.Item(&quot;b&quot;) &#39;查看 key b 的内容 msgbox cars.count &#39;查看字典有多少keys Error当加上On Error Goto 0语句后，如果后面的程序出现”运行时错误”时，会显示”出错信息”并停止程序的执行。使用了On Error Resume Next之后，如果出错,那么Err对象中将放置最近一次出错的信息。 Err对象重要的属性有三个：Number, Source, Description。分别是错误号，错误来源，错误描述。 注意：On Error Resume Next语句只作用于本级别的后续语句。不会作用于被调用的函数或子程序，同样也不会作用于父级别的程序段On Error Resume Next语句如果出现在某个函数中，则只对本函数产生影响。对”主调函数”和”被调函数”均没有影响 一个子程序中如果没有On Error Resume Next语句，那么当错误在子程序中出现时,将会中断这个子程序的运行,跳转到调用这个子程序的外层程序.如果这个外层程序在”出问题的函数调用”之前包含有On Error Resume Next语句，则会接着执行”函数调用”之后的语句。如果这个外层程序在”出问题的函数调用”之前没有On Error Resume Next语句，那么就跳向外层。这个过程一直重复,直到找到包含有On Error Resume Next语句的环境继续运行，如果最外层的程序也没有包含On Error Resume Next语句，那么将会使用缺省的错误处理器，也就是显示错误信息并停止运行。 自定义错误On Error Resume Next Err.Raise 22,&quot;VBS指令碼&quot;,&quot;溢位啦&quot;,&quot;c:\\test.txt&quot; &#39;定義一個執行時的錯誤 MsgBox &quot;錯誤：&quot; &amp; vbCrLf _ &amp; &quot;Number:&quot; &amp; Err.Number &amp; vbCrLf _ &amp; &quot;Source:&quot; &amp; Err.Source &amp; vbCrLf _ &amp; &quot;Description:&quot; &amp; Err.Description &amp; vbCrLf _ &amp; &quot;Helpfile:&quot; &amp; Err.HelpFile Err.Clear &#39;清除錯誤","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"批处理笔记","slug":"批处理","date":"2019-10-15T10:32:18.000Z","updated":"2022-04-24T14:11:18.892Z","comments":true,"path":"2019/10/15/pi-chu-li/","link":"","permalink":"https://blog.bingfengs.xyz/2019/10/15/pi-chu-li/","excerpt":"","text":"用运行打开程序 calc : 打开计算器 appwiz.cpl : 程序和功能 certmgr.msc : 证书管理工具 cleanmgr : 磁盘清理工具 colorcpl : 颜色管理 compmgmt.msc : 计算机管理 control : 控制面板 devmgmt.msc : 设备管理器 desk.cpl : 显示控制选项 diskmgmt.msc : 磁盘管理 eventvwr : 事件查看器 explorer : 打开资源管理器 firewall.cpl : windows防火墙 gpedit.msc : 组策略 fsmgmt.msc : 共享文件夹管理器 hdwwiz.cpl : 设备管理器 inetcpl.cpl : Internet 属性 intl.cpl : 区域时间设置 iexpress : 程序打包软件 logoff : 注销 lusrmgr.msc : 本机用户和组 mmsys.cpl : 声音 magnify : 放大镜实用程序 mdsched : Windows内存诊断程序(需要重启电脑) mmc : 打开控制台 msinfo32 : 系统信息 ncpa.cpl : 网络连接 netplwiz : 高级用户账户控制面板 optionalfeatures : 打开或关闭Windows功能 osk : 屏幕键盘 perfmon.msc : 计算机性能监视器 powercfg.cpl : 电源选项 psr : 问题步骤记录器 resmon : 资源监视器 sigverif : 文件签名验证程序 slui : windows激活信息 slmgr.vbs -dlv : 显示详细的许可证信息 snippingtool : 截图工具 taskschd.msc : 任务计划程序 timedate.cpl : 日期和时间 wf.msc : 高级安全Windows防火墙 winver : 关于Windows taskschd.msc : 计划任务 命令行语法项 图解 描述 不带方括号或大括号的文本 必须按如下所示键入项 &lt;尖括号内的文本&gt; 必须为其提供值的占位符 [方括号内的文本] 可选项 {大括号内的文本} 一组必需的项,选择其中一个 竖线 互斥项的分隔符,选择其中一个 省略号(…) 可以重复的项 详情参见 https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/command-line-syntax-key 常用DOS命令 tree 以图形显示驱动器或路径的文件夹结构 rd 删除一个目录 md 创建目录 xcopy 复制文件和目录树 ren 重命名文件 replace 替换文件 find 搜索字符串 attrib 显示或更改文件属性 fc 比较两个文件或两个文件集并显示它们之间的不同 at 安排在特定日期和时间运行命令和程序 taskkill 结束进程 tasklist 显示进程列表 cls 清屏 type 显示文件内容 pause 暂停命令 rem 和 : 注释命令 more 逐屏显示 tree 显示目录结构 &amp; 顺序执行多条命令，而不管命令是否执行成功 &amp;&amp; 顺序执行多条命令，当碰到执行出错的命令后将不执行后面的命令 || 顺序执行多条命令，当碰到执行正确的命令后将不执行后面的命令 | 管道命令 set 设置变量 (引用变量可以在名字前后加%, 即 %变量名% ^ 转义符 copy copy 1.txt + 2.txt 3.txt 合并 1.txt 和 2.txt 的内容，保存为 3.txt 文件 如果不指定 3.txt ，则保存到 1.txt con 代表屏幕 , prn 代表打印机 , nul 代表空设备 echo“关闭回显”是指运行批处理文件时，不显示文件里的每条命令，只显示运行结果.批处理开始和结束时，系统都会自动打开回显 @ #关闭单行回显 echo off #从下一行开始关闭回显 @echo off #从本行开始关闭回显。一般批处理第一行都是这个 echo on #从下一行开始打开回显 echo #显示当前是 echo off 状态还是 echo on 状态 echo. #输出一个&quot;回车换行&quot;，一般就是指空白行 echo hello world #输出hello world echo %errorlevel% : 每个命令运行结束,可以用这个查看命令是否执行成功,默认为0.一般执行出错会返回 1. setset #显示目前所有可用的变量，包括系统变量和自定义的变量 echo %SystemDrive% #显示系统盘盘符。系统变量可以直接引用 set p #显示所有以p开头的变量，要是一个也没有就设errorlevel&#x3D;1 set p&#x3D;aa1bb1aa2bb2 #设置变量p，并赋值为 &#x3D; 后面的字符串，即aa1bb1aa2bb2 echo %p% #显示变量p代表的字符串，即aa1bb1aa2bb2 echo %p:~6% #显示变量p中第6个字符以后的所有字符，即aa2bb2 echo %p:~6,3% #显示第6个字符以后的3个字符，即aa2 echo %p:~0,3% #显示前3个字符，即aa1 echo %p:~-2% #显示最后面的2个字符，即b2 echo %p:~0,-2% #显示除了最后2个字符以外的其它字符，即aa1bb1aa2b echo %p:aa&#x3D;c% #用c替换变量p中所有的aa，即显示c1bb1c2bb2 echo %p:aa&#x3D;% #将变量p中的所有aa字符串置换为空，即显示1bb12bb2 echo %p:*bb&#x3D;c% #第一个bb及其之前的所有字符被替换为c，即显示c1aa2bb2 set p&#x3D;%p:*bb&#x3D;c% #设置变量p，赋值为 %p:*bb&#x3D;c% ，即c1aa2bb2 set &#x2F;a p&#x3D;39 #设置p为数值型变量，值为39 set &#x2F;a p&#x3D;39&#x2F;10 #支持运算符，有小数时用去尾法，39&#x2F;10&#x3D;3.9，去尾得3，p&#x3D;3set &#x2F;a p&#x3D;p&#x2F;10 #用 &#x2F;a 参数时，在 &#x3D; 后面的变量可以不加%直接引用set &#x2F;a p&#x3D;&quot;1&amp;0&quot; #&quot;与&quot;运算，要加引号。其它支持的运算符参见set&#x2F;? set p&#x3D; #取消p变量 set &#x2F;p p&#x3D; 请输入屏幕上显示&quot;请输入&quot;，并会将输入的字符串赋值给变量p注意这条可以用来取代 choice 命令 http://xstarcd.github.io/wiki/windows/windows_cmd_summary_commands.html xcopy用法xcopy \\\\raspberrypi\\pishare\\test d:\\xcopytest2\\test2\\ 如果复制到目的位置的文件夹不存在, xcopy会自动创建,多级目录也一样(例如上面的,d:\\xcopytest2\\test2\\ . 如果这个文件夹不存在,则会创建) 默认复制源头文件夹下面的文件,而不是整个文件夹(例如上面的,\\\\raspberrypi\\pishare\\test. 会copy test 文件夹下面的文件, 而不是 test 这个文件夹) 参数&#x2F;i 如果“Source”是一个目录或包含通配符，而“Destination”不存在，“xcopy”会假定“destination”指定目录名并创建一个新目录。然后，“xcopy”会将所有指定文件复制到新目录中。默认情况下，“xcopy”将提示您指定“Destination”是文件还是目录。 &#x2F;s 复制非空的目录和子目录。如果省略“&#x2F;s”，则“xcopy”将在单个目录中工作。 &#x2F;e 复制所有子目录，包括空目录。将“&#x2F;e”与“&#x2F;s”和“&#x2F;t”命令行选项一起使用。 &#x2F;t 只复制子目录结构（即目录树），不复制文件。要复制空目录，必须包含“&#x2F;e”命令行选项。 &#x2F;y 禁止提示确认要覆盖已存在的目标文件。 &#x2F;-y 提示您确认要覆盖已存在的目标文件。 &#x2F;cdehikvy 常用的参数组合,能增量,断点续传","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"SysInternals 工具系列","slug":"SysInternals-工具系列","date":"2019-10-15T10:25:02.000Z","updated":"2021-12-12T14:20:24.220Z","comments":true,"path":"2019/10/15/sysinternals-gong-ju-xi-lie/","link":"","permalink":"https://blog.bingfengs.xyz/2019/10/15/sysinternals-gong-ju-xi-lie/","excerpt":"","text":"官方介绍下载地址 https://docs.microsoft.com/en-us/sysinternals/ 注意事项如果你发现你的命令输入没有错误,但是总是提示 “The network path was not found.” ,那你需要执行下面的命令行之后,即可正常执行 sysinternals 的工具 To start the Remote Registry service via a command line: &gt; sc start RemoteRegistry To have it start automatically every time: &gt; sc config RemoteRegistry start&#x3D;auto (重要)To do this to a remote machine named Desktop1: &gt; sc \\\\Desktop1 config RemoteRegistry start&#x3D;auto PsToolsPSTools 本身就有十来个命令行小工具 PsExec – 在远程计算机执行命令 PsFile – 查看打开的网络文件 PsGetSid – 获取 Machine SID PsInfo – 查看简要系统信息 PsKill – 按进程名或PID杀掉进程 PsList – 列出进程信息 PsLoggedOn – 显示已登的会话 PsLogList – 命令行获取 event log PsPasswd – 更改用户密码 PsPing – 简单的tcp/udp连接测试工具 PsService – Windows 服务管理命令 PsShutdown – 关机、注销命令 PsSuspend – 暂停或恢复某个进程 以上所有命令都可以直接在本地计算机上使用，不过 PsTools 设计出来就是为了方便对远程 PC 进行管理的 PsTools 所有工具连接远程计算机都可以使用同一个通用语法，例如： psinfo \\\\pc1,pc2,pc3 双斜杠后面可以直接跟计算机名（可以解析netbios）、IP 地址或 FQDN，也可以在命令后跟多台计算机以实现批量 如果你不是以域管理员等有权限的用户来执行命令、没有域环境或者需要手动指定有权限的远程用户，可用 -u 参数指定用户，-p 参数指定密码 如果是域环境，需要将用户写为 DOMAIN\\user 样式 psinfo \\\\computername –u user –p Password PsExecPsExec 是 PsTools 工具系列中最为常用的一个命令行工具，它可以让我们在本地或远程计算机上「运行」任何东西，包括更改注册表、执行脚本或应用程序等。 用法 命令说明: psexec \\\\计算机名 &lt;选项&gt; apptorun.exe &lt;参数&gt; 例如你想查看某个远程计算机的 TCP/IP 配置，可以使用如下命令： psexec \\\\计算机名 -u User -p Password ipconfig 如果你将命令输出重定向到一个文件中，可以使用常见的 command.exe &gt; output.txt 方式，这种方式对 PsExec 命令同样适用，例如我们可以使用类似如下命令将 netstat -an 的输出保存到本地文本文件中： psexec \\\\计算机名 netstat -an &gt; C:\\netstat.txt 如果你想将命令的重定向输出结果直接保存到远程 PC 当中，可以使用很少有人知道的 ^ 这个Windows 命令行转义符，例如： psexec \\\\计算机名 cmd &#x2F;c netstat -an ^&gt; C:\\users\\sysgeek\\netstat.txt 有时我们需要执行的 CDM 外部命令并没有存在于远程计算机当中，此时我们可以使用 PsExec 的 -c 参数来指定一个存放于管理员本地的外部命令或应用。当我们执行命令时，PsExec 会自动将所指定的应用复制到远程 PC 中执行，并在执行完成后自动删除。例如 psexec \\\\计算机名 -c autorunsc.exe –accepteula 跳过第一次打开软件的条款同意声明 psexec &#x2F;accepteula 如果不指定密码,命令行里面会让你输入密码 D:\\runsoftware\\SysinternalsSuite\\PsExec.exe \\\\192.168.1.102 -u ieuser netstat -na Maybe you need to bring up a notepad window on a remote computer. Not a problem. Run notepad.exe with the -i switch and PsExec will open up Notepad. psexec -i \\\\REMOTECOMPUTER notepad Be sure to also use the -d switch to disconnect when the interactive window is brought up though. By default, PsExec will wait for the process it executed to complete. If the remote process (Notepad in this case) is kept running, PsExec will never return control. 像linux的ssh一样使用,远程Windows psexec \\\\wss11 -u 666 -p general cmd Do NOT use Ctrl-C to close out of an interactive cmd session. Always use exit. If you use Ctrl-C, the psexec session will remain running on the remote computer. psexec 给远程电脑安装软件psexec \\\\192.168.2.223 -u administrator -p &quot;&quot; -c D:\\download\\Apache_OpenOffice_4.1.7_Win_x86_install_en-US.exe &#x2F;S &#x2F;v &#x2F;qb -p &quot;&quot; 表示密码为空 -c 表示复制文件到远程电脑 D:\\download\\Apache_OpenOffice_4.1.7_Win_x86_install_en-US.exe 这个文件是本地电脑的 /S /v /qb 表示OpenOffice静默安装参数 ——————目前该命令存在的问题——————– 使用该命令只能使用远程电脑(目标电脑)的administrator账号,即使用administrators组里面的账号也没有用.不然会提示如下错误: PsExec could not start Apache_OpenOffice_4.1.7_Win_x86_install_en-US.exe on 192.168.2.223: The system cannot find the file specified. 目前只知道, 执行上面那个命令后,Openoffice 会被 复制到远程计算机的c:\\windows 目录,执行完成之后文件即被删除 进阶 打开远程机器的IE浏览器PsExec.exe \\\\192.168.1.102 -u ieuser -p general -d -i &quot;C:\\Program Files (x86)\\Internet Explorer\\iexplore.exe&quot; -d 表示不等待远端机器执行的结果,命令发送后就立即返回 -i 在远程端口开启互动界面(GUI).没有这个参数,你在远程机器上是看不到IE浏览器的,只有后台有一个进程而已 后面的IE路径,因为有空格,需要加上双引号 下图为有无参数-d的区别(两个命令都成功打开了IE) notepad打开文本如下两种写法都是可以的: D:\\runsoftware\\SysinternalsSuite\\PsExec.exe \\\\192.168.1.102 -u ieuser -p general -d -w C:\\runsoftwares -i notepad psexecTest.bat D:\\runsoftware\\SysinternalsSuite\\PsExec.exe \\\\192.168.1.102 -u ieuser -p general -d -i notepad C:\\runsoftwares\\psexecTest.vbs 参考 https://blog.xuite.net/jyoutw/xtech/24607577-PsTools+%E4%B9%8B+PsExec+%E7%9A%84%E7%94%A8%E6%B3%95 运行远程pc上的vbs脚本报错运行bat没有问题,但是vbs会出现The system cannot find the file specified.报错.在不同的电脑测试均出现此问题.目前找不到原因 目前找到该问题的解法,感谢大佬的指路.据说是PATH里找不到执行的文件在命令里加上 wscript 就行 D:\\runsoftware\\SysinternalsSuite\\PsExec.exe \\\\192.168.1.102 -u ieuser -p general wscript C:\\Users\\bingfeng\\Documents\\script\\vbs\\psexecTest.vbs 参数说明 -aSeparate processors on which the application can run with commas where 1 is the lowest numbered CPU. For example, to run the application on CPU 2 and CPU 4, enter: “-a 2,4” -cCopy the specified program to the remote system for execution. If you omit this option the application must be in the system path on the remote system. -dDon’t wait for process to terminate (non-interactive). -eDoes not load the specified account’s profile. -fCopy the specified program even if the file already exists on the remote system. -iRun the program so that it interacts with the desktop of the specified session on the remote system. If no session is specified the process runs in the console session. Some have reported best results always using the -s switch with -i due to windows being unintelligible. -hIf the target system is Vista or higher, has the proc -lRun process as limited user (strips the Administrators group and allows only privileges assigned to the Users group). On Windows Vista the process runs with Low Integrity. -nSpecifies timeout in seconds connecting to remote computers. -pSpecifies optional password for user name. If you omit this you will be prompted to enter a hidden password. -rSpecifies the name of the remote service to create or interact. with. -sRun the remote process in the System account. -uSpecifies optional user name for login to computer. -vCopy the specified file only if it has a higher version number or is newer on than the one on the remote system. -w设置进程的工作目录（相对于远程计算机） -xDisplay the UI on the Winlogon secure desktop (local system only). -arm Specifies the remote computer is of ARM architecture. -prioritySpecifies -low, -belownormal, -abovenormal, -high or -realtime -realtimerun the process at a different priority. Use -backgroundrun at low memory and I/O priority on Vista. computerDirect PsExec to run the application on the computer or computers specified. If you omit the computer name PsExec runs the application on the local system, and if you specify a wildcard (*), PsExec runs @filePsExec will execute the command on each of the computers listed in the file. -accepteulaThis flag suppresses the display of the license dialog. -nobannerDo not display the startup banner and copyright message. psexec 工作原理How PsExec Works on Remote Computers PsExec goes through a few steps to execute programs on remote computers. Create a PSEXESVC.exe file in C:\\Windows. Create and start a Windows service on the remote computer called PsExec. Execute the program under a parent process of psexesvc.exe. When complete, the PsExec Windows service will be stopped and removed. When the process doesn’t work 100% correctly you may have to manually remove the service using the sc command. https://blog.51cto.com/leomars/1900528 PsFile psfile 命令可以显示本地或远程 PC 中通过网络打开的文件，其类似于命令行中的 net file 命令，及 NetworkOpenedFiles 图形界面工具psfile \\\\计算机名 如果你想中断某个共享的访问连接，可以使用 -c 参数：psfile \\\\计算机名 &lt;路径&gt; –c PsInfoPsInfo 主要用于显示 Windows 操作系统版本、系统运行时长及个别硬件的简单信息，如果你想获取更详尽的信息，可以使用 -d（磁盘信息）、-h（补丁信息）、-s（已知应用程序版本列表）参数，这样一来就比较像 Windows 内置的 systeminfo 命令行了。 psinfo -d -h -s PsKillPsKill 看名称就不难猜，它可按进程名或 PID 结束进程，使用 -t 参数可以杀掉整个进程树。 pskill \\\\计算机名 PsList它可以通过列表方式看到进程的几乎所有信息，包括线程数 PsLoggedOnPsLoggedOn 命令主要用于查看本地或远程 PC 上当前登录的用户信息，对于系统管理员来说非常实用。 PsPingPsPing 是一个可对指定端口进行 TCP 或 UDP 连接测试的工具 PsPasswdPsPasswd 用于快速更改本地或远程 PC 的用户密码 该命令相较 net user 的好处在于可以一次性批量修改多台计算机的密码，对于域管理员批量重置某些本地账户密码时非常有用 pspasswd \\\\计算机名 -u User -p Password &lt;账户名称&gt; &lt;新密码&gt; PsSuspend该命令行工具与 PsKill 比较类似但不是杀掉进程，它主要用于暂停某个进程的工作 要将已暂停的进程恢复到工作状态，只需加上 -r 参数即可 pssuspend \\\\计算机名 &lt;PID或进程名&gt; PsServicePsService 命令行工具可操作 Windows 中的各种服务，其语法如下 psservice \\\\计算机名 &lt;操作&gt; &lt;服务名&gt; 用的操作有start（启动）、stop（停止）、pause（暂停）、restart（重启），要查看详细参数可以使用 PsService /? TCPViewTCPView 是用于查看当前 Windows 应用程序和服务连网状态的绝佳工具，通过它我们可以在图形界面中查看到类似使用 netstat 命令输出的大部分信息。 与其它 Sysinternals 工具的颜色标识类似，绿色条目表示刚建立连接、红色表示连接正在关闭，而黄色则表示更改了连接指向 RamMapRamMap 工具主要用于分析物理内存的使用情况，它以可视化的图形界面进行输出显示。在 RamMap 界面中，你可以查看到非常详细的内存用量，例如：空闲内存、页面缓冲池、非页面缓冲池、已提交和已缓存等条目的详细情况，比任务管理器中的内存显示强大多了。 AutologonAutologon 可以快速实现Windows自动登录（有登录密码情况下）在打开之后，只需输入要用于自动登录的账户和密码即可。 其它自动登录的方法 http://www.sysgeek.cn/auto-login-windows-10/ AccessEnumAccessEnum 是我在做文件夹权限排错时最常用的一个工具，在我们对某个文件夹进行过复杂的权限配置后，AccessEnum 工具可以非常容易帮助我们理清文件夹或注册表的最终访问控制列表。 SigCheckSigCheck 命令行工具最常用的是 -u 参数，它只报告有问题的文件；-e 参数表示只对可执行文件进行检查。所以，我们可以使用如下命令对 C:\\Windows\\System32 （或某个其它）文件夹进行快速检查： sigcheck -e -u C:\\Windows\\System32 在发现异常文件时，可以使用 -v 参数开启 VirusTotal 校验 sigcheck -v -vt &lt;文件名&gt; Contigcontig &lt;文件名&gt; 如果你要分析一个文件的碎片而不实际整理，可以使用 -a 参数 du而 du 是 Sysinternals 套件中的命令行磁盘和文件夹大小查看工具。du 命令行工具的存在主要是因为其显示更为准确，而且在计算空间时不会计数符号链接文件 其中 -n 参数在统计大小时不递归在子文件夹，-v 参数将详细列表显示子文件夹大小（KB），-l 参数可以单独控制子文件夹递归层级（默认为 1） Disk2vhdDisk2vhd 小工具可将正在运行计算机的磁盘克隆成 VHD 虚拟磁盘文件，因此它也成为不少虚拟化项目中的 P2V 转换工具 autoruns 粉红色：表示该条目对应的应用没有数字签名、签名不匹配或没有发行商信息 黄色：表示该启动条目对应的文件已经不存在了 绿色：该功能不太常用，简单来说就是我们可以在使用 File — Save 对启动项目进行导出成 .arn 格式进行存储，之后有可能在 Autoruns 里面对启动条目进行了配置，然后再在 File — Compare 里面载入之前导出的 .arn 文件即可对不同时间和状态下 Windows 启动条目进行对比，对比出来的差异将以绿色高亮进行显示。 参考文章 https://www.sysgeek.cn/?s=SysInternals%E7%B3%BB%E5%88%97","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"如何正确对用户密码进行加密","slug":"如何正确对用户密码进行加密","date":"2019-09-28T01:18:56.000Z","updated":"2020-02-02T13:26:39.128Z","comments":true,"path":"2019/09/28/ru-he-zheng-que-dui-yong-hu-mi-ma-jin-xing-jia-mi/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/28/ru-he-zheng-que-dui-yong-hu-mi-ma-jin-xing-jia-mi/","excerpt":"","text":"首先,贴上原文链接 https://www.infoq.cn/article/how-to-encrypt-the-user-password-correctly 感觉这篇文章写的很详细,这里做个笔记 哈希 保护密码的最好办法是使用加盐密码哈希（salted password hashing） 不要自己写哈希加密算法！ 哈希算法是一种单向函数。它把任意数量的数据转换为固定长度的“指纹”，而且这个过程无法逆转。 永远不要告诉用户输错的究竟是用户名还是密码。就像通用的提示那样，始终显示：“无效的用户名或密码。”就行了。这样可以防止攻击者在不知道密码的情况下枚举出有效的用户名。 破解哈希 字典攻击和暴力攻击(Dictionary and Brute Force Attacks) 查表法(Lookup Tables):对于破解相同类型的哈希值，查表法是一种非常高效的方式。主要理念是预先计算（pre-compute）出密码字典中的每个密码的哈希值，然后把他们相应的密码存储到一个表里。一个设计良好的查询表结构，即使包含了数十亿个哈希值，仍然可以实现每秒钟查询数百次哈希。 反向查表法(Reverse Lookup Tables): 首先，攻击者从被黑的用户帐号数据库创建一个用户名和对应的密码哈希表，然后，攻击者猜测一系列哈希值并使用该查询表来查找使用此密码的用户。通常许多用户都会使用相同的密码，因此这种攻击方式特别有效。 彩虹表(Rainbow Tables) 彩虹表是一种以空间换时间的技术。与查表法相似，只是它为了使查询表更小，牺牲了破解速度。因为彩虹表更小，所以在单位空间可以存储更多的哈希值，从而使攻击更有效。能够破解任何最多 8 位长度的 MD5 值的彩虹表已经出现。 加盐(salting)hash(&quot;hello&quot;) &#x3D; 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824 hash(&quot;hello&quot; + &quot;QxLUF1bgIAdeQX&quot;) &#x3D; 9e209040c863f84a31e719795b2577523954739fe5ed3b58a75cff2127075ed1 hash(&quot;hello&quot; + &quot;bv5PehSMfV11Cd&quot;) &#x3D; d1d3ec2e6f20fd420d50e2642992841d8338a314b8ea157c9e18477aaef226ab hash(&quot;hello&quot; + &quot;YYLmfY6IehjZMQ&quot;) &#x3D; a49670c3c18b9e079b9cfaf51634f563dc8ae3070db 查表法和彩虹表只有在所有密码都以完全相同的方式进行哈希加密才有效。如果两个用户有相同的密码，他们将有相同的密码哈希值。我们可以通过“随机化”哈希，当同一个密码哈希两次后，得到的哈希值是不一样的，从而避免了这种攻击。 盐值无需加密。由于随机化了哈希值，查表法、反向查表法和彩虹表都会失效。因为攻击者无法事先知道盐值，所以他们就没有办法预先计算查询表或彩虹表。如果每个用户的密码用不同的盐再进行哈希加密，那么反向查表法攻击也将不能奏效。 盐值不能太短或重复使用 盐值应该使用加密的安全伪随机数生成器（ Cryptographically Secure Pseudo-Random Number Generator，CSPRNG ）产生。 每个用户的每一个密码都要使用独一无二的盐值。用户每次创建帐号或更改密码时，密码应采用一个新的随机盐值。永远不要重复使用某个盐值。这个盐值也应该足够长，以使有足够多的盐值能用于哈希加密。一个经验规则是，盐值至少要跟哈希函数的输出一样长。该盐应和密码哈希一起存储在用户帐号表中。 尽量不要使用双重哈希或古怪的哈希函数 哈希碰撞(Hash Collisions)由于哈希函数将任意大小的数据转化为定长的字符串，因此，必定有一些不同的输入经过哈希计算后得到了相同的字符串的情况。加密哈希函数（ Cryptographic hash function）的设计初衷就是使这些碰撞尽量难以被找到。现在，密码学家发现攻击哈希函数越来越容易找到碰撞了。最近的例子是 MD5 算法，它的碰撞已经实现了。 存储密码的步骤1. 使用 CSPRNG 生成足够长的随机盐值 2. 将盐值混入密码，并使用标准的密码哈希函数进行加密，如 Argon2、 bcrypt 、 scrypt 或 PBKDF2 3. 将盐值和对应的哈希值一起存入用户数据库 校验密码的步骤1. 从数据库检索出用户的盐值和对应的哈希值 2. 将盐值混入用户输入的密码，并且使用通用的哈希函数进行加密 3. 比较上一步的结果，是否和数据库存储的哈希值相同。如果它们相同，则表明密码是正确的；否则，该密码错误 在 Web 应用中，永远在服务端上进行哈希加密 如果您正在编写一个 Web 应用，你可能会疑惑究竟在哪里进行哈希加密，是在用户的浏览器上使用 JavaScript 对密码进行哈希加密呢，还是将明文发送到服务端上再进行哈希加密呢？ 就算浏览器上已经用 JavaScript 哈希加密了，但你你还是要在服务端上将得到的密码哈希值再进行一次哈希加密。试想一个网站，将用户在浏览器输入的密码经过哈希加密，而不是在传送到服务端再进行哈希。为了验证用户，这个网站将接受来自浏览器的哈希值，并和数据库中的哈希值进行匹配即可。因为用户的密码从未明文传输到服务端，这样子看上去更安全，但事实并非如此。 问题是，从客户端的角度来看，经过哈希的密码，从逻辑上成为用户的密码了。所有用户需要做的认证就是将它们的密码哈希值告诉服务端。如果一个攻击者得到了用户的哈希值，他们可以用它来通过认证，而不必知道用户的明文密码！所以，如果攻击者使用某种手段拖了网站的数据库，他们就可以随意使用每个人的帐号直接访问，而无需猜测任何密码。 使密码更难破解: 慢哈希函数(Slow Hash Funciton)加盐可以预防查询表和彩虹表那样的破解,但是阻止不了字典或暴力破解. 高端显卡（ GPU ）和定制的硬件每秒可以进行十亿次哈希计算,为了降低这些攻击的效率,我们可以使用一个叫做密钥扩展(key stretching)的技术 密钥扩展的实现使用了一种 CPU 密集型哈希函数（ CPU-intensive hash function）。不要试图去创造你自己的迭代哈希加密函数。迭代不够多的话，它可以被高效的硬件快速并行计算出来，就跟普通的哈希一样 这类算法采取安全因子或迭代次数作为参数。此值决定哈希函数将会如何缓慢。对于桌面软件或智能手机应用，确定这个参数的最佳方式是在设备上运行很短的性能基准测试，找到使哈希大约花费半秒的值。通过这种方式，程序可以尽可能保证安全而又不影响用户体验。 如果您想在一个 Web 应用使用密钥扩展，须知你需要额外的计算资源来处理大量的身份认证请求，并且密钥扩展也容易让服务端遭受拒绝服务攻击（ DoS ）。尽管如此，我还是建议使用密钥扩展，只不过要设定较低一些的迭代次数。这个次数需要根据自己服务器的计算能力和预计每秒需要处理的认证请求次数来设置。消除拒绝服务的威胁可以通过要求用户每次登陆时输入验证码（CAPTCH）来做到。系统设计时要将迭代次数可随时方便调整 如果你担心计算带来负担，但又想在 Web 应用中使用密钥扩展，可以考虑在浏览器中使用 JavaScript 完成。斯坦福大学的 JavaScript 加密库就包含了 PBKDF2 的实现。迭代次数应设置足够低，以适应速度较慢的客户端，如移动设备。同时，如果用户的浏览器不支持 JavaScript ，服务端应该接手进行计算。客户端密钥扩展并不能免除服务端端进行哈希加密的需要。你必须对客户端生成的哈希值再次进行哈希加密，就跟普通口令的处理一样。 大多数数据库被拖库是由于 SQL 注入攻击，因此，不要给攻击者进入本地文件系统的权限（禁止数据库服务访问本地文件系统，如果有此功能的话）。如果您生成一个随机密钥并将其存储在一个通过 Web 无法访问的文件上，然后进行加盐哈希加密，那么得到的哈希值就不会那么容易被破解了，就算数据库已经遭受注入攻击，也是安全的 其他安全措施Web 应用漏洞的重要资源: The Open Web Application Security Project OWASP Top Ten Vulnerability List 千万不要通过电子邮件向用户发送新密码。记得在用户重置密码时随机生成一个新的盐值用来加密，不要重复使用已用于密码哈希加密的旧盐值。 看到这里,我发现自己以前多么愚蠢,让客户一点用户体验都没有 不要过于频繁地强制你的用户更改密码，最多每半年一次，超过这个次数，用户就会感到疲劳。相反，更好的做法是教育用户，当他们感觉密码可能泄露时主动修改，并且提示用户不要把密码告诉任何人。如果这是一个商业环境，鼓励员工利用工作时间熟记并使用他们的密码。 如果有人入侵您的数据库，他们很可能已经能够访问您的服务端上的所有内容，这样他们就不需要登录到您的帐号，就可以获得他们想要的东西。密码哈希（对网站而言）的目的不是为了保护被入侵的网站，而是在入侵已经发生时保护数据库中的密码。 嗯,就写到这里吧.我也不是安全人员,只是略微了解而已,如果想看到原文,可以看一下文章头的原链接","categories":[],"tags":[{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Chrome开发者调试工具笔记","slug":"Chrome开发者调试工具笔记","date":"2019-09-23T02:00:28.000Z","updated":"2020-02-02T13:22:40.077Z","comments":true,"path":"2019/09/23/chrome-kai-fa-zhe-diao-shi-gong-ju-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/23/chrome-kai-fa-zhe-diao-shi-gong-ju-bi-ji/","excerpt":"","text":"(未完待续) Chrome 浏览器内截图按下F12,然后Ctrl+Shift+P,然后输入Screenshot,有几种截图方式供你选择.截图之后,图片会自动下载 打开设置界面在开发者工具里面,按下F1,即可打开设置 在这里,你可以设置界面为Dark模式,这个对我太重要,不然白茫茫的一片,眼睛都要瞎了…… 或者,我们按下 Ctrl + Shift + P ,可以打开命令菜单","categories":[],"tags":[{"name":"前端","slug":"前端","permalink":"https://blog.bingfengs.xyz/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Chrome","slug":"Chrome","permalink":"https://blog.bingfengs.xyz/tags/Chrome/"}]},{"title":"Npm 笔记","slug":"Nmp笔记","date":"2019-09-22T02:37:18.000Z","updated":"2021-08-07T12:14:52.467Z","comments":true,"path":"2019/09/22/nmp-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/22/nmp-bi-ji/","excerpt":"","text":"参考的原文地址: https://www.kancloud.cn/shellway/npm-doc/199983 包的概念这些可复用代码被称作”包”，有时也叫做”模块”。包仅是一个包含一些文件的目录，以及一个名称为 “package.json” 的文件，此文件中包含了一些有关此包的元数据 npm 是作为 node 的包管理器开始的，所以你可以找到很多可用于服务器端的包。 安装 npm 包有两种方式：本地安装或 全局安装。根据你想如何使用包，你可以选择安装方式。 如果你想要从你自己的模块中通过使用 Node.js 的 require 方法来依赖某个包，那你可以本地安装这个包，这是npm安装的默认行为。另外，如果你想当做命令行工具使用它，比如 grunt CLI，那你应该全局安这个包。 译注：所谓 “本地安装”，就是在项目文件夹中安装 npm 依赖包，以便此项目调用；“全局安装”相反，安装之后可以供所有项目直接调用，可以免去重复安装的步骤和空间。 使用下面命令安装 npm install &lt;package_name&gt; 此命令将在你的当前目录创建node_modules目录（若还未安装任何包），并将下载此包到这个目录。 测试为确保 npm 安装正确工作，请检查 node_modules 目录是否存在，以及其下是否包含你安装的包目录。你可以在 Unix 系统（如OSX、Debian）中执行 ls node_modules 命令或在 Windows 系统中执行 dir node_modules 命令来检查。 操作初始化运行如下命令 npm init 此为初始化项目命令，会在你运行此命令的文件夹根目录下创建项目配置文件：package.json。同时每行会出现一个问题，你输入答案后会出来另一个问题。这些问题最终会记录到 package.json 文件中。 npm init --yes 这样就不会要你回答问题了 升级 npm&#x2F;&#x2F;更新最新版本 npm install npm@latest -g &#x2F;&#x2F;测试最新版本 npm install npm@next -g 安装npm install &lt;package_name&gt; npm install &lt;package_name&gt;@版本号 npm install &lt;pagkage_name&gt;@latest 清楚本地缓存npm cache clear 添加依赖“dependencies”: 您的应用程序在生产中需要这些包.“devDependencies”: 这些包只用于开发和测试. &#x2F;&#x2F;添加到 dependencies npm install &lt;package_name&gt; --save &#x2F;&#x2F;添加到 devDependencies npm install &lt;package_name&gt; --save-dev 更新本地包运在 package.jso n同级目录下，运行npm update命令，来实现依赖包的更新。 全局操作npm install -g &lt;package&gt; 更新全局包,只需再全局安装一下 查看哪些安装包需要更新, npm outdated -g --depth&#x3D;0 更新所有全局包 npm update -g 卸载全局包 npm uninstall -g &lt;package&gt; 删除本地模块npm uninstall 模块 删除本地模块时你应该思考的问题：是否将在package.json上的相应依赖信息也消除？ &gt; npm uninstall 模块 #删除模块，但不删除模块留在package.json中的对应信息 &gt; npm uninstall 模块 --save #删除模块，同时删除模块留在package.json中dependencies下的对应信息 &gt; npm uninstall 模块 --save-dev #删除模块，同时删除模块留在package.json中devDependencies下的对应信息 信息查看npm list -g 或 npm ls -g &#x2F;&#x2F;获得全局安装的模块 npm list &lt;package&gt;或 npm ls &lt;package&gt; &#x2F;&#x2F;查看模块的版本号 npm info &lt;package&gt; &#x2F;&#x2F;显示包的信息 一些参数-S 或 --save：包被写入到package.json的 dependencies。 -D 或 --save-dev：包被写入到package.json的 devDependencies。 -O 或 --save-optional：包被写入到package.json的optionalDependencies -B 或 --save-bundle ： 包也将被添加到bundleDependencies。 -E 或 --save-exact ：会在 package.json 文件指定安装模块的确切版本。 listnpm list 命令以树型结构列出当前项目安装的所有模块，以及它们依赖的模块。 npm list -g 查看全局的安装 版本号&quot;dependencies&quot;: &#123; &quot;bluebird&quot;: &quot;^3.3.4&quot;, &quot;body-parser&quot;: &quot;~1.15.2&quot; &#125; 当我们使用最新的Node运行 npm instal --save xxx，的时候，他会优先考虑使用插入符号（^）而不是波浪符号（~）了 在项目下的 package.json 文件，可以指定 package 的版本号 ^ : 会把当前库的版本更新到当前 major version（也就是第一位数字）中最新的版本。放到我们的例子中就是：bluebird:^3.3.4，这个库会去匹配 3.x.x 中最新的版本，但是他不会自动更新到 4.0.0 ~ : 会更新到当前 minor version（也就是中间的那位数字）中最新的版本。放到我们的例子中就是：body-parser: ~1.15.2，这个库会去匹配更新到 1.15.x 的最新版本，如果出了一个新的版本为 1.16.0，则不会自动升级 1.15.2 对应就是 MAJOR MINOR PATCH 1 是 marjor version15 是 minor version2 是 patch version MAJOR：这个版本号变化了表示有了一个不可以和上个版本兼容的大更改。 MINOR：这个版本号变化了表示有了增加了新的功能，并且可以向后兼容。 PATCH：这个版本号变化了表示修复了bug，并且可以向后兼容。 参考 https://www.cnblogs.com/penghuwan/p/6973702.html https://juejin.cn/post/6858476253901651982 https://blog.csdn.net/njweiyukun/article/details/70309066","categories":[],"tags":[{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"JS","slug":"JS","permalink":"https://blog.bingfengs.xyz/tags/JS/"},{"name":"NPM","slug":"NPM","permalink":"https://blog.bingfengs.xyz/tags/NPM/"}]},{"title":"记录一下部署本博客遇到的问题","slug":"记录一下部署本博客遇到的问题","date":"2019-09-21T06:58:15.000Z","updated":"2021-07-29T14:03:53.602Z","comments":true,"path":"2019/09/21/ji-lu-yi-xia-bu-shu-ben-bo-ke-yu-dao-de-wen-ti/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/ji-lu-yi-xia-bu-shu-ben-bo-ke-yu-dao-de-wen-ti/","excerpt":"","text":"npm安装脚本速度慢方便一点，我直接更改为阿里的国内镜像 npm config set registry https://registry.npm.taobao.org npm 使用代理后面加上 -proxy=http://127.0.0.1:1080 安装 Hexonpm install -g hexo-cli 连接Github与本地git config –global user.name “godweiyang”git config –global user.email “&#55;&#x39;&#x32;&#51;&#x32;&#x31;&#x32;&#x36;&#x34;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#x6d;“ 测试与Github的连接ssh -T &#103;&#x69;&#116;&#64;&#x67;&#105;&#116;&#104;&#117;&#98;&#x2e;&#x63;&#111;&#x6d; 配置文件的更改为了与github通信，我们修改博客根目录下面的_config.yml增加如下内容： deploy: type: git repository: git@github.com:user_name&#x2F;repository_name.git branch: master 使用第三方主题我用的是这个主题，有点小bug，不过总体效果还是不错的 https://github.com/blinkfox/hexo-theme-matery 文章头设置首先为了新建文章方便，建议将/scaffolds/post.md修改为如下代码： --- title: &#123;&#123; title &#125;&#125; date: &#123;&#123; date &#125;&#125; top: false cover: false password: toc: true mathjax: true summary: tags: categories: --- 添加动漫人物安装live2d npm install --save hexo-helper-live2d 安装模型 npm install live2d-widget-model-shizuku 更多模型请参考 https://github.com/xiazeyu/live2d-widget-models 在根目录配置文件中添加如下代码 # Live2D ## https:&#x2F;&#x2F;github.com&#x2F;EYHN&#x2F;hexo-helper-live2d ## https:&#x2F;&#x2F;l2dwidget.js.org&#x2F;docs&#x2F;class&#x2F;src&#x2F;index.js~L2Dwidget.html#instance-method-init live2d: enable: true #enable: false scriptFrom: local # 默认 pluginRootPath: live2dw&#x2F; # 插件在站点上的根目录(相对路径) pluginJsPath: lib&#x2F; # 脚本文件相对与插件根目录路径 pluginModelPath: assets&#x2F; # 模型文件相对与插件根目录路径 # scriptFrom: jsdelivr # jsdelivr CDN # scriptFrom: unpkg # unpkg CDN # scriptFrom: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;live2d-widget@3.x&#x2F;lib&#x2F;L2Dwidget.min.js # 你的自定义 url tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中 debug: false # 调试, 是否在控制台输出日志 model: use: live2d-widget-model-hibiki # use: live2d-widget-model-wanko # npm-module package name # use: wanko # 博客根目录&#x2F;live2d_models&#x2F; 下的目录名 # use: .&#x2F;wives&#x2F;wanko # 相对于博客根目录的路径 # use: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;live2d-widget-model-wanko@1.0.5&#x2F;assets&#x2F;wanko.model.json # 你的自定义 url display: position: right width: 145 height: 315 mobile: show: true # 是否在移动设备上显示 scale: 0.5 # 移动设备上的缩放 react: opacityDefault: 0.7 opacityOnHover: 0.8 到这里，就完成了 这里有一些扩展的知识，我mark下来备用 https://www.wikimoe.com/?post=158 https://imjad.cn/archives/lab/add-dynamic-poster-girl-with-live2d-to-your-blog-03 添加网易外链播放首先复制网易外链播放器生成的HTML代码，然后粘贴到文章里面就行了，你也可以居中一下 &lt;div align&#x3D;&quot;middle&quot;&gt;这里粘贴刚刚复制的代码&lt;&#x2F;div&gt; 新建标签 tags 页hexo new page “tags” 编辑/source/tags/index.md，替换里面的内容为 --- title: tags date: 2018-09-30 18:23:38 type: &quot;tags&quot; layout: &quot;tags&quot; --- 添加搜索功能npm install hexo-generator-search –save 在 Hexo根目录下_config.yml ，新增如下内容 search: path: search.xml field: post 中文链接转拼音（可选的）如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 SEO，且 gitment 评论对中文链接也不支持。我们可以用 hexo-permalink-pinyin Hexo 插件使在生成文章时生成中文拼音的永久链接。 npm i hexo-permalink-pinyin –save 在 Hexo 根目录下的 _config.yml 文件中，新增以下的配置项： permalink_pinyin: enable: true separator: &#39;-&#39; # default: &#39;-&#39; 修改页脚页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 /layout/_partial/footer.ejs 文件中，包括站点、使用的主题、访问量等。 Front-matterFront-matter 选项中的所有内容均为非必填的。但我仍然建议至少填写 title 和 date 的值。 修改主题颜色在主题文件的 /source/css/matery.css 文件中，搜索 .bg-color 来修改背景颜色 修改 banner 图和文章特色图你可以直接在 /source/medias/banner 文件夹中更换你喜欢的 banner 图片，主题代码中是每天动态切换一张，只需 7 张即可。 在 /source/medias/featureimages 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 _config.yml 做同步修改。 修改最底下进度条的颜色，大小找到文件Blog\\themes\\hexo-theme-matery\\source\\css\\matery.css 然后找到如下 class 修改 让代码块自动换行有时使用了代码块引用了一段文字，但是没有换行，导致出现进度条，很难阅读 解决方法；在matery.css的pre标签增加如下内容 修改valine评论bug如果你用的标题字体，那么会出行如下问题 修改主题文件夹下面的valine.ejs，添加如下内容 div .vcontent&#123; padding-left: 10px; &#125; 推送到GitHub安裝一個插件 npm install hexo-deployer-git --save 然後 hexo d 手動推送不幸的是，上述命令虽然简单方便，但是偶尔会有莫名其妙的问题出现，因此，我们也可以追本溯源，使用git命令来完成部署的工作。 克隆GitHub的仓库到本地 将我们之前创建的repo克隆到本地，新建一个目录叫做deploy用于存放克隆的代码。 cd d:/hexo/blog git clone https://github.com/jiji262/jiji262.github.io.git deploy/ 新建一个脚本,注意,此脚本放置在根目录下面 hexo generate cp -R public&#x2F;* deploy&#x2F; cd deploy&#x2F; git add . git commit -m “update” git push origin master 详情参见: https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/ 设置Git代理国内的环境,大家都懂的.有时push发现速度慢的化,不如试试指定代理 设置http代理git config --global http.proxy http:&#x2F;&#x2F;127.0.0.1:1080 git config --global https.proxy https:&#x2F;&#x2F;127.0.0.1:1080 设置socks5代理git config --global http.proxy socks5:&#x2F;&#x2F;127.0.0.1:1080 git config --global https.proxy socks5:&#x2F;&#x2F;127.0.0.1:1080 取消代理git config --global --unset http.proxy git config --global --unset https.proxy 更多资讯,请参考下方链接 http://ralphbupt.github.io/2017/04/24/git%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE%E4%B8%8E%E5%8F%96%E6%B6%88/ ssh 通过代理连接 ssh -o ProxyCommand=”nc -x 127.0.0.1:1086 %h %p” &#x72;&#x6f;&#111;&#x74;&#x40;&#x31;&#48;&#49;&#46;&#49;&#x32;&#49;&#46;&#x32;&#49;&#56;&#46;&#50;&#x33;&#52; 更多情况,参考下面链接: https://www.xiebruce.top/650.html 修改后实时更新情况如果你是在本地测试,浏览器调用的是博客根目录下面的source文件夹(而不是public里面的)当你添加完或者修改一篇文章后,在浏览器可以直接刷新实时查看修改. 对于主题,修改一下css也是可以直接生效的,不需要重启服务.但是,如果涉及到修改博客根目录下面的_config.yml等文件,就需要重启服务了","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"Hexo","slug":"Hexo","permalink":"https://blog.bingfengs.xyz/tags/Hexo/"},{"name":"Git","slug":"Git","permalink":"https://blog.bingfengs.xyz/tags/Git/"}]},{"title":"深信服防火墙初探","slug":"深信服防火墙初探","date":"2019-09-21T02:22:51.000Z","updated":"2020-02-02T13:27:33.309Z","comments":true,"path":"2019/09/21/shen-xin-fu-fang-huo-qiang-chu-tan/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/shen-xin-fu-fang-huo-qiang-chu-tan/","excerpt":"","text":"各种malware（恶意软件） 区别 https://matcitsupport.org/what-are-the-differences-between-adware-virus-worms-spyware-trojan-rootkits-backdoors-logic-bomb-and-botnets/ Adware：广告软件，可以让广告商追踪你的访问记录。在中国有一个更贴切的名称–“流氓软件”。这些软件严重损害用户利益。比如2345，腾讯，360等厂商旗下的一些软件。 Virus： 病毒，通过文件分享或邮件传播，占用系统资源，导致电脑崩溃。有时可以自我传播 Worms：蠕虫（也称蠕虫病毒）和病毒很像，但是会自我扩散。它利用应用程序的漏洞起作用 Spyware：间谍软件，感染之后，一般不会发现它的存在，会收集你的信息，如账号密码，屏幕截图，然后发送给攻击者 Trojan：木马（特洛伊），名字源于古希腊的木马攻城计。病毒可以伪装成正常的应用。比如你下载了一个激活软件，但是里面却包含有一个记录你键盘输入的木马 Rootkits：这个暂时没找到中文名。这种恶意软件一开始的设计就是隐藏自己，来逃过系统和杀毒软件的检测。这个东西会监视你的网络流量还有键盘输入等。主要影响“user-mode applications” ，当然，也会影响内核，固件。 它可以摧毁或者使杀毒软件无效。因此，Rootkits使很难追踪和清除的。它可以隐藏的很好 Backdoors：后门，注重隐藏，允许控制者执行他们想要的动作，一般为下一步的进攻做准备。被感染的机器俗称“肉鸡”。 Logic bomb：逻辑炸弹，在固定的时间造成损害，在活跃之前，完全无害。主要破坏数据库 Botnets：僵尸网络。一片网络的电脑感染了恶意软件。通常隐蔽的很好，在必要的时候，攻击者可以操控这些感染了的机器执行特定任务，比如DDOS攻击 防护类型SQL注入、xss攻击、网页木马、网站扫描、webshell、跨站请求伪造、系统命令注入、文件包含攻击、目录遍历攻击、信息泄漏攻击、web整站系统漏洞 僵尸网络判断检查目的地址，结合深信服自己发现的以及一些第三方威胁情报机构。如：微步在线发现的木马服务器地址库进行判断 弱密码检测通过分析经过的流量，根据关键字提取疑似密码的字符串和弱密码库对比 防火墙规则库防火墙的规则库会自动更新，一般是一、二周更新一次的，规则库更新会涉及收费的，以年为单位 服务器web漏洞攻击scan漏洞攻击口令暴力破解攻击僵尸网络活动弱密码漏洞配置错误漏洞方法过滤其他CNNVD 漏洞库 查询 http://www.cnnvd.org.cn/index.html 中国还有一个的 CNVD ，不要搞错这两者 漏洞编号 https://blog.csdn.net/tinyletero/article/details/25277507 CVE 编号的过程 http://blog.nsfocus.net/cve-vulnerability-numbers-officially-disclose/ 国外漏洞公布网站 https://blog.csdn.net/samxx8/article/details/82805046 漏洞专报 https://zhuanlan.zhihu.com/p/28205621 绵羊墙绵羊墙（The Wall of Sheep） 相当于耻辱柱 最后另外，附上一份官方说明书 点击下载","categories":[],"tags":[{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"},{"name":"防火墙","slug":"防火墙","permalink":"https://blog.bingfengs.xyz/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"}]},{"title":"华为三层交换机备份恢复配置文件","slug":"华为三层交换机备份恢复配置文件","date":"2019-09-21T02:12:49.000Z","updated":"2020-02-02T13:26:31.401Z","comments":true,"path":"2019/09/21/hua-wei-san-ceng-jiao-huan-ji-bei-fen-hui-fu-pei-zhi-wen-jian/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/hua-wei-san-ceng-jiao-huan-ji-bei-fen-hui-fu-pei-zhi-wen-jian/","excerpt":"","text":"一、使用Console进行配置首次使用此交换机，必须通过console口配置，完成后才可以使用WEB页面进行进一步的配置操作 使用上图的线分别连接电脑的usb口和交换机的CONSOLE口 然后，查看电脑是否已经安装好驱动，如下图所示。如果显示异常，用驱动大师等打驱动 使用 putty 或者华为的 IPOP 软件 点击这里下载IPOP软件 这里，我以putty为例，打开软件后，按下图填写， 【COM3】这个通过在设备管理器那里查看获取 然后，就进入了控制台，如果没有反应，按一下回车键 二、初始化交换机参考网址：https://support.huawei.com/enterprise/zh/knowledge/EKB1000067741 如下是知道密码的方法：进入Console，输入下方命令，进入系统视图 system-view 然后输入 undo startup saved-configuration ctrl+z 退出 系统视图，进入用户视图，输入 reset saved-configuration 在出现的提示中输入 【y】 然后，输入 reboot 重启设备，此时系统会提示两次选择，第一次提示是否保存当前配置，选择N，第二次提示是否重启，选择Y。 重启完成后设备即恢复出厂设置。 如果不知道密码，则使用下方的方法按下开关，重启交换机 重启过程中，出现如下提示,按下Ctrl+B 进入 BOOTROM 菜单 Press Ctrl+B to enter BootROM menu … 2 然后输入默认密码： &#x41;&#100;&#x6d;&#x69;&#x6e;&#x40;&#104;&#x75;&#97;&#119;&#101;&#x69;&#46;&#99;&#x6f;&#109; 输入 7 ，选择如下选项： Clear password for console user 之后输入 1 ， 选择如下选项： Boot with default mode 然后，按照上面知道密码的方法重置交换机 三、开启WEB管理界面参考文档：https://support.huawei.com/enterprise/zh/knowledge/EKB1000067408 在Console下，输入 dir , 查看是否有 WEB.zip 或 WEB.7z 等字样的文件 dir 之后输入 sy ， 进入系统视图, 按照下方操作 sy http server load xxxxx.web.zip //加载WEB文件，如果有加载过，则忽略 http server enable //开启WEB aaa local-user 用户名 pass cip 密码 //设置登陆账号密码，替换 “用户名” 和 “密码” local-user 用户名 service-type http //设置账号的服务类型 local-user 用户名 privilege level 15 //设置账号的权限等级，用户的优先级分为16个级别，级别标识为0～15，标识越高则优先级越高。 quit int vlan 1 ip add x.x.x.x 24 //配置登陆的接口IP地址 quit save //保存配置 之后，用网线连接电脑和交换机。网线接交换机的LAN口，电脑设置ip 跟刚才设置的IP 同网段，然后浏览器访问该网址即可。 如果在浏览器访问过程中，有些地方不能操作，可能是浏览器问题，换成IE的吧 四、启用交换机的Telnet system-view //输入命令进入系统视图 ,符号由 变为[sysname] telnet server ? // 查看telnet的参数 ，如 enable 或 disable telnet server enable // 开启交换机的telnet服务 telnet server port 23 // 可选，配置telent端口 （默认为23） user-interface maximum-vty 5 // 默认为5，此选项可选，配置VTY用户界面的最大个数（同时可以登录的最大数） user-interface vty 0 4 // 因为上面设置为 5 ， 所以这里填写 0（第一个界面）和4（最后一个界面），总共选择5个界面 protocol inbound telnet //配置 vty 支持 telnet 协议 authentication-mode aaa // 这些界面使用aaa认证 quit //退出vty配置界面 aaa // 进入 aaa 配置界面 local-user 用户名 password ? // 查看可以设置的密码类型 local-user teluser password irreversible-cipher General@1 //添加一个用户名为【teluser】的用户，密码为【General@1】，密码类型为不可逆加密 local-user teluser service-type telnet http // 配置 teluser 这个用户可以使用的服务类型，这里给它配置了 telnet 和 http local-user teluser privilege level 15 // 等级越高，权限越大，0-15 quit quit save // 保存配置 到这里，交换机的Telnet服务就配置好了，剩下的，就是打开pc端，运行cmd ，输入命令 telnet 192.168.1.22 //后面的ip 为交换机的ip 之后输入用户名和密码，后面的操作跟 Console 是一样的 五、使用ftp备份还原交换机配置文件首先，使用IPOP这个软件在本地电脑开启Ftp服务，将电脑作为ftp服务器 电脑开启ftp成功后，用Console或telent连接上交换机后台，将交换机作为ftp客户端，按如下操作 进入系统，后，输入 ftp ： 然后输入，这样就打开了ftp服务器的地址 open 192.168.1.44 //地址为你开启ftp服务电脑的ip 因为ftp服务器没有定义用户和密码，直接按两下回车，进入我们电脑ftp共享的目录，可以输入【dir】查看该共享目录下的文件 这里有两个命令，分别是【get】和【put】，直接在其后面加文件名，就可以上传和备份文件了 [get] 是从服务器下载文件到本地 （即从pc共享目录导入文件到交换机）[put] 是从本地上传文件到服务器 （即从交换机备份文件pc共享目录） 备份交换机配置文件 put vrpcfg.zip backup2019-5-7.zip // [vrpcfg.zip] 这个文件就是交换机的配置文件， [backup2019-5-7.zip] 下载备份文件，另起一个名字 还原交换机配置文件 get backup2019-5-7.zip // 获取pc上的备份文件到交换机，（如果备份的文件名为vrpcfg.zip ,则会提示覆盖该文件，选择【Y】） quit // 退出 ftp startup saved-configuration backup2019-5-7.zip //设置恢复的配置文件为下次启动配置文件 display startup // 显示目前的配置文件状态 reboot //执行重启命令，让还原的配置生效. ** 出现上图的提示，记得选 【 N 】** 然后 提示重启 ，选择 【 Y 】 注意事项： console 和 telnet 密码可以不同，还原后密码可能跟远程telnet不同 还原备份文件，文件一定要有后缀 .zip 另外，附上一个自己华为三层交换机的笔记 点击下载笔记","categories":[],"tags":[{"name":"硬件","slug":"硬件","permalink":"https://blog.bingfengs.xyz/tags/%E7%A1%AC%E4%BB%B6/"},{"name":"交换机","slug":"交换机","permalink":"https://blog.bingfengs.xyz/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"}]},{"title":"PVE使用总结","slug":"PVE使用总结","date":"2019-09-21T01:54:14.000Z","updated":"2020-02-02T13:23:46.629Z","comments":true,"path":"2019/09/21/pve-shi-yong-zong-jie/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/pve-shi-yong-zong-jie/","excerpt":"","text":"这里总结我使用PVE的一些坑 集群创建 首先在三台实体机上安装pve 安装完成后，在其中一台创建集群。登陆PVE的网页管理界面 接下来，在其他2个pve节点，执行 # pvecm add 10.0.77.170 ;其中10.0.77.170是上面创建集群的实体机的ip地址 加入完成之后，可以通过命令在任何一个节点上查看集群情况 # pvecm status 如果要查看集群日志，可以看文件 /var/log/daemon.log 集群建立完成之后，任何一个pve节点的web管理界面视图都可以管理整个集群 删除节点 # pvecm delnode pve 降低Cluster有时候，集群出现错误，比如某些节点发生故障，或网络错误。这时候，一些操作无法完成，甚至虚拟机无法开启 Cluster 中節點數量低於 2 時， Cluster 就會被鎖住，會陷入「no quorum」的狀態 暫時把 Cluster 的期待數量從 2 降低為 1 # pvecm expected 1 重新啟動 Proxmox VE Cluster # service pve-cluster restart 参考资料 http://blog.ilc.edu.tw/blog/index.php?op=printView&amp;articleId=689007&amp;blogId=25793 迁移或复制没有节点如果你想迁移虚拟机到其他节点，但是迁移并没有其他节点的选项，那 在每个节点的shell输入 # pvecm updatecerts -f 迁移过程中出现如下报错found local disk &#39;local:iso&#x2F;cn_windows_server_2012_r2_vl_with_update_x64_dvd_6052729.iso&#39; (referenced by snapshot(s)) 说明要迁移的虚拟机上面有挂载 iso 光盘镜像，需要先移除，包括快照里面的iso，也要移除 https://blog.csdn.net/weixin_34185560/article/details/91830209 克隆备份 克隆：两个节点直接复制虚拟机，不需要重复创建虚拟机 备份：将虚拟机备份到一个文件，如果重装了PVE ，可以直接使用备份文件恢复虚拟机 PVE 克隆不能克隆到其他节点 解决方法：先克隆到本节点，然后迁移 vmware 虚拟机迁移到 pve (Beta) 这个了解即可，我实验失败了，可用的迁移方式见另一个文档 导出vmware 虚拟机 将刚才导出的vmdk文档迁移到pve节点上 执行 格式转换 qemu-img是專門虛擬磁盤映像文件的qemu命令行工具 # qemu-img convert -f vmdk -O 原始映象檔名稱.vmdk 新虛擬機名稱.qcow2 參數說明：convert 將磁盤文件轉換為指定格式的文件-f 指定需要轉換文件的文件格式-O 指定要轉換的目標格式 轉換完成後，將新生產一個目標映像文件，原文件仍保存。 附加raw轉qcow2 # qemu-img convert -f raw centos.img -O qcow2 centos.qcow2 上传ISO镜像，通过sftp上传到以下目录/var/lib/vz/template/iso，但这里上传的iso只能本机显示，如果要让集群中其它的主机也能共享iso，那就要用到共享存储，比如NFS PVE qm 命令过命令“qm importdisk”来实现，qm是QEMU/KVM虚拟机的管理工具，可以将指定的磁盘映像导入到指定的虚拟机的存储中，后面要加所需的命令和参数，具体的格式如下： # qm importdisk 下面是一个具体的实例： # qm importdisk 201 vm-201-disk-1.qcow2 local-lvm 其中，VM的ID为201，磁盘文件为“vm-201-disk-1.qcow2”，存储为“local-lvm”。 # qemu-img convert -f vmdk /mnt/usb/windows-server/windows-server.vmdk -O qcow2 /var/lib/vz/images/100/windows-server.qcow2 PVE 虚拟机无法拍摄快照 如果你的虚拟机里的磁盘格式不支持快照，也就无法做快照 下面的PVE官方的说明 https://pve.proxmox.com/wiki/Storage 要拍快照，可以先把不支持的磁盘卸载掉，然后再做快照 为 local-lvm 增加容量 local-lvm 这个地方一般放置虚拟系统的磁盘文件，很容易爆满，因此。有时，我们需要增加硬盘 进入PVE的后台操作： 首先，停止系统，将固态硬盘接入。然后启动系统 进入系统查看情况 # lsblk # fdisk &#x2F;dev&#x2F;sd? 我新添加的硬盘是sdb，并且为它分了一个sdb1的主分区 然后 pvcreate /dev/sdb1 proxmox里面默认只有一个卷组，名字叫pve，可以通过执行下面命令查看 vgs 我们将添加的硬盘加入到pve这个卷组中去 vgextend pve /dev/sdb1 这一步完成后，我们去网页前台，可以看到已经添加成功，但是还没有生效 之后我们查看一下逻辑卷组，其中，data就是我们需要添加容量的逻辑卷 lvs 之后，开始扩展容量 lvresize –size +50G pve/data pve 是卷组， data是逻辑卷 可以看到，data逻辑卷已经扩容 我们返回前台，容量已经用到了","categories":[],"tags":[{"name":"PVE","slug":"PVE","permalink":"https://blog.bingfengs.xyz/tags/PVE/"},{"name":"虚拟化","slug":"虚拟化","permalink":"https://blog.bingfengs.xyz/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/"}]},{"title":"正则表达式笔记","slug":"正则表达式笔记","date":"2019-09-21T01:52:13.000Z","updated":"2020-02-02T13:27:25.101Z","comments":true,"path":"2019/09/21/zheng-ze-biao-da-shi-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/zheng-ze-biao-da-shi-bi-ji/","excerpt":"","text":"描述正则表达式（英语：Regular Expression，常简写为regex、regexp或RE），又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。 正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。 先了解基本的，后面多练，光靠记忆是记不住的 基础 通常，处理正则表达式的工具会提供一个忽略大小写的选项，如果选中了这个选项，它可以匹配hi,HI,Hi,hI这四种情况中的任意一种 \\b ：代表单词的开头或结尾，也就是单词的分界处 \\bhi\\b ：表示 寻找 hi 这个单词 ，而不会搜索到 him 这种包含 hi 的单词 . ：匹配除了换行符意外的任意字符 * ：不是代表字符，也不是位置，而是数量。它指定 * 前面的内容可以连续重复使用任意次 .* ：代表 任意数量的不包含换行的字符 \\d ：匹配一个数字 \\d&#123;2&#125; ： 表示匹配两个数字，是 \\d\\d 的简写 元字符上面介绍的那些都是元字符 还有下面这些 \\s ：匹配任意的空白符，包括空格，制表符（Tab），换行符，中文全角空格等 \\w ：匹配字母或数字或下划线或汉字等（对汉字的支持情况要参考各个软件的相关文档） \\ba\\w*\\b ：匹配以字母a开头的单词 \\d+ ： 匹配一个或更多连续的数字 。 ** 这里的 + 和 * 是类似的元字符，不同的是 * 匹配重复任意次（可能是0次），而 + 者匹配重复1次或更多次 代码 说明 . 匹配除换行符以外的任意字符 \\w 匹配字幕或数字或下划线或汉字 \\s 匹配任意的空白符 \\d 匹配数字 \\b 匹配单词的开始或结束 ^ 匹配字符串的开始 $ 匹配字符串的结束 ^\\d&#123;5,12&#125;$ ：表示5到12位的QQ号码 字符转义如果要搜索特殊的符号，比如 * 号，那就需要用到转义符 \\ 重复 代码 说明 * 重复零次或更多次 + 重复一次或更多次 ? 重复零次或一次 {n} 重复n次 {n,} 重复n次或更多次 {n,m} 重复n到m次 字符类[aeiou] ： 匹配其中任意一个[0-9] ： 含义与 \\d 一致 ，一位数字[a-z0-9A-Z] ： 含义与 \\w 一致 （英文情况下） 分支条件正则表达式里的分枝条件指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用|把不同的规则分隔开 匹配分枝条件时，将会从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件了 0\\d&#123;2&#125;-\\d&#123;8&#125;|0\\d&#123;3&#125;-\\d&#123;7&#125;这个表达式能匹配两种以连字号分隔的电话号码：一种是三位区号，8位本地号(如010-12345678)，一种是4位区号，7位本地号(0376-2233445) 分组当我们需要重复多个字符，可以用小括号来指定子表达式(也叫做分组) (\\d&#123;1,3&#125;\\.)&#123;3&#125;\\d&#123;1,3&#125;是一个简单的IP地址匹配表达式 不幸的是，上面的表达式也将匹配256.300.888.999这种不可能存在的IP地址。如果能使用算术比较的话，或许能简单地解决这个问题，但是正则表达式中并不提供关于数学的任何功能，所以只能使用冗长的分组，选择，字符类来描述一个正确的IP地址：((2[0-4]\\d|25[0-5]|[01]?\\d\\d?).){3}(2[0-4]\\d|25[0-5]|[01]?\\d\\d?) 反义 代码 说明 \\W 匹配任意不是字幕，数字，下划线，汉字的字符 \\S 匹配任意不是空白符的字符 \\D 匹配任意非数字的字符 \\B 匹配不是单词开头或结束的位置 [^x] 匹配除了x以外的任意字符 [^aeiou] 匹配除了aeiou 这几个字母以外的任意字符 &#96;\\S+&#96; 匹配不包含空白符的字符串。 &#96;&lt;a[^&gt;]+&gt;&#96; 匹配用尖括号括起来的以a开头的字符串。 后向引用使用小括号指定一个子表达式后，匹配这个子表达式的文本(也就是此分组捕获的内容)可以在表达式或其它程序中作进一步的处理。默认情况下，每个分组会自动拥有一个组号，规则是：从左向右，以分组的左括号为标志，第一个出现的分组的组号为1，第二个为2，以此类推。 后向引用用于重复搜索前面某个分组匹配的文本。例如，\\1代表分组1匹配的文本 \\b(\\w+)\\b\\s+\\1\\b 可以用来匹配重复的单词，像go go, 或者kitty kitty。这个表达式首先是一个单词，也就是单词开始处和结束处之间的多于一个的字母或数字(\\b(\\w+)\\b)，这个单词会被捕获到编号为1的分组中，然后是1个或几个空白符(\\s+)，最后是分组1中捕获的内容（也就是前面匹配的那个单词）(\\1) 你也可以自己指定子表达式的组名。要指定一个子表达式的组名，请使用这样的语法：(?\\w+)(或者把尖括号换成’也行：(?’Word’\\w+)),这样就把\\w+的组名指定为Word了。要反向引用这个分组捕获的内容，你可以使用\\k,所以上一个例子也可以写成这样：\\b(?\\w+)\\b\\s+\\k\\b 常用分组语法 零宽断言接下来的四个用于查找在某些内容(但并不包括这些内容)之前或之后的东西，也就是说它们像\\b,^,$那样用于指定一个位置 (?=exp) 比如 \\b\\w+(?=ing\\b) ，匹配以ing结尾的单词的前面部分(除了ing以外的部分)，如查找I’m singing while you’re dancing.时，它会匹配sing和danc (?&lt;=exp) 比如 (?&lt;=\\bre)\\w+\\b 会匹配以re开头的单词的后半部分(除了re以外的部分)，例如在查找reading a book时，它匹配ading (?&lt;=\\s)\\d+(?=\\s)匹配以空白符间隔的数字(再次强调，不包括这些空白符) (?!exp) 断言此位置的后面不能匹配表达式exp。例如：\\d{3}(?!\\d)匹配三位数字，而且这三位数字的后面不能是数字；\\b((?!abc)\\w)+\\b匹配不包含连续字符串abc的单词 (?&lt;!exp) 此位置的前面不能匹配表达式exp：(?&lt;![a-z])\\d&#123;7&#125;匹配前面不是小写字母的七位数字 (?&lt;=&lt;(\\w+)&gt;).*(?=&lt;\\/\\1&gt;)匹配不包含属性的简单HTML标签内里的内容 注释小括号的另一种用途是通过语法(?#comment)来包含注释。例如：2[0-4]\\d(?#200-249)|250-5|[01]?\\d\\d?(?#0-199) 要包含注释的话，最好是启用“忽略模式里的空白符”选项，这样在编写表达式时能任意的添加空格，Tab，换行，而实际使用时这些都将被忽略。启用这个选项后，在#后面到这一行结束的所有文本都将被当成注释忽略掉。例如，我们可以前面的一个表达式写成这样： (?&lt;&#x3D; # 断言要匹配的文本的前缀 &lt;(\\w+)&gt; # 查找尖括号括起来的字母或数字(即HTML&#x2F;XML标签) ) # 前缀结束 .* # 匹配任意文本 (?&#x3D; # 断言要匹配的文本的后缀 &lt;\\&#x2F;\\1&gt; # 查找尖括号括起来的内容：前面是一个&quot;&#x2F;&quot;，后面是先前捕获的标签 ) # 后缀结束 贪婪与懒惰 当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符。以这个表达式为例：a.*b，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索aabab的话，它会匹配整个字符串aabab。这被称为贪婪匹配。 有时，我们更需要懒惰匹配，也就是匹配尽可能少的字符。前面给出的限定符都可以被转化为懒惰匹配模式，只要在它后面加上一个问号?。这样.*?就意味着匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。现在看看懒惰版的例子吧： a.*?b匹配最短的，以a开始，以b结束的字符串。如果把它应用于aabab的话，它会匹配aab（第一到第三个字符）和ab（第四到第五个字符） 为什么第一个匹配是aab（第一到第三个字符）而不是ab（第二到第三个字符）？简单地说，因为正则表达式有另一条规则，比懒惰／贪婪规则的优先级更高：最先开始的匹配拥有最高的优先权——The match that begins earliest wins. 代码/语法 说明 *? 重复任意次，但尽可能少重复 +? 重复1次或更多次，但尽可能少重复 ?? 重复0次或1次，但尽可能少重复 {n,m}? 重复n到m次，但尽可能少重复 {n,}? 重复n次以上，但尽可能少重复 处理选项下面是一些软件可能会带的一些设置选项： IgnoreCase(忽略大小写) 匹配时不区分大小写。 Multiline(多行模式) 更改^和$的含义，使它们分别在任意一行的行首和行尾匹配，而不仅仅在整个字符串的开头和结尾匹配。(在此模式下,$的精确含意是:匹配\\n之前的位置以及字符串结束前的位置.) Singleline(单行模式) 更改.的含义，使它与每一个字符匹配（包括换行符\\n）。 IgnorePatternWhitespace(忽略空白) 忽略表达式中的非转义空白并启用由#标记的注释。 ExplicitCapture(显式捕获) 仅捕获已被显式命名的组。 Python RE 语法使用方法r&#39;ABC\\-001&#39; &#x3D; &#39;ABC\\\\-001&#39; 使用Python的r前缀，就不用考虑转义的问题了 match()方法判断是否匹配，如果匹配成功，返回一个Match对象，否则返回None。 &gt;&gt;&gt; import re &gt;&gt;&gt; re.match(r&#39;^\\d&#123;3&#125;\\-\\d&#123;3,8&#125;$&#39;, &#39;010-12345&#39;) &lt;_sre.SRE_Match object; span&#x3D;(0, 9), match&#x3D;&#39;010-12345&#39;&gt; &gt;&gt;&gt; re.match(r&#39;^\\d&#123;3&#125;\\-\\d&#123;3,8&#125;$&#39;, &#39;010 12345&#39;) &gt;&gt;&gt; 一般的使用方法: test &#x3D; &#39;用户输入的字符串&#39; if re.match(r&#39;正则表达式&#39;, test): print(&#39;ok&#39;) else: print(&#39;failed&#39;) 切分字符串正常切分 &gt;&gt;&gt; &#39;a b c&#39;.split(&#39; &#39;) [&#39;a&#39;, &#39;b&#39;, &#39;&#39;, &#39;&#39;, &#39;c&#39;] 无法识别多个空格 正则切分 &gt;&gt;&gt; re.split(r&#39;\\s+&#39;, &#39;a b c&#39;) [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] 分组功能&gt;&gt;&gt; m &#x3D; re.match(r&#39;^(\\d&#123;3&#125;)-(\\d&#123;3,8&#125;)$&#39;, &#39;010-12345&#39;) &gt;&gt;&gt; m &lt;_sre.SRE_Match object; span&#x3D;(0, 9), match&#x3D;&#39;010-12345&#39;&gt; &gt;&gt;&gt; m.group(0) &#39;010-12345&#39; &gt;&gt;&gt; m.group(1) &#39;010&#39; &gt;&gt;&gt; m.group(2) &#39;12345&#39; 识别合法时间 &gt;&gt;&gt; t &#x3D; &#39;19:05:30&#39; &gt;&gt;&gt; m &#x3D; re.match(r&#39;^(0[0-9]|1[0-9]|2[0-3]|[0-9])\\:(0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]|[0-9])\\:(0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]|[0-9])$&#39;, t) &gt;&gt;&gt; m.groups() (&#39;19&#39;, &#39;05&#39;, &#39;30&#39;) 贪婪匹配正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符 正则编译如果一个正则表达式要重复使用几千次，出于效率的考虑，我们可以预编译该正则表达式，接下来重复使用时就不需要编译这个步骤了，直接匹配： &gt;&gt;&gt; import re # 编译: &gt;&gt;&gt; re_telephone &#x3D; re.compile(r&#39;^(\\d&#123;3&#125;)-(\\d&#123;3,8&#125;)$&#39;) # 使用： &gt;&gt;&gt; re_telephone.match(&#39;010-12345&#39;).groups() (&#39;010&#39;, &#39;12345&#39;) &gt;&gt;&gt; re_telephone.match(&#39;010-8086&#39;).groups() (&#39;010&#39;, &#39;8086&#39;) 最后 https://deerchao.net/tutorials/regex/regex.htm 这个是我参考的网址，这里只做一个简单的总结，方便在后面调用。需要详细的信息，可以查考上面网站","categories":[],"tags":[{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"}]},{"title":"迁移VMware的虚拟机到PVE上","slug":"迁移VMware的虚拟机到PVE上","date":"2019-09-21T01:30:35.000Z","updated":"2020-02-02T13:28:01.690Z","comments":true,"path":"2019/09/21/qian-yi-vmware-de-xu-ni-ji-dao-pve-shang/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/qian-yi-vmware-de-xu-ni-ji-dao-pve-shang/","excerpt":"","text":"重要：优先选择再生龙的迁移方式，这个是离线迁移，能保证迁移前后数据的一致性。而且能在PVE上事先创建硬盘，相比其他方案，后续不容易出现兼容问题 首先，下载如下两个软件软件 第一个是加载一个IDE磁盘的注册表，貌似不用的话，导入到PVE后，虚拟机启动不起来第二个是Vmware官方出品的转移软件，能实现在线和离线转移 这个是再生龙的光盘，挂载在虚拟机上面，然后选择从光盘启动就可以了 在线迁移VM虚拟机操作部分在不关闭VMware虚拟机的情况下，实现转移。但是该方案有缺点，不能确保数据的一致性 首先，在虚拟机运行压缩包里面的“mergeide.reg”，导入注册表 迁移软件安装在你需要迁移的虚拟机上面，不是主机 安装后以管理员身份打开，点击“Convert Machine” 按照下图操作，可以点击“View source details…” 验证连接情况 按照如图选择，需要注意： 位置2，版本一开始不需要选择太高，如果选择到12x，转移后，开启proxmox虚拟机，windows可能会蓝屏。（我测试是这样的，有空各位试试看是否也有这样的情况） 位置3，可以随意起一个英文名 位置4， 必须是U盘或网络位置，不要存放在本地的硬盘里 之后一直下一步，知道向导完成。然后等待导出 导出结束后，在你指定的位置查看文件，我们需要的，是那个容量大的vmdk文件 接下来，我们要把这个vmdk文件丢到PVE服务器能读到的地方，这里我创建了一个NFS服务器，你可以直接拿u盘连接PVE挂载，也可以使用winscp这个神器来上传文件 Proxmox操作部分首先，我们在proxmox创建一个虚拟机，尽量硬件信息跟迁移的机器的配置一样。硬盘这部分的参数需要特别注意，如果你配置迁移后，发现启动不了，或者蓝屏，很大原因是因为硬盘配置有问题 位置1：我这里选择IDE（折腾几次都蓝屏了，不想搞了）后面如果发现性能有问题，可以试试用别的模式 位置2：选择一个存储位置，注意，不要选择local-lvm这个地点，不然后面系统启动不了（连硬盘都识别不到），目前不知道原因 位置3：选择qcow2 我们将刚才的vmdk文件上传，无论上传到NFS之类的服务器，还有PVE实体机本身，要确保PVE本身可以读写。之后，进入PVE实体机的shell qemu-img convert -f vmdk /?/?/…/.vmdk -O qcow2 /var/lib/vz/images/100/.qcow2 上面 /?/?…/*.vmdk 是你上传vmdk的位置/var/lib/vz/images 是proxmox默认的镜像文件位置（非LVM），你也可以根据你的文件的路径来。100 是你创建虚拟机的VMID号 转换后，编辑VM的配置文件 vim /etc/pve/local/qemu-server/100.conf 在ide0的行中：我们要将vm-100-disk-1.raw，size = 32G更改为windows-server.qcow2 然后我们移除原来的空磁盘 rm /var/lib/vz/images/100/vm-100-disk-1.raw 然后就可以开启虚拟机看看，如果启动蓝屏或者启动不了，google一下 附加教程(我参考的资料） 这个是官网的教程，可以参考里面的 “Physical (running) Windows server to Proxmox VE (KVM) using VMware Converter” 这一个章节 https://pve.proxmox.com/wiki/Migration_of_servers_to_Proxmox_VE https://chuansongme.com/n/652461651234 离线迁移再生龙首推再生龙，这个是一个开源的软件，对中文支持很好，PVE官网也有它的教程 https://blog.51cto.com/yuweibing/2334783 https://leooo48.github.io/2018/07/13/clonezila/ 使用过程中，要注意如下事项： 切记，一定要先导入IDE的注册表，不然蓝屏，启动不了的问题会让你欲哭无泪。。。。 pve创建虚拟机默认是SeaBIOS，是传统的启动模式，如果你迁移过来的虚拟机是UEFI启动的，一定要更改一下它的BIOS（在硬件那里修改为UEFI） 配置完服务端要ping一下服务器，看一下网络是否通顺 客户端需要输入的就两条命令 sudo ocs-live-netcfg sudo ocs-onthefly -s 10.0.77.171 -t sda /// -s 后面接服务端的ip ，-t后面接需要靠边数据的磁盘，可以在客户机里面用命令lsblk命令查看 以下是官方的说明文档： This method is fast, reliable and OS independent as it uses live cds. Get a live linux cd like CloneZilla. Prepare the source host, make sure that you have standard IDE drivers enabled (for WinXP/Win2003 use the mergeide.reg (File:Mergeide.zip) ), for W2k I followed this link (solution 2 worked for me): [2] Now, boot the physical host with Clonezilla, go for beginner mode and select device - device and then remote, just follow the wizard On the Proxmox VE host, prepare a KVM guest, make sure you got a big enough IDE disk assigned (add 1 GB extra to be on the safe side) and also boot this KVM guest with the live cd and execute a shell. Become root and run fdisk (fdisk /dev/sda/) to make sure that sda is here, exit fdisk with ‘w’. this was essential. Now enter all commands from the wizard on the source server tells you (configure network and request the copy process) After success (the wizard just copies the data, means I got a 80 GB disk but only 5 GB data on it so it was just a few minutes for the whole process on a gigabit network) just change the boot device to the hard disk and start the VM. Windows will install all needed drivers automatically, just the Intel NIC drivers for e1000 must be loaded from ISO (I got one big driver ISO from Intel containing all NIC drivers). VMware converter其他的参考这个链接有一个命令很有用 ： qm importdisk 。有兴趣可以看看全文 http://everun.top/helpcenter/others/pve-ow-7.html 转移之后蓝屏，无限重启问题 https://zhuanlan.zhihu.com/p/38275419 再生龙的其他用法及介绍 https://blog.csdn.net/enweitech/article/details/48173713 这个windows 加载 virtio 总线的驱动，我也不知道有什么用，这里记录备用 https://my.oschina.net/xintq/blog/92947 这个遇到的情况和我很像，特此记录 http://blog.sina.com.cn/s/blog_53ab41fd01013ksq.html 无论是Windows系统或Linux系统，在KVM虚拟机设置时尽量设置硬盘为IDE，设成SCSI时会有问题。我在RedHat AS3 迁移中，发现IDE可以顺利转移(使用CloneZilla)，只需把/etc/fstab中原来/dev/sdax 更改为/dev/hdax。使用SCSI硬盘时，出现Kernel Panic错误 2.在Windows系统转移前，应当先执行mergeide.reg (查看微软的 KB 公告）以允许IDE接口，不然就会出现0x0000007B的蓝屏错误。但在实际迁移中，使用VMware 免费的工具Convert转移的vmdk文件再转换成qcow2文件后(具体方法参见Proxmox的wiki文档)，重启仍然蓝屏，最后只能使用windows系统盘修复安装以恢复错误(2003R2)。但是使用CloneZilla转换的Image文件恢复后，可以正常启动(只做过win2000服务器)。 LVM Thin Storage is much more stable then the qcow2. One thing are the snapshots. For example you have an machine with 50GB of memory und you make an Livesnapshot with qcow2 sometimes you will get an error. When not on creation then really on delete. The second thing. Raw is an nice generic format, like DD. You can do everything with, without convert… And it have better performance then qcow2. local-lvm 这个区域只支持 raw 格式 /etc/pve/storage.cfg这个文件是各个区域的配置文件，可以参考下方的连接 https://forum.proxmox.com/threads/disk-image-option-greyed-out-only-raw-availble.27943/ 在创建硬盘的时候， Bus/Device 这个选项要尽量避免选择VirtIO Block和SCSI这个选项，不然系统识别不到硬盘，可以选择Sata","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"PVE","slug":"PVE","permalink":"https://blog.bingfengs.xyz/tags/PVE/"},{"name":"虚拟化","slug":"虚拟化","permalink":"https://blog.bingfengs.xyz/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/"}]},{"title":"Raid6 搭建存储环境","slug":"Raid6-搭建存储环境","date":"2019-09-21T01:18:55.000Z","updated":"2020-02-02T13:25:27.047Z","comments":true,"path":"2019/09/21/raid6-da-jian-cun-chu-huan-jing/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/raid6-da-jian-cun-chu-huan-jing/","excerpt":"","text":"前些时间，写了一个 Raid+LVM的教程，测试和写教程花了不少时间，但是这个方案目前达不到我的要求，故弃坑了 点击查看原来的教程 后来了解到Raid也是可以扩容的，因此重新写一个教程 步骤 按照上面那个教程，创建出包含4个硬盘的raid6软阵列，这里因为只有5个硬盘能用，不创建热备盘，剩下的一个盘，用来作为添加的盘 这是阵列刚创建好的状态 然后用fdisk创建分区，这里暂时创建出两个分区 格式化+挂载 然后，我随便写入一些东西 # dd if=/dev/zero of=/mnt/md0p1/test.file bs=1M count=10000 status=progress # dd if=/dev/zero of=/mnt/md0p2/test.file2 bs=1M count=5000 status=progress 向阵列增加一个热备盘硬盘（sdf）（注意：磁盘需要初始化，然后创建一个分区，跟上面4块硬盘一样） # mdadm /dev/md0 -a /dev/sdf1 将热备盘增加到阵列中 # mdadm -G -n5 /dev/md0 之后，数据会同步到新添加的硬盘中，这个过程需要时间 同步之后，我们检查一下我们前面创建的文件，没有问题 这个就是RAID的扩容，很简单 老样子，下面罗列一下参考的资料dd 命令这个在磁盘操作是很有作用的，包括测试，或者备份，但是一定要注意使用方法，不然有可能毁掉整个硬盘的数据，慎重！ 如何在 Linux 系统中使用 dd 命令而不会损毁你的磁盘 https://www.zcfy.cc/article/how-to-use-dd-in-linux-without-destroying-your-disk 在Linux中实现dd命令写入进度的方法，显示图形化百分比的界面 https://ywnz.com/linuxml/3666.html 清空磁盘 http://www.markjour.com/article/linux-clean-disk.html Raid 扩容增长现有的RAID阵列和删除Raid中的失败磁盘 - 第7部分 https://linux.cn/article-6123-1.html mdadm 管理工具 https://linux.cn/article-6463-1.html 杂这个是linux 中国翻译外国教程的一个汇总，没事可以看看 https://linux.cn/lctt/strugglingyouth?page=1 linux 前后台程序查看切换 https://blog.csdn.net/lee244868149/article/details/38535163 真正牛*的LVM http://stor.51cto.com/art/201808/581712.htm?mobile 写的不错的LVM + raid 教程 https://serchaofan.github.io/2018/08/01/LVM%E9%80%BB%E8%BE%91%E5%8D%B7%E4%B8%8ERAID%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#RAID%E5%9F%BA%E7%A1%80%E6%90%AD%E5%BB%BA 很详细的LVM 教程 https://www.cnblogs.com/f-ck-need-u/p/7049233.html 最后这是我测试的机器，用了一个模组电源，外加一个pci-e扩展卡，加了8块固态硬盘，32G内存，i7-8700，技嘉z370主板 这里有一个比较坑的地方，就是主板。刚安装完Centos后，无论怎么设置，启动项也修改，硬盘也能识别，就是启动不了，连grub界面都没有。后来找原因，是技嘉主板的一个设置引起的 要选择AHCI这个选项，Intel的傲腾坑啊！ 另外，这个主板也是可以开启硬阵列的，开启方法可以Google。不要用到里面的EZ-Raid。家用可以，生产环境跟不上！","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"Raid","slug":"Raid","permalink":"https://blog.bingfengs.xyz/tags/Raid/"}]},{"title":"Raid+LVM搭建磁盘环境","slug":"Raid-LVM搭建磁盘环境","date":"2019-09-21T01:03:53.000Z","updated":"2020-02-02T13:25:34.798Z","comments":true,"path":"2019/09/21/raid-lvm-da-jian-ci-pan-huan-jing/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/raid-lvm-da-jian-ci-pan-huan-jing/","excerpt":"","text":"注意：这个教程目前已经作废，可以当作学习了解心得使用，但是不建议上正式环境 背景之所以用这种方式部署，是计划购买一个新的服务器（性能较强），用于将目前的机房的一些实体机淘汰，统一托管到Proxmox上面管理。考虑到公司现在不可能做双机热备份，只能在一台机器上实现，因此磁盘数据的保护尤为重要 现在设想是这样的，由若干块硬盘（大于4块）组建成RAID6阵列（禁止组建RAID5），其中需要1-2热备盘。在RAID阵列上，组建LVM，实现硬盘的可扩容。这是一个服务器基础的配置方向。可以根据需要，将固态硬盘和机械硬盘分开配置，不过这个不在今天的讨论范围内 以下的模拟实验，基于Centos7。收集了5块真正的实体硬盘（不包括系统盘）（250G），用于实验（是不是很牛x) 搭建RAID6查看系统硬盘情况首先，在系统中，我们看一下目前的磁盘配置 # lsblk 可以看到，我们有sd[b-f]五块硬盘，其中sda是我的系统，这里我们不要管它 创建硬盘分区如果你的硬盘不是全新，有分区以及数据，请删除所有分区数据，这一步，你可以在Windows PE 下操作，当然，你会Linux也行 在全新硬盘下，我们执行如下操作 # fdisk /dev/sdb fdisk针对的是mbr等小容量的硬盘，如果硬盘容量超过2T的gpt，请使用gdisk这个命令，操作都是类似 上面是针对 /dev/sdb 这个硬盘进行操作，后面我们对剩下的四个硬盘 （/dev/sd[c-f]）进行上面的操作。虽然有点枯燥，但是集中一点注意力，不要出错，不然就是自己给自己挖坑。。。。。 下面是创建之后磁盘的情况 之后，我们要检查一下磁盘是否存储有其他类型阵列的数据，这个很重要，如果有其他阵列的数据，这个磁盘是用不了的，我们必须清除这些数据后，才能将这个磁盘用于RAID的构建 # mdadm -E /dev/sd[b-f]1 这里，我们使用了 mdadm 这个命令，这个就是 linux 内建的软阵列命令。这个命令适用于检查在硬盘分区是否存在其他阵列的信息如果一切正常，则应如下显示 同样的，我们对硬盘也检查一遍 如果是上面的显示，我们可以继续往下面走，不是的话，请查看下面教程的【删除阵列】篇章，有具体的解决步骤 创建阵列 # mdadm -C -v /dev/md0 -l6 -n4 /dev/sd[b-e]1 -x1 /dev/sdf1 C : 创建阵列 v : 显示详细信息 /dev/md0 : 创建后阵列的磁盘文件 l : 创建RAID的等级，我们创建的RAID6 ，所以后面接数字6 n : 创建阵列磁盘的数量，RAID6阵列至少需要四个，所以这里为4 x : 创建阵列热备盘的数量，我们有五个盘，用了四个，所以，这里数量为1就行了 注意：我们这里使用的磁盘的分区，而不是磁盘本身 热备盘的作用：事先准备一个硬盘，让它处于准备的状态，在阵列的主硬盘坏了之后，热备盘迅速顶替上去，过程无需人工干预 查看创建好的阵列 # mdadm -D /dev/md0 模拟阵列硬盘崩坏RAID6允许2块硬盘同时出错，在这里，我模拟一个硬盘出错，这里我让sdb这个硬盘出错 # mdadm /dev/md0 -f /dev/sdb1 f : 指定出错的硬盘（模拟) 然后，我们运行命令，查看阵列目前的磁盘情况 # watch mdadm -D /dev/md0 其中，watch 是一个定时刷新的命令，它刷新后面的mdadm ，我们要查看的就是下图的修复速度（“Rebuild Status”） 有关硬盘修复的信息：我们磁盘出错后，会被指定为“faulty”状态，不能再使用。这是，我们前面设置的热备盘就会自动替换上去，然后从其他硬盘计算需要恢复的数据。这是一个很耗时间和CPU资源的过程（特别针对企业动不动就上4T这些硬盘），因此在这个过程中，为了防止第二块硬盘出错，我们需要设置阵列为RAID6！不使用RAID5 经过漫长的等待，我们的硬盘修复完成，阵列也正常了 然后，我们可以移除这块损坏的硬盘，或者重启服务器 # mdadm /dev/md0 -r /dev/sdb1 r : 移除硬盘 好了，到这里，我们数据就修复成功，可以看到，四块硬盘都是正常的，我们现在的阵列里面没有热备盘了，下面介绍如何为这个阵列添加热备盘 添加热备盘我们用刚才损坏的那块盘（sdb）为例，将它再次添加回来作为热备盘 我们用 lsblk 命令 查看目前磁盘的情况，可以看到，sdb目前是存在的，但是已经不是阵列磁盘了（不存在md0) 我们用如下命令检查一下它的磁盘信息情况 # mdadm -E /dev/sdb1 可以看到，它存在阵列的信息，我们需要清除这些信息 # fdisk /dev/sdb # dd if=/dev/zero of=/dev/sdb bs=1M count=1024 这个命令是擦除磁盘信息用的 到这里，我们就可以使用这块硬盘了，初始化跟上面章节的步骤一样，先创建分区，转换为raid格式，然后执行下方命令，添加sdb作为热备盘 # mdadm /dev/md0 -a /dev/sdb1 保存阵列配置文件这一步不是必须的，但是有备无患 # mdadm -D -s &gt;&gt; /etc/mdadm.conf 参考的资料软RAID管理命令mdadm详解 https://blog.csdn.net/GGxiaobai/article/details/59521459 RAID磁盘阵列的部署(red hat 6.5) https://blog.51cto.com/13643643/2095452 RAID及LVM技术的实现 https://www.jianshu.com/p/0aa305e1440e 好了，上面就是阵列的创建方法，如果是一般使用，只需要将/dev/md0 这个设备当作一个普通的硬盘，然后分区，挂载就行了。但是，我们的目标是星辰大海，在RAID的上面，我们需要再建一个LVM，下面介绍LVM的创建 RAID 上方创建 LVM切记，后面我们针对的硬盘操作，都是 /dev/md0 这个RAID磁盘，而不是 /dev/sd[b-f]这几个真实的硬盘了 首先，需要自己先去了解LVM的一些基础知识，我这里就不介绍了，自己Google，很多教程的譬如下面这个教程就很详细 https://huiliu.github.io/2016/01/19/lvm.html 还记得上面那张图吗？ 我们计划创建一个卷组（vg1) ，然后创建三个的逻辑卷（lv1，lv2，lv3），所用的物理卷是 /dev/md0 ，即我们上面创建的阵列RAID6 创建 物理卷(PV) # pvcreate /dev/md0 将 /dev/md0 初始化为PV卷，这里我们没有为md0这个RAID创建分区 # pvdisplay 显示创建PV的详情，请忽略上方那个，那个是创建Centos自动创建的 创建 卷组(VG) # vgcreate vg1 /dev/md0 这里，我们指定一个名称为vg1的VG，使用md0这个PV # vgdisplay 显示创建VG的详细信息。请忽略下面那个c1，这个是Centos系统自建的 创建 逻辑卷(LV) # lvcreate -L 40G -n lv1 vg1 在vg1的卷组上面创建一个名为lv1的逻辑卷，容量大小为40G， -L 后面接容量，单位可以是K，M，T，P，E ， -n 后面接LV的名称，最后是VG的名称 # lvdisplay 然后，我们需要格式化这个逻辑卷lv1，逻辑卷相当于磁盘分区，怎么理解就行了 # mkfs.ext4 /dev/vg1/lv1 这里我将lv1格式为ext4 格式作为测试。 注意，你创建一个VG后，在/dev目录下面，会有相应的VG名称，例如：我创建了vg1，你能找到/dev/vg1/这个目录，在这个目录下面，有你创建的LV文件。以后你的挂载等操作，都可以调用这些文件。这个体现了Linux万物皆文件的概念吧 然后挂载 # mount /dev/vg1/lv1 /mnt/lv1 然后，我们重复上面的步骤，依次创建lv2,lv3 这是创建的结果 到此，我们创建了一个lvm。 扩展逻辑卷假设lv1的容量不够用了，我们要增加容量，这里我增加了20G的容量 # lvextend -L +20G /dev/vg1/lv1 扩展后，我们如下图命令查看，发现文件系统并没有识别出磁盘的扩容的部分，因此，运行“resize2fs”这个命令，之后再执行“df -hT”查看，可以看到文件系统是扩容的了 # resize2fs /dev/vg1/lv1 如果系统提示需要先运行fsck检查文件系统，则执行如下命令”e2fsck -f /dev/vg1/lv1” 扩展卷组如果哪天发现vg1这个卷组的空间不够用了，我们可以扩展卷组，扩展卷组意味着增加磁盘 这里我再增加一块硬盘(/dev/sdg)（没错，我就硬盘多 ^_^) 首先，我们检查一下这个硬盘 这里不需要创建分区，然后执行如下命令 # pvcreate /dev/sdg 将sdg加入到vg1这个卷组里面，命令一下，效果立现 # vgextend vg1 /dev/sdg 卷组扩容后，我们就可以愉快的扩展逻辑卷了 磁盘更换假设哪天，这个sdg的硬盘寿命快到了，我们如何保护里面的数据？ 我们可以将sdg的数据迁移到sdh。蛤！sdh哪来的？没错，我又加了一块硬盘！ 确保sdh无分区，然后 # pvcreate /dev/sdh 然后将 /dev/sdh 加入到 vg1 这个卷组里面。注意，要迁移数据盘，两块硬盘必须在同一个卷组里面 # vgextend vg1 /dev/sdh 然后，执行下面的命令，将sdg的数据迁移到sdh # pvmove /dev/sdg /dev/sdh 之后，使用如下命令将sdg从vg1移除 # vgreduce vg1 /dev/sdg 然后，再将sdg从PV中移除 # pvremove /dev/sdg LVM 快照 后续补充 上面介绍了RAID和LVM的结合部署，那么问题来了，如果我的一个磁盘崩了，这个组合会怎样。这个问题困扰了我一周多，网上只有怎么创建，但是崩了，怎么修复，都找不到案例。。。。。今天我就记录一下吧 RAID+LVM 硬盘崩坏修复现在实验环境如下 然后我要再一次模拟sdb这块硬盘崩掉的情况，看一下，系统能不能自动修复 在我设置阵列 f 参数之后，阵列会使用热备盘顶替，系统能够正常使用。 但是，我说但是，只要重启系统之后，使用 pvs 命令，直接提示错误，那个md0的PV直接变成【unknown】。。。。。这个问题花了一个多星期，也没搞定，所以，弃坑！ 尽管有一个PV成了 unknown ，但是很神奇，上层的lv1，lv2等都能正常挂载使用，写入信息也可以，心中万马奔腾。。。。 补充：后续还有一个离奇的事情，在还原清空硬盘时，我把所有的lv，vg，pv都删除了，还是不让我删除md0，说后台还在使用md0，卧槽。。。。而且，重启一次电脑之后，原本unknown的那个pv，竟然识别出来了，f*** ，而且挂载后，数据都在，这个让我说啥好呢。。。。。。后续一定要去弄清除这个LVM的底细 总结鉴于上方出现那个pv成了unknown的情况，不打算继续研究下去，网上能找到的文档也很少，一开始我以为是我搜索姿势不对，后来我才了解到，RAID本身自带扩容功能，根本就不需要LVM辅助。果然，不对一个东西了解透彻，踩坑在所难免 所以，这个RAID+LVM的方案搁置，除非能找到上面问题的解决方案，不然不上正式环境。 后续的文章，开始实验RAID的扩容，这个应该比较简单了 所以，本文章就当作了解 RAID 和 LVM 使用方法的教程，看看就行 将硬盘初始化经过上面的折腾，我们的硬盘已经写入了RAID+LVM 的信息，如果要重新实验折腾，就必须清空这些信息 接下来，来了解怎么重(删)置(库)环(跑)境(路) 删除 LVM 用umount卸载挂载的lv1，lv2，lv3 # umount /dev/vg1/lv[1-3] 删除逻辑卷lv[1-3] # lvremove /dev/vg1/lv[1-3] 删除卷组vg1 # vgremove vg1 删除PV # pvremove /dev/md0 到这里，我们成功将LVM删除了，后面，我们清空RAID阵列 删除 RAID 如果挂载了md0，请先卸载 先覆盖RAID的metadata # dd if=/dev/zero of=/dev/md0 bs=1M count=50 停止md0 # mdadm -S /dev/md0 清除成员磁盘当中阵列的超级块信息，对所有磁盘也执行如下的命令 # dd if=/dev/zero of=/dev/sdb1 bs=1M count=50 这里就不一一列举了 查看阵列的情况 # cat /proc/mdstat 如果还是出现RAID的信息，重启一下服务器就行 参考的资料Linux LVM学习总结——删除卷组VG https://www.cnblogs.com/kerrycode/p/4569515.html 鸟哥 ，阵列知识 https://wizardforcel.gitbooks.io/vbird-linux-basic-4e/content/126.html 其他总结LVM 重设逻辑卷大小，重置之后，需要同步一下文件系统大小，不然容量不会改变 # lvresize -L 3G /dev/vgname/lvname 为VG 添加新的PV 用命令 vgextend pvcreate 是提示“Device /dev/sdb not found (or ignored by filtering)”可能 硬盘没有没有初始化 # dd if=/dev/urandom of=/dev/sdb bs=512 count=64 查看磁盘信息的一些命令 blkid lsblk df -hT du fdisk -l 很详细的LVM说明教程 https://blog.csdn.net/cmzsteven/article/details/78476242 RAID + LVM 的说明 https://blog.51cto.com/yinsuifeng/1916766 LVM 创建快照 快照卷是对某逻辑卷进行的，因此必须跟目标逻辑卷在同一个卷组（VG）中；无需指明卷组 # lvcreate -s -L 200M -n snap_LV_name -p r /dev/vg/lv s ：创建快照卷 p r ： 限制为只读访问 执行完后，会创建一个LV ，把它挂载起来就可以用了 快照卷的容量必须等同于逻辑卷的容量； 快照卷仅一次有效，一旦执行还原操作后则会被立即自动删除。 删除快照 lvremove /dev/vgroup/snap_LV_name PE 和 LEPE(Physical Extend) PE是VG中的存储单元。实际存储的数据都是存储在这里面的。 LE(logical extent) PE是物理存储单元，而LE则是逻辑存储单元，也即为lv中的逻辑存储单元，和pe的大小是一样的。从vg中划分lv，实际上是从vg中划分vg中的pe，只不过划分lv后它不再称为pe，而是成为le。 LVM之所以能够伸缩容量，其实现的方法就是将LV里空闲的PE移出，或向LV中添加空闲的PE。 LVM 写入模式 https://www.cnblogs.com/f-ck-need-u/p/7049233.html LV是从VG中划分出来的，LV中的PE很可能来自于多个PV。在向LV存储数据时，有多种存储机制，其中两种是： 线性模式(linear)：先写完来自于同一个PV的PE，再写来自于下一个PV的PE。 条带模式(striped)：一份数据拆分成多份，分别写入该LV对应的每个PV中，所以读写性能较好，类似于RAID 0。 尽管striped读写性能较好也不建议使用该模式，因为lvm的着重点在于弹性容量扩展而非性能，要实现性能应该使用RAID来实现，而且使用striped模式时要进行容量的扩展和收缩将比较麻烦。默认的是使用线性模式。 RAIDraid 0代表了所有RAID级别中最高的存储性能 raid 1镜像冗余 ，原始数据繁忙时，可以直接从奖项拷贝中读取数据，RAID 1 可以提高读取性能 在这里，需要注意的是，读只能在一块磁盘上进行，并不会进行并行读取，性能取决于硬盘中较快的一块。写的话通常比单块磁盘要慢，虽然是并行写，即对两块磁盘的写入是同时进行的，但因为要比较两块硬盘中的数据，所以性能比单块磁盘慢。 raid 5磁盘空间利用率：(N-1)/N，即只浪费一块磁盘用于奇偶校验。至少需要3块硬盘 读性能：(n-1)*单块磁盘的读性能，接近RAID0的读性能。 写性能：比单块磁盘的写性能要差（这点不是很明白，不是可以并行写入么？） 冗余：只允许一块磁盘损坏。 做raid 5阵列所有磁盘容量必须一样大，当容量不同时，会以最小的容量为准。 最好硬盘转速一样，否则会影响性能，而且可用空间=磁盘数n-1，Raid 5 没有独立的奇偶校验盘，所有校验信息分散放在所有磁盘上， 只占用一个磁盘的容量。 raid 10Raid10其实结构非常简单，首先创建2个独立的Raid1，然后将这两个独立的Raid1组成一个Raid0 冗余：只要一对镜像盘中有一块磁盘可以使用就没问题 raid 6最少需要4个硬盘。同时两块磁盘损毁时，数据还是可以救回来。 SnapRAID后续补充 RAID不是备份，重要数据，请做好备份 这里是RAID5坏盘后数据恢复的成功率的讨论，感兴趣可以看看 https://www.zhihu.com/question/20164654 RAID5现在来看也存在风险，一是校验算法导致存在“write hole”导致存在数据不一致的问题，二是3TB、4TB硬盘商用后使得重建时间较长，在其期间极易第二块硬盘损坏导致RAID5崩溃 RAID5在如今已经没必要了，SSD的I/O秒杀机械盘，用SSD建RAID0，再加机械盘做RAID1同步。或者RAID1+SSD缓存 raid5加hot spare也就是所说的raid5+1.一旦raid5里面某块盘宕机，热备盘就会立刻替换宕机的盘。 4块盘做raid6基本相当于做raid1，不过比raid1更安全，同时允许任意两块盘宕机。 一些文献把这两种 RAID 等级看作是等同的，本文认为是不同的。 RAID01 是先做条带化再作镜像，本质是对物理磁盘实现镜像；而 RAID10 是先做镜像再作条带化，是对虚拟磁盘实现镜像。相同的配置下，通常 RAID01 比 RAID10 具有更好的容错能力。 RAID基础知识了解 https://wsgzao.github.io/post/raid/ -a(–add)，-d(–del),-r(–remove),-f(–fail) https://blog.csdn.net/GGxiaobai/article/details/59521459 https://wizardforcel.gitbooks.io/vbird-linux-basic-4e/content/126.htmll mdadm 这套软件，这套软件会以 partition 或 disk 为磁盘的单位，也就是说，你不需要两颗以上的磁盘，只要有两个以上的分区 （partition） 就能够设计你的磁盘阵列了 硬件磁盘阵列的设备文件名为 /dev/sd[a-p] ，因为使用到 SCSI 的模块之故。至于软件磁盘阵列则是系统仿真的，因此使用的设备文件名是系统的设备文件， 文件名为 /dev/md0, /dev/md1…，两者的设备文件名并不相同 鸟哥的linux https://wizardforcel.gitbooks.io/vbird-linux-basic-4e/content/126.html 查看硬盘 信息 hdparm -i /dev/sda mdadm 参数-a 检测设备名称-n 指定设备数量-l 指定RAID级别-C 创建-c 指定chunk大小，为2的整数次方，默认为64-v 显示过程-f 模拟设备损坏-r 移除设备-Q 查看摘要信息-D 查看详细信息-S 停止RAID磁盘阵列-x 指定空闲盘的数量 [root@study ~]# mdadm –manage /dev/md[0-9] [–add 设备] [–remove 设备] [–fail 设备]选项与参数：–add ：会将后面的设备加入到这个 md 中！–remove ：会将后面的设备由这个 md 中移除–fail ：会将后面的设备设置成为出错的状态 启动 RAID # mdadm -A /dev/md0 /dev/sd[b-f]1 注意，需要再次指定该raid中的设备成员，且和关闭前的成员一样，不能有任何不同 如果下次想直接使用-A参数激活，可以在停止RAID之前，扫描RAID，将结果保存到配置文件中，下次启动的时候直接读取配置文件即可 # mdadm -D –scan &gt;&gt; /etc/mdadm.conf 如果不放在默认配置文件中，者装配的时候使用“-c”或“–config”选项指定配置文件即可 # mdadm -D –scan &gt;&gt; /tmp/mdadm.conf # mdadm -A /dev/md0 -c /tmp/mdadm.conf 重启raid mdadm -R /dev/md0 mdadm –examine /dev/sdb ** mdadm –manage /dev/md0 –add /dev/sdb ** 组建raid阵列后，磁盘的物理插槽位置不能更改，不然阵列会出错 停止阵列：https://blog.csdn.net/w849593893/article/details/82962322 https://www.cnblogs.com/f-ck-need-u/p/7049501.html 建议在创建的时候，如果遇到坑，能Google解决最好，但是有些问题，没必要硬钻，不行的话，可以把整个测试环境重置，重头再来一遍，有时候，能有意外的收获。","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"存储","slug":"存储","permalink":"https://blog.bingfengs.xyz/tags/%E5%AD%98%E5%82%A8/"},{"name":"Raid","slug":"Raid","permalink":"https://blog.bingfengs.xyz/tags/Raid/"},{"name":"LVM","slug":"LVM","permalink":"https://blog.bingfengs.xyz/tags/LVM/"}]},{"title":"NFS搭建使用","slug":"NFS搭建使用","date":"2019-09-21T00:59:39.000Z","updated":"2020-06-14T03:39:14.772Z","comments":true,"path":"2019/09/21/nfs-da-jian-shi-yong/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/21/nfs-da-jian-shi-yong/","excerpt":"","text":"这次介绍一下NFS的搭建使用。我搭建这个的目的是用于PVE虚拟机备份数据的存放 搭建环境，Centos7 NFS 必须独立一台实体机器部署，不允许安装在PVE虚拟机里面 服务端 使用yum安装NFS (使用yum之前，记得“yum update” 一下) # yum install nfs-utils 只安装 nfs-utils 即可，rpcbind 属于它的依赖，也会安装上 如果客户端没有安装nfs-utils , 挂载会报错 设置NFS服务开机启动 # systemctl enable rpcbind # systemctl enable nfs 启动NFS服务 # systemctl start rpcbind # systemctl start nfs 防火墙打开rpc-bind 和 nfs 的服务 # firewall-cmd –zone=public –permanent –add-service=rpc-bind # firewall-cmd –zone=public –permanent –add-service=mountd # firewall-cmd –zone=public –permanent –add-service=nfs 然后重启防火墙 # firewall-cmd –reload 如果对防火墙的用法和操作不熟悉，可以直接禁用防火墙的功能，但是不推荐这么做！ 1. 关闭防火墙 # systemctl stop firewalld.service 2. 禁止防火墙服务开机自启 # systemctl disable firewalled.service 在服务端新建一个共享目录，并设置权限 # mkdir /nfs# chmod 777 /nfs ;权限要设置正确，不然客户端可能无法正常读写 编辑配置文件 # vim /etc/exports ;注意，刚开始这个配置文件可能不存在，需要我们自己创建 添加如下配置 /nfs/ 10.0.77.0/24(rw,sync,no_root_squash,no_all_squash) - &#x2F;nfs&#x2F;: 共享目录位置。 - 10.0.77.0&#x2F;24 : 只有77段的客户机能访问这个共享文件夹，这里不能写成“10.0.77.*&#x2F;24” 通配符的格式。 - rw: 权限设置，可读可写。 - sync: 同步共享目录。 - no_root_squash: 可以使用 root 授权。 - no_all_squash: 可以使用普通用户授权。 重启NFS服务 # systemctl restart nfs 可以检查一下本地的共享目录 # showmount -e localhost 客户端linux客户端 安装nfs-utils # yum install nfs-utils 设置rpcbind服务开机自启 # systemctl enable rpcbind ** 不论是客户端还是服务器端，要使用 NFS 时，两者都需要启动 RPC 才行 ** 启动rpc # systemctl start rpcbind 客户端不需要打开防火墙，因为客户端时发出请求方，网络能连接到服务端即可。 客户端也不需要开启 NFS 服务，因为不共享目录。 创建目录并挂载 # mkdir /mnt/nfs # mount -t nfs 10.0.77.30:/nfs /mnt/nfs 我在服务器创建的nfs共享目录位于根目录（ / ）下面，所以写法如上 测试挂载的目录是否能正常读写 mount.nfs:Operation not permitted 遇到这样的错误，查看服务器共享的目录权限，一般改为777 客户端自动挂载 # vim /etc/fstab 在最后追加如下内容 10.0.77.30:&#x2F;nfs &#x2F;mnt&#x2F;nfs nfs defaults 0 0 修改了 /etc/fstab ，需要重新加载systemctl # systemctl daemon-reload Windows客户端 打开控制面板 &gt; 程序 &gt; 启用或关闭 Windows 功能，找到NFS服务打开子目录勾选NFS客户端与管理工具。 查看NFS服务器共享的目录。打开Windows的CMD 显示 NFS 服务器导出的所有共享 shoumount -e 10.0.77.30 显示 NFS 服务器上当前由某些 NFS 客户端安装的目录 shoumount -d 10.0.77.30 直接使用CMD进行挂载 mount 10.0.77.30:/nfs M: 如果出现网络错误，请检查是否命令格式输入正确 参考资料CentOS 7 下 yum 安装和配置 NFS https://qizhanming.com/blog/2018/08/08/how-to-install-nfs-on-centos-7 win10 挂载NFS（网络文件夹） https://blog.csdn.net/qq_34158598/article/details/81976063 Windows客户端挂载NFS https://www.jianshu.com/p/edc928e58183","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"存储","slug":"存储","permalink":"https://blog.bingfengs.xyz/tags/%E5%AD%98%E5%82%A8/"}]},{"title":"AD域下推软件经验总结","slug":"AD域下推软件经验总结","date":"2019-09-20T15:10:47.000Z","updated":"2020-02-02T13:21:56.393Z","comments":true,"path":"2019/09/20/ad-yu-xia-tui-ruan-jian-jing-yan-zong-jie/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/ad-yu-xia-tui-ruan-jian-jing-yan-zong-jie/","excerpt":"","text":"这个教程其实是为了域统一下推软件准备的。但是现在没用上，做了个总结，免得以后用到却忘记了 下面，把我以前的一些笔记拿出来记录一下，同样是为了域下推软件使用的 静默安装首先，了解一下安装包有哪些封装格式： https://blog.csdn.net/zhaobangyu/article/details/18406957 一般，如果域要下推一个软件，有如下方法 使用msi格式的安装包下推（优选） 组策略通过zap方式发布软件 将exe转换成msi文件 使用专门的exe分发软件 编写安装脚本，下推这个脚本 1. msi 安装这里主要记录了msi的静默安装参数 https://blog.csdn.net/jonahzheng/article/details/12113285 如果觉得上面那个排版不清楚，可以参考这个英文的说明 https://www.advancedinstaller.com/user-guide/msiexec.html msi格式的静默安装很简单，在cmd里运行： msiexec.exe /i “C:\\Example.msi” /qn 用msi安装的软件，后续也可以很简单实现卸载，以及一些管理 2. zap 方式下推 https://blog.51cto.com/854852312/541000 https://blog.51cto.com/91xueit/1137482 3. exe转msi这里，可以使用Advanced Installled 这个软件，可以将exe格式转换成msi 这里介绍这个软件两种转换方式 3.1 Repackage Installation这个原理是在安装软件前，保存一份系统镜像，然后安装exe软件，然后再保存一份系统镜像，比较不同的地方，再build出msi包。下面是官方的教程 https://www.advancedinstaller.com/user-guide/tutorial-repackager.html 这里，再放出一些旧版本的教程 https://www.yuanmas.com/info/obzmmmErzP.html http://www.360doc.com/content/14/1124/14/14641369_427660922.shtml 这种方法对一些比较复杂的程序，如360 ，会报错，现在排查不出问题所在。 3.2 Convert EXE to MSI这个直接将exe转成msi https://www.advancedinstaller.com/user-guide/tutorial-convert-exe-to-msi.html 下面这个是微软论坛推荐的，时间有点旧 我们也荐使用一个新的工具，那就是：FLEXnet AdminStudio SMS Edition，它可以将EXE文件打包为MSI并生成MST文件(MST是MSI的应答文件，可以提供MSI安装过程中需要的信息)，从而完成无人应答安装。该工具可以在下面链接内下载到： https://www.flexera.com/products/operations/adminstudio.html 4. 使用专门的exe软件分发软件和Landesk同类的产品有微软的SMS和SCCM。你应该使用这些产品来分发EXE软件 都是收费软件 SMS 是 SCCM 的前身 ， 这里我只查看了SCCM的教程，其他的软件以后有时间再摸索 https://blog.51cto.com/horse87/2059932 还有这个收费软件，免费版本可以支持一个域和100个客户机 https://www.manageengine.cn/products/desktop-central/software-installation.html 使用下推脚本安装 很多exe格式的软件也是支持静默安装的，可以直接加参数进行静默安装，这一步的部署类似 zap 安装 SCCMSCCM 2012 R2实战系列之二 【可以通过google搜索，能找到一系列的教程】 https://yq.aliyun.com/articles/412017 这个人的博客也有一系列教程，是2016 的 https://blog.51cto.com/horse87/p1 坑下面是部署SCCM过程中遇到的一些坑（包括部署MSSql） 以下的扩展报错都要在日志查看 SCCM扩展报错（Failed to extend the Active Directory Schema, Error Code = 1355）https://krishnamohaninturi.wordpress.com/sccm/failed-to-extend-the-active-directory-schema-error-code-1355/ – 改用 域的管理员 账号登录SCCM服务器进行 扩展 Resolved SCCM 2012 R2 (extadsh) Schema Extension Error code 8224 and 8202https://kunaludapi.blogspot.com/2015/12/resolved-sccm-extadsh-schema-extention.html –运行命令：repadmin.exe /syncall 安装SCCM提示 “Configmgr.Manifest.cab”不在下载的文件中。用联网的方式获取缺少的文件 修改SQL Server 实例名 https://www.cnblogs.com/mywiki/p/3821911.html 可能用得上 更改 SQL server 里面的Server Name 等属性 http://tsuozoe.pixnet.net/blog/post/29844250-%E6%9B%B4%E6%94%B9%E9%9B%BB%E8%85%A6%E5%90%8D%E7%A8%B1%E5%BE%8C-sql-server-%E7%9A%84-server-name-%E8%AE%8A%E5%8C%96 因为是第一次部署，难度有点大，中间可能疏忽了一些设置，后面有机会重新来过一次","categories":[],"tags":[{"name":"域","slug":"域","permalink":"https://blog.bingfengs.xyz/tags/%E5%9F%9F/"},{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"}]},{"title":"AutoHotKey使用案例介绍","slug":"AutoHotKey使用案例介绍","date":"2019-09-20T15:07:09.000Z","updated":"2020-02-02T13:22:20.083Z","comments":true,"path":"2019/09/20/autohotkey-shi-yong-an-li-jie-shao/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/autohotkey-shi-yong-an-li-jie-shao/","excerpt":"","text":"这次介绍 AutoHotKey这个软件的使用方法，以自动卸载360软件为例 下载软件可以去官网下载对应软件 https://www.autohotkey.com/ 下载后，点击安装 安装是很快速的，弹出这个界面，说明安装完成，可以看一下它的教程 使用 找一个目录，鼠标右键新建一个脚本 右键这个脚本，选择编辑，输入以下内容 Run C:\\Program Files\\360\\360sd\\Uninst.exe WinWait 360杀毒卸载向导 WinActivate ControlClick Button12 ControlClick Button13 Run 后面接要运行的程序，请确保路径正确，以及文件确实存在。这里运行360的卸载程序 WinWait 等待程序的开启后，拆执行下面的内容。 后面接这个界面的名称。(安装AutoHotKey之后，软件会自动安装window spy这个软件，可以用来捕获窗口的一些信息) WinActivate 作用是把窗口激活，即放到桌面的最前面 ControlClick 模拟鼠标点击按钮 保存退出，双击这个文件执行脚本内容 附加这里有一个AutoHotKey的教程，可以参考它的一些具体用法 https://wyagd001.github.io/zh-cn/docs/AutoHotkey.htm","categories":[],"tags":[{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"}]},{"title":"Git笔记","slug":"Git笔记","date":"2019-09-20T15:00:20.000Z","updated":"2020-11-28T11:14:23.511Z","comments":true,"path":"2019/09/20/git-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/git-bi-ji/","excerpt":"","text":"Git 使用介绍原文地址： https://www.liaoxuefeng.com/wiki/896043488029600 所有的版本控制都只能针对文本内容，像WORD文件这样的二进制内容，只能做快照 首先这里再明确一下，所有的版本控制系统，其实只能跟踪文本文件的改动，比如TXT文件，网页，所有的程序代码等等，Git也不例外。版本控制系统可以告诉你每次的改动，比如在第5行加了一个单词“Linux”，在第8行删了一个单词“Windows”。而图片、视频这些二进制文件，虽然也能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是只知道图片从100KB改成了120KB，但到底改了啥，版本控制系统不知道，也没法知道 如果要真正使用版本控制系统，就要以纯文本方式编写文件 千万不要使用Windows自带的记事本编辑任何文本文件。原因是Microsoft开发记事本的团队使用了一个非常弱智的行为来保存UTF-8编码的文件，他们自作聪明地在每个文件开头添加了0xefbbbf（十六进制）的字符，你会遇到很多不可思议的问题，比如，网页第一行可能会显示一个“?”，明明正确的程序一编译就报语法错误，等等，都是由记事本的弱智行为带来的。建议你下载Notepad++代替记事本，不但功能强大，而且免费！记得把Notepad++的默认编码设置为UTF-8 without BOM即可 Git 背景由Linus 创建，C 语言编写 ，最初目的用于linux内核管理 GitCVS 和 SVN 都是 集中式的版本控制系统 GIT 是分布式的版本控制系统 集中式版本控制系统版本库是集中存放在中央服务器的 分布式版本控制系统没有“中央服务器”，每个人的电脑上都是一个完整的版本库 安装方法linux 版本如果是 debian系的，直接 # apt update # apt install git windows系统可以去官网下载安装包 Git 使用方法注意：所有的操作都要在有 .git 这个目录 的目录下面操作 创建和添加 创建空文件 进入该文件夹下面，初始化这个文件 # git init 瞬间Git就把仓库建好了，而且告诉你是一个空的仓库（empty Git repository），细心的读者可以发现当前目录下多了一个.git的目录，这个目录是Git来跟踪管理版本库的，没事千万不要手动修改这个目录里面的文件，不然改乱了，就把Git仓库给破坏了。 向版本库添加文件 版本库，即我们刚才创建的文件夹，也称 repository 新建一个文件，放在版本库里，然后执行如下命令 git add testfile \\\\testfile 是我创建的测试文件 提交文件到仓库 # git commit -m &quot;描述的信息&quot; &#x2F;&#x2F; -m 后面输入本次提交的说明，可以是任意内容 commit 相当于一个快照 commit 可以一次提交多个文件，前提是这个文件已经加入add 查看文件状态# git status 这个命令可以看到修改的文件，以及未加入的文件（add） # git diff testfile 这个命令可以查一个文件更改前后的不同 详解： diff --git a&#x2F;test.txt b&#x2F;test.txt ——对比两个文件，其中a改动前，b是改动后，以git的diff格式显示； index 629d9c8..3d98a7f 100644 ——两个版本的git哈希值，index区域（add之后）的 629d9c8 对象和工作区域的 3d98a7f 对象， 100表示普通文件，644表示权限控制； --- a&#x2F;test.txt +++ b&#x2F;test.txt ——减号表示变动前，加号表示变动后； @@ -4,8 +4,9 @@ test line3. ——@@表示文件变动描述合并显示的开始和结束，一般在变动前后多显示3行，其中-+表示变动前后，逗号前是起始行位置，逗号后为从起始行往后几行。合起来就是变动前后都是从第4行开始，变动前文件往后数8行对应变动后文件往后数9行。 变动内容 ——+表示增加了这一行，-表示删除了这一行，没符号表示此行没有变动。 查看历史更改# git log 显示从最近到最远的提交日志 回退文件版本首先，Git必须知道当前版本是哪个版本，在Git中，用HEAD表示当前版本。上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。 # git reset --hard HEAD^ 指定回退到某个版本 # git reset --hard 1094a \\\\ 1094a 是 commit 提交时的id ，通过 git log 或者 git reflog 能查找到。版本号没必要写全，前几位就可以了！ 版本库（Repository） 一个文件的状态为”Untracked”，代表没有add 要提交一个文件 ，一定要先 add ，然后才 commit 。 如果没有add ，即使commit了也不会有任何提交。 因为git 针对的是修改的内容，而不是文件！ 丢弃修改# git checkout -- readme.txt \\\\git checkout -- filename 命令中的--很重要，没有--，就变成了“切换到另一个分支”的命令 命令git checkout – readme.txt意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况： 一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态； 一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。 总之，就是让这个文件回到最近一次git commit或git add时的状态 # git reset HEAD filename \\\\可以把暂存区的修改撤销掉（unstage），重新放回工作区 checkout 丢弃的是工作区的修改， reset HEAD 是丢弃暂存区的修改 文件已修改，未add到暂存区: git checkout – file可还原 文件已修改，并add到暂存区未commit： git reset HEAD file 可还原 checkout命令用于从历史提交(commit)（或者暂存区域）中拷贝文件到工作目录，也可用于切换分支 删除文件当你删掉工作区的文件，但是版本库里面的历史文件还是存在的。如果要把历史文件记录也删除，执行如下操作 # git rm filename # git commit -m &quot;说明&quot; \\\\rm 后记得commit一下 另一种情况是工作区删除错了，但是版本库中有保留的文件，可以把误删的文件恢复 # git checkout -- filename \\\\git checkout其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。 生成密钥对# ssh-keygen -t rsa -C &quot;email@xxx.com&quot; 密钥对的位置一般位于：/用户目录/.ssh/ id_rsa 是私钥，不能泄漏id_rsa.pub 是公钥，可以上传到github上面 友情提示，在GitHub上免费托管的Git仓库，任何人都可以看到喔（但只有你自己才能改）（现在github被微软收购，免费账户可以创建无限的私有仓库，所以把仓库改成私有仓库别人就看不到了）。所以，不要把敏感信息放进去。 如果你不想让别人看到Git库，有两个办法，一个是交点保护费，让GitHub把公开的仓库变成私有的，这样别人就看不见了（不可读更不可写）。另一个办法是自己动手，搭一个Git服务器，因为是你自己的Git服务器，所以别人也是看不见的。这个方法我们后面会讲到的，相当简单，公司内部开发必备。 分支Git 默认有一个 master 的主分支 新建分支# git checkout -b dev \\\\ 创建一个 dev 的分支 , -b 表示创建并切换 上面的命令相当于下面两条命令 # git branch dev # git checkout dev # git branch \\\\显示所有分支， 当前分支会以星号表示 合并分支# git merge dev \\\\ merge 用于合并指定分支（dev）到当前分支（需要事先切换） 删除分支# git branch -d dev 可视化查看git log# git log --graph --pretty&#x3D;oneline --abbrev-commit 合并分支的另外一种情况先切回master分支，准备合并dev分支，请注意–no-ff参数，表示禁用Fast forward。通常，合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。 # git merge --no-ff -m &quot;merge with no-ff&quot; dev 忽略文件在Git工作区的根目录下创建一个特殊的.gitignore文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件 文件内容如下： # Windows: Thumbs.db ehthumbs.db Desktop.ini # Python: *.py[cod] *.so *.egg *.egg-info dist build # My configurations: db.ini deploy_key_rsa 配置别名# git config --global alias.st status \\\\ 将 git status 替换成 git st # git config --global alias.unstage &#39;reset HEAD&#39; \\\\git reset HEAD test.py &#x3D; git unstage test.py # git config --global alias.lg &quot;log --color --graph --pretty&#x3D;format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot; &#x3D; git lg 设置用户名和邮箱 git config --global user.name &quot;Firstname Lastname&quot; git config --global user.email &quot;your_email@Example.com&quot; 这些命令 会在 &quot;~&#x2F;gitconfig &quot; 中形成. 这里设置的 姓名 和 邮箱 地址 会用在 Git的 提交日志中. 可以让命令的输出有 更高 的可读性 git config --global color.ui auto 配置Git配置Git的时候，加上–global是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。 每个仓库的Git配置文件都放在.git/config文件中 Githubgithub 添加同步仓库在github上面创建一个空的仓库 在自己的电脑执行如下命令 # git remote add origin git@github.com:username&#x2F;repository.git \\\\ username 为你github的用户名；repository为你github仓库的名称；origin 是远程库的意思，这是git的默认的叫法，可以改成别的 推送内容的远程库（github）把本地库的内容推送到远程，用git push命令，实际上是把当前分支master推送到远程。 由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。 要关联一个远程库，使用命令git remote add origin git@server-name:path/repo-name.git； 关联后，使用命令第一次推送master分支的所有内容: git push -u origin master 此后，每次本地提交后，只要有必要，就可以使用命令 git push origin master 推送最新修改； 同步仓库如果Github上面的仓库有内容，需要先pull下来，然后才能push上去 git pull --rebase origin master 特别的：本地没有add 的文件，是不会同步到GitHub上面的 克隆仓库# git clone git@github.com:username&#x2F;repo-name.git 你也许还注意到，GitHub给出的地址不止一个，还可以用 https://github.com/michaelliao/gitskills.git 这样的地址。实际上，Git支持多种协议，默认的 git://使用ssh ，但也可以使用https等其他协议。 使用https除了速度慢以外，还有个最大的麻烦是每次推送都必须输入口令，但是在某些只开放http端口的公司内部就无法使用ssh协议而只能用https。","categories":[],"tags":[{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"Github","slug":"Github","permalink":"https://blog.bingfengs.xyz/tags/Github/"}]},{"title":"AP部署基本概念","slug":"AP部署基本概念","date":"2019-09-20T14:33:18.000Z","updated":"2020-02-02T13:22:12.168Z","comments":true,"path":"2019/09/20/ap-bu-shu-ji-ben-gai-nian/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/ap-bu-shu-ji-ben-gai-nian/","excerpt":"","text":"信号强度db是一个纯粹的比值，只表示两个量的相对大小关系。举个栗子，当考虑A功率比B功率大多少db时，可使用公式：10lg[Pa/Pb]。假设A功率比B功率大一倍，则10lg[Pa/Pb]=10log2=3db，即A功率比B功率大3db X = 1000000000000000（不用数了，15个0）= 10lgX = 150 dB X = 0.000000000000001 = 10lgX = -150 dB 实际上我们通常用1w的比值来表示为dbw，与1mw的比值单位表示为dbm。因为WIFI信号的能量通常为mw级，因此业界将WIFI信号大小表示为与1mw的强度比，用dbm来表示 0dbm&#x3D;1mw，30dbm&#x3D;1000mw，Wi-Fi信号发出时强度通常就在这个范围内。 此外，业界通常有这么一个规则： +3dbm，功率*2； -3dbm，功率&#x2F;2； +10dbm，功率*10； -10dbm，功率&#x2F;10 dBm是一个表示功率绝对值的单位，计算公式为：10lg功率值/1mW。例如：如果发射功率为 1mW，按dBm单位进行折算后的值应为：10 lg (1mW/1mW) = 0dBm；对于40W的功率,则10 lg(40W/1mW)=46dBm dbm=30+10lgP 其中P是功率 -70dbm以上为理想的信号强度，-70dbm～-80dbm为中等信号强度，小于-80dbm为弱信号 信噪比SNR（Signal-to-Noise Ratio） 当某WIFI STA的接收信号强度为-85 dBm，而这时的背景噪声强度为-95dBm，这时SNR=10dB。 10dB的差别对于WIFI芯片来说SNR太小了，芯片无法区分背景噪声和WIFI信号 信噪比的表达方式为： SNR &#x3D; 10lg（ PS &#x2F; PN），其中： SNR：信噪比，单位是dB。 PS：信号的有效功率。 PN：噪声的有效功率。 信噪比越大，说明信号中携带的噪声信号越小，从而对信号传输的影响越小。 一般认为信噪比&gt;30db时，基本不会影响到当前信道工作 2.4G每间隔5个信道，可认为信号的隔离度能够达到30db，这也是为什么需要用1、6、11信道蜂窝部署 5G推荐36、40、44、48、149、153、157、161、165信道 HT20 HT40802.11n有两种频宽模式：HT20和HT40。HT20使用的时20MHz频宽，HT40使用的40MHz频宽。20Mhz和40Mhz的区别，可以想象成道路的宽度，宽度越宽当然同时能跑的数据越多，也就提高了速度。但是无线网的“道路”是大家共享的，一共就这么宽(802.11 b/g/n的频带是 2.412Ghz ~ 2.472Ghz，一共60Mhz。802.11a/n在中国可用的频带是5.745Ghz ~ 5.825Ghz，同样也是60Mhz)，你占用的道路宽了，跑得数据多了，当然也就容易跟别人撞车，一旦撞车大家就都会慢下来，比你在窄路上走还要慢。原来挤一挤可以四个人同时用的，如果你用了40Mhz的话就只能两个人同时用了。 HT20与HT40怎么选择： 使用HT20主要是出于兼容性考虑：比如，一个区域内存在11b/g信号，那么为了尽量减少对它们的干扰，需要设定为HT20，以减少频带的重叠。 使用HT40主要是出于高性能考虑：HT40相当于两个HT20的捆绑，一个是主，一个是辅。主信道发送beacon报文和部分数据报文，辅信道发送其他报文。 出于兼容性及Wifi稳定性考虑，HT40模式在一个蜂窝式无线覆盖区域最好不要在2.4GHz使用，最好在5GHz使用。在2.4G使用HT40，则有效通道有3~13，非重叠的却只有3，11. 如果有高吞吐需求，可使用HT80信道，推荐使用149、156、157、161或者153、157、161、165绑定 AP之间的距离如果两个AP不在同一个信道，那么他们在一起很近也不会有影响（1m以上），但如果是同一个信道的两个AP，他们之间必须保持安全距离，这个安全距离约为两个AP覆盖距离之和 控制AP功率降低AP的功率，减少干扰 减少信标帧beacon、探测帧Probe request 、回应帧Probe response 的发送功率，避免弱信号设备连接，减小远端设备连接 禁用低速率集，避免远端的低速率设备连入","categories":[],"tags":[{"name":"硬件","slug":"硬件","permalink":"https://blog.bingfengs.xyz/tags/%E7%A1%AC%E4%BB%B6/"},{"name":"WiFi","slug":"WiFi","permalink":"https://blog.bingfengs.xyz/tags/WiFi/"}]},{"title":"初步了解Windows日志","slug":"初步了解Windows日志","date":"2019-09-20T14:23:18.000Z","updated":"2020-02-02T13:26:21.651Z","comments":true,"path":"2019/09/20/chu-bu-liao-jie-windows-ri-zhi/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/chu-bu-liao-jie-windows-ri-zhi/","excerpt":"","text":"Windows日志笔记Windows日志包括应用程序、安全、系统等几个部分，它的存放路径是“%systemroot%system32config”，应用程序日志、安全日志和系统日志对应的文件名为AppEvent.evt、SecEvent.evt和SysEvent.evt。这些文件受到“Event Log（事件记录）”服务的保护不能被删除，但可以被清空。 查看日志文件打开【事件查看器】即可 保护日志文件更改路径Windows日志文件默认路径是“%systemroot%system32config”，我们可以通过修改注册表来改变它的存储目录，来增强对日志的保护。 点击“开始→运行”，在对话框中输入“Regedit”，回车后弹出注册表编辑器，依次展开 HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services/Eventlog 后，下面的 Application 应用程序日志(Application.evtx) Security 安全日志(Security.evtx) System 系统日志(System.evtx) 其他 Microsoft Office Alerts 微软Office应用程序 OAerts.evtx Windows PowerShell Windows PowerShell.evtx Internet Explorer Internet Explorer.evtx 笔者以应用程序日志为例，将其转移到“d:\\cce”目录下。选中Application子项,在右栏中找到File键，其键值为应用程序日志文件的路径“%SystemRoot%\\system32config\\AppEvent.Evt”，将它修改为“d:\\cce\\AppEvent.Evt”。接着在D 盘新建“CCE”目录，将“AppEvent.Evt”拷贝到该目录下，重新启动系统，完成应用程序日志文件存放目录的修改。其它类型日志文件路径修改方法相同，只是在不同的子项下操作 修改日志文件的权限在文件属性对话框的安全选项 取消“允许将来自父系的可继承权限传播给该对象”选项勾选 “Everyone”账号，只赋予“只读”权限 添加“system”账号，赋予“完全控制”权限 日志详情每个记录事件的数据结构中包含了9个元素（可以理解成数据库中的字段）： 日期/时间 事件类型 用户 计算机 事件ID 来源 类别 描述 数据等信息 系统内置的三个核心日志文件（System，Security和Application）默认大小均为20480KB（20MB），记录事件数据超过20MB时，默认系统将优先覆盖过期的日志记录。其它应用程序及服务日志默认最大为1024KB，超过最大限制也优先覆盖过期的日志记录。 Windows事件日志中共有五种事件类型，所有的事件必须拥有五种事件类型中的一种，且只可以有一种。五种事件类型分为： 信息（Information） 信息事件指应用程序、驱动程序或服务的成功操作的事件。 警告（Warning） 警告事件指不是直接的、主要的，但是会导致将来问题发生的问题。例如，当磁盘空间不足或未找到打印机时，都会记录一个“警告”事件。 错误（Error） 错误事件指用户应该知道的重要的问题。错误事件通常指功能和数据的丢失。例如,如果一个服务不能作为系统引导被加载，那么它会产生一个错误事件。 成功审核（Success audit） 成功的审核安全访问尝试，主要是指安全性日志，这里记录着用户登录/注销、对象访问、特权使用、账户管理、策略更改、详细跟踪、目录服务访问、账户登录等事件，例如所有的成功登录系统都会被记录为“ 成功审核”事件。 失败审核（Failure audit） 失败的审核安全登录尝试，例如用户试图访问网络驱动器失败，则该尝试会被作为失败审核事件记录下来。 日志分析实例 在Windows系统中，我们可以通过事件查看器的系统日志查看计算机的开、关机记录，这是因为日志服务会随计算机一起启动或关闭，并在日志中留下记录。这里我们要介绍两个事件ID“6006和6005”。6005表示事件日志服务已启动，如果在事件查看器中发现某日的事件ID号为6005的事件，就说明在这天正常启动了Windows系统。6006表示事件日志服务已停止，如果没有在事件查看器中发现某日的事件ID号为6006的事件，就表示计算机在这天没有正常关机，可能是因为系统原因或者直接切断电源导致没有执行正常的关机操作。 删除日志Windwos操作系统默认没有提供删除特定日志记录的功能，仅提供了删除所有日志的操作功能。也就意味着日志记录ID（Event Record ID）应该是连续的，默认的排序方式应该是从大到小往下排列。 辅助工具 http://www.eventid.net/ 这个网站可以查相应id的日志的介绍 可是EVENTID.NET上有的信息要付费注册用户才能看，怎么办呢：） 查EVENTID.NET可以按以下方法来查 [url]http:&#x2F;&#x2F;www.eventid.net&#x2F;display.asp?eventid&#x3D;xxxx&amp;source&#x3D;yyyy[&#x2F;url] xxxx即事件ID yyyy即事件来源 引伸阅读日志攻击 https://www.4hou.com/system/6036.html","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"百度云不限速下载","slug":"百度云不限速下载","date":"2019-09-20T14:17:34.000Z","updated":"2020-02-02T13:27:42.924Z","comments":true,"path":"2019/09/20/bai-du-yun-bu-xian-su-xia-zai/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/bai-du-yun-bu-xian-su-xia-zai/","excerpt":"","text":"本文创建于19年8月16号 首先，百度会不断出封杀的策略，所以本文的教程不可能一直有效。但是，破解的方法也会不断跟进的（你可以自己去留意一下论坛，或者在全球最大的“同性交友网站”找到与时俱进的客户端） 本人不对使用所造成的任何后果负责，请酌情使用 下载这是一个开源的软件，所以放心用吧。下面是github的网址，里面有软件的下载地址。（这个提供了两个软件，我这里只使用第一种） https://github.com/b3log/baidu-netdisk-downloaderx 使用下载之后，解压软件，然后点击如下软件 之后，有如下界面，需要填入一个代码，以登录你的百度云账号 这里，我以Chrome浏览器为例，获取这个BDUSS值 获取 BDUSS 登录 打开百度云的网页，登录自己的账号，进入文件管理页面后，点击搜索栏的锁头图标，然后点击cookie 然后安装如下图，找到自己的BDUSS值 返回软件，粘贴我们刚才复制的代码，然后点击登录，然后，选择下载后的文件的存放位置 下载 选择好文件之后，点击【3.开始下载】就行。实测速度还行，100多兆的文件10几秒就搞定了 总结这里我只介绍了BND1 ，开源项目有两个 ，还有BND2 ，出于某些原因，就不介绍了 其实，运营一个（国民级）网盘成本是很高的，，这个经费是亿级别的。感兴趣的可以看一下下面的的视频 https://www.bilibili.com/video/av58647793?from=search&amp;seid=1296837114026661321 如果自己动手能力强的话，可以“白嫖”。但是，如果不想折腾，那去充一个会员（百度云的收费其实是很便宜了，如果你有去了解国外的一些网盘，如谷歌云，或微软的365，你就会发现，百度简直是白菜价）就能给自己省下很多的时间精力。你应当承认你的时间精力比这几十块钱值钱，不是吗？ 另外，如果只是临时下载文件，有一个不错的网站推荐使用，每天有5次下载机会，每次只能下载单文件。 https://www.baiduwp.com/ 这个网站访问不了请使用代理","categories":[],"tags":[{"name":"破解","slug":"破解","permalink":"https://blog.bingfengs.xyz/tags/%E7%A0%B4%E8%A7%A3/"},{"name":"百度云","slug":"百度云","permalink":"https://blog.bingfengs.xyz/tags/%E7%99%BE%E5%BA%A6%E4%BA%91/"}]},{"title":"Windows主机定时播放音乐","slug":"Windows主机定时播放音乐","date":"2019-09-20T13:59:22.000Z","updated":"2020-02-02T13:26:12.960Z","comments":true,"path":"2019/09/20/windows-zhu-ji-ding-shi-bo-fang-yin-le/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/windows-zhu-ji-ding-shi-bo-fang-yin-le/","excerpt":"","text":"一、建立播放列表文件 将需要播放的音频文件归类整理好，分目录存放 打开 VLC 视频播放软件，界面如下，将随机播放按钮打开（打开随机播放的目的是因为下班有多个音频，每天下班随机播放） 将一个目录下面的音频文件拖到VLC播放器列表里面 将播放列表保存为文件，建议放在桌面 保存好之后，会有这个文件 关闭VLC软件，重新按照上面的步骤添加新的播放类别软件。这样，我们导出来两个列表文件 二、创建播放音乐的计划任务 打开 计划任务 面板，点击【创建任务】 【常规】如下图设置 如果设置了【不管用户是否登录都要运行】，然后，在测试的时候，有后台VlC程序，但是没有声音，这个时候，可以试试重新安装VLC或使用【只有在用户登录才运行】 【触发器】如下图设置 【操作】如下图设置， 选择第一个步骤导出的播放列表文件（下班.xspf) ，作为执行文件 然后点击【确认】，完成设置 这样我们就创建了一个下班自动播放音乐的任务，同样，午休的播放铃声也同样创建一个计划任务 三、创建结束音乐的计划任务创建了播放的任务后，因为下班有多个音乐，不可能等播放器全部播放完结束，我们要写一个脚本来结束VLC程序。音乐的播放时间为5分钟。 创建一个【kill_vlc.bat】的脚本，里面的内容为 taskkill /im vlc.exe /f 注意，文本的编码使用【ANSI】编码格式 同样，在任务计划程序里点击【创建任务】，在【常规】里如下图设置 【触发器】的设置如下 【操作】的设置如下，选择刚才创建的脚本（kill_vlc.bat) 点击【确定】，我们就添加了一个结束播放任务的脚本 同理，午休的播放任务也要创建一个结束任务 创建一个计划重启任务为了电脑运行的稳定，每周重启一次电脑 首先建一个【reboot.bat】脚本文件，内容为： shutdown -r -f -t 60 注意，文本的编码使用【ANSI】编码格式 在任务计划程序里面，创建一个任务，如下图 然后，点击【确定】添加 四、改变播放的音频如果后面要更改音乐，可以按照下面的步骤操作 记住，目前有两个播放列表，分别为【午休.xspf】和【下班.xspf】，如果要替换目前午休和下班的音乐，参考第一步，将音乐文件拷到对应文件夹，重新创建播放列表文件，然后命名为同样的文件名，覆盖替换原先的就可以。 其他地方不需要变动 建议让电脑开机后自动登录运行 如果电脑有开机密码，参考下方的教程，有密码也能自动登录： https://www.sysgeek.cn/auto-login-windows-10/","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"计划任务","slug":"计划任务","permalink":"https://blog.bingfengs.xyz/tags/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/"}]},{"title":"hexo笔记","slug":"Hexo笔记","date":"2019-09-20T12:24:49.000Z","updated":"2021-12-14T14:34:39.018Z","comments":true,"path":"2019/09/20/hexo-bi-ji/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/hexo-bi-ji/","excerpt":"","text":"官方说明文档 https://hexo.io/zh-cn/docs/ Hexo 使用安装确保电脑安装了Git 和 Npm ，然后执行下方命令 $ npm install -g hexo-cli npm 指定代理的方式，后面加上 --proxy=http://127.0.0.1:1080 在指定文件夹初始化&gt; $ hexo init &lt;folder&gt; &gt; $ cd &lt;folder&gt; &gt; $ npm install 文件 _config.yml : 网站的配置信息 package.json: 应用程序的信息 scaffolds: 模版文件夹。新建文章时，Hexo会根据scaffold来建立文件 source: 资源文件夹是存放用户资源的地方。除 _posts 文件夹之外，开头命名为 _ (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 public 文件夹，而其他文件会被拷贝过去。 themes: 主体文件夹，Hexo会根据主体来生成静态页面 配置文件_config.yml https://hexo.io/zh-cn/docs/configuration 指令inithexo init [folder] 新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。 new$ hexo new [layout] &lt;title&gt; 新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。 $ hexo new --path about/me &quot;about me&quot; 文章存放的默认目录为： source/_posts $ hexo new page --path contact/me “contact me” 加了 page 参数后 ， 会在 soruce 目录下面 直接创建 目录。注意，后面的“contact me”不能缺少 generate生成静态文件 hexo generate 等效于 hexo g publish发表草稿 $ hexo publish [layout] &lt;filename&gt; serverhexo server 启动服务器。默认情况下，访问网址为： http://localhost:4000/ 加入 -p 选项可以重置端口 deploy部署网站 hexo deploy renderhexo render &lt;file1&gt; [file2] ... 渲染文件 -o ： 设置输出路径 migratehexo migrate &lt;type&gt; 从其他博客系统迁移内容 cleanhexo clean 清除缓存文件 (db.json) 和已生成的静态文件 (public)。 在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。 listhexo list &lt;type&gt; 列出网站资料 选项安全模式hexo --safe 在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。 写作布局（Layout）$ hexo new [layout] &lt;title&gt; 您可以在命令中指定文章的布局（layout），默认为 post，可以通过修改 _config.yml 中的 default_layout 参数来指定默认布局 Hexo 有三种默认布局：post、page 和 draft。在创建者三种不同类型的文件时，它们将会被保存到不同的路径；而您自定义的其他布局和 post 相同，都将储存到 source/_posts 文件夹。 布局 路径 post source/_posts page source draft source/_drafts 分类和标签 分类：categories 标签：tags 只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 Foo, Bar 不等于 Bar, Foo；而标签没有顺序和层次。 文件名Hexo 默认以标题做为文件名称，但您可编辑 new_post_name 参数来改变默认的文件名称，举例来说，设为 :year-:month-:day-:title.md 可让您更方便的通过日期来管理文章。 变量 描述 :title 标题（小写，空格将会被替换为短杆） :year :month :i_month 上面为两位数（03），这个为一位数（3） :day :i_day 草稿刚刚提到了 Hexo 的一种特殊布局：draft，这种布局在建立时会被保存到 source/_drafts 文件夹，您可通过 publish 命令将草稿移动到 source/_posts 文件夹，该命令的使用方式与 new 十分类似，您也可在命令中指定 layout 来指定布局。 $ hexo publish [layout] &lt;title&gt; 草稿默认不会显示在页面中， hexo s --draft，或是把 render_drafts 参数设为 true 来预览草稿。 模版（Scaffold）在执行这行指令时，Hexo 会尝试在 scaffolds 文件夹中寻找 photo.md，并根据其内容建立文章，以下是您可以在模版中使用的变量： 变量 描述 layout 布局 title 标题 date 文件建立日期 服务器Hexo 3.0 把服务器独立成了个别模块，您必须先安装 hexo-server 才能使用。 npm install hexo-server --save 启动服务 hexo server 更换端口启动 hexo server -p 5000 静态模式在静态模式下，服务器只处理 public 文件夹内的文件，而不会处理文件变动，在执行时，您应该先自行执行 hexo generate ，此模式通常用于生产环境（production mode）下。 hexo server -s 自定义IP服务器默认运行在 0.0.0.0，您可以覆盖默认的 IP 设置： hexo server -i 192.168.1.1 生成文件 $ hexo generate 监视文件变动Hexo 能够监视文件变动并立即重新生成静态文件，在生成时会比对文件的 SHA1 checksum，只有变动的文件才会写入。hexo generate --watch 完成后部署执行下方两个命令中的一个，两条命令是等价的 hexo generate --deployhexo deploy --generate 部署hexo deploy 必须要在_config.yml中修改参数，一个正确的部署配置中至少要有type参数，例如： deploy: type:git Git 部署安装hexo-deployer-git npm install hexo-deployer-git --save 修改配置 deploy: type: git repo: &lt;repository url&gt; #https:&#x2F;&#x2F;bitbucket.org&#x2F;JohnSmith&#x2F;johnsmith.bitbucket.io branch: [branch] #published message: [message] 参数 描述 repo 库（Repository）地址 branch 分支名称。如果不指定，则默认值为 master message 自定义提交信息 生成站点文件并推送至远程库。执行 hexo clean &amp;&amp; hexo deploy 命令（如果您并未全局安装 Hexo Cli，则需要执行 ./node_modules/.bin/hexo clean &amp;&amp; ./node_modules/.bin/hexo deploy） 当执行 hexo deploy 时，Hexo 会将 public 目录中的文件和目录推送至 _config.yml 中指定的远端仓库和分支中，并且完全覆盖该分支下的已有内容。 此外，如果您的 Github Pages 需要使用 CNAME 文件自定义域名，请将 CNAME 文件置于 source 目录下，只有这样 hexo deploy 才能将 CNAME 文件一并推送至部署分支。 MD 写作的一些技巧 https://lxxs.xyz/archives/17/ 折叠显示&lt;details&gt; &lt;summary&gt;点击查看&lt;&#x2F;summary&gt; 内容 &lt;&#x2F;details&gt; 彩色字体 https://xiabor.com/714f.html#%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7 &lt;font face&#x3D;&quot;黑体&quot;&gt;这是黑体字&lt;&#x2F;font&gt; &lt;font face&#x3D;&quot;微软雅黑&quot;&gt;这是微软雅黑&lt;&#x2F;font&gt; &lt;font face&#x3D;&quot;STCAIYUN&quot;&gt;这是华文彩云&lt;&#x2F;font&gt; &lt;font color&#x3D;#0099ff size&#x3D;3 face&#x3D;&quot;黑体&quot;&gt;三号蓝色黑体&lt;&#x2F;font&gt; &lt;font color&#x3D;#00ffff size&#x3D;4&gt;四号青色字&lt;&#x2F;font&gt; &lt;font color&#x3D;gray size&#x3D;5&gt;五号灰色字&lt;&#x2F;font&gt; 效果如下： 这是黑体字 这是微软雅黑 这是华文彩云 三号蓝色黑体 四号青色字 五号灰色字 中文字体：黑体：SimHei宋体：SimSun新宋体：NSimSun仿宋：FangSong楷体：KaiTi仿宋_GB2312：FangSong_GB2312楷体_GB2312：KaiTi_GB2312微软雅黑：Microsoft YaHei 英文字体：PmingLiuImpactGeorgiaTahomaArialBook AntiquaCentury GothicCourier NewTimes New RomanVerdana 其他字体仿宋：FangSong华文细黑：STHeiti Light (STXihei)华文黑体：STHeiti华文楷体：STKaiti华文宋体：STSong华文仿宋：STFangsong隶书：LiSu幼圆：YouYuan华文细黑：STXihei华文楷体：STKaiti华文宋体：STSong华文中宋：STZhongsong华文仿宋：STFangsong方正舒体：FZShuTi方正姚体：FZYaoti华文彩云：STCaiyun华文琥珀：STHupo华文隶书：STLiti华文行楷：STXingkai华文新魏：STXinwei 常用颜色代码color=marooncolor=greycolor=silvercolor=lightgreycolor=HotPinkcolor=DeepPinkcolor=VioletRedcolor=Purplecolor=navycolor=Bluecolor=DeepSkyBluecolor=LightSkyBluecolor=aquacolor=DarkTurquoisecolor=LightSeaGreencolor=YellowGreencolor=LawnGreencolor=GreenYellowcolor=Yellowcolor=Tomatocolor=redcolor=fuchsiacolor=MediumOrchidcolor=DarkViolet 插入Bilibili视频&lt;div style=\"position: relative; padding: 30% 45%;\"> &lt;iframe style=\"position: absolute; width: 100%; height: 100%; left: 0; top: 0;\" src=\"https://player.bilibili.com/player.html?aid=70993038&amp;cid=123009768&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0\" frameborder=\"no\" scrolling=\"no\">&lt;/iframe> &lt;/div> 插入网易云歌曲&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;330 height&#x3D;86 src&#x3D;&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type&#x3D;2&amp;id&#x3D;22778741&amp;auto&#x3D;0&amp;height&#x3D;66&quot;&gt;&lt;&#x2F;iframe&gt; 超链接欢迎来到[宅世界](https:&#x2F;&#x2F;blog.bingfeng.ml) 欢迎来到[宅世界](https:&#x2F;&#x2F;blog.bingfeng.ml &quot;宅世界&quot;) 文章内锚点跳转到[草稿](#草稿) 括号内的草稿为标题的名称 跳转到草稿","categories":[],"tags":[{"name":"建站","slug":"建站","permalink":"https://blog.bingfengs.xyz/tags/%E5%BB%BA%E7%AB%99/"},{"name":"Hexo","slug":"Hexo","permalink":"https://blog.bingfengs.xyz/tags/Hexo/"}]},{"title":"Chorme和Firefox保存网页密码安全性探究","slug":"Chorme和Firefox保存网页密码安全性探究","date":"2019-09-20T11:51:00.000Z","updated":"2022-04-29T15:41:44.487Z","comments":true,"path":"2019/09/20/chorme-he-firefox-bao-cun-wang-ye-mi-ma-an-quan-xing-tan-jiu/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/20/chorme-he-firefox-bao-cun-wang-ye-mi-ma-an-quan-xing-tan-jiu/","excerpt":"","text":"背景今天看到微软发布了基于chromium的Edge浏览器，下载了Beta版本下来体验。但是我发现了一个隐患很大的地方—-Edge把我的chrome里的浏览记录，甚至是网页保存的密码，都同步过去了。当时我就纳闷了，微软这么牛逼的吗？后来我发现，不是人家太流弊，而是开源这东西，一言难尽。。。。。。 过程在网上查了一番资料之后，发现如下几点（如果有错误，请指正）： chrome其实是会对你存储的密码加密的。但是加密算法是开源的，所以，找到解密算法，破解密码应该就不是什么问题了 具体可以参见下面的文章 https://www.4hou.com/technology/10114.html 加密的密码，一般只有对应的凭据才能查看（比如你的windows以KO这个用户登录，那么只有KO能查看密码，你导出密码文件到其他地方查看，也是没用的） 这是解密的三个要素 1.加密密钥，位于%appdata%\\Microsoft\\Protect下对应sid文件夹下的文件 2.数据库文件Login Data 3.用户明文的密码，用于解密加密密钥 网上已经有很多工具，可以直接导出chorme里面的账号密码了…。比如这个牛逼的网站，提供了相应的工具 https://www.nirsoft.net/utils/web_browser_password.html 从上面这个工具的介绍可以看出，不止chorme，甚至Firefox，safari等浏览器也难以幸免 Description WebBrowserPassView is a password recovery tool that reveals the passwords stored by the following Web browsers: Internet Explorer (Version 4.0 - 11.0), Mozilla Firefox (All Versions), Google Chrome, Safari, and Opera. This tool can be used to recover your lost&#x2F;forgotten password of any Website, including popular Web sites, like Facebook, Yahoo, Google, and GMail, as long as the password is stored by your Web Browser. IE，Edge，Chrome和Firefox都利用Windows DPAPI（数据保护接口）来加密自动填写数据，并在下次使用之前将其解密 DPAPI（数据保护接口）是一对调用函数，为用户和系统进程提供操作系统级别的数据保护服务。可是我们知道数据保护是操作系统的一部分，所以每个应用程序都可以保护数据，而不需要任何特定的加密代码，也就是说不需要DPAPI进行的函数调用。那么问题来了：浏览器使用DPAPI函数，同时加密所需的数据，而且不需要用户干预。任何脚本或代码都可以在不需要特殊许可或提升权限的情况下就可以调用解密DPAPI函数来解密数据，比如信用卡信息 https://www.anquanke.com/post/id/102039 Firefox经过考虑，打算弃用Chrome。毕竟Google家的嘛，也是有点隐患的 于是了解了Firefox的密码管理策略 尽管密码管理器将用户名和密码以加密格式存储在本地硬盘上，可以访问该计算机的用户配置文件的人仍然可以看到并使用这些信息。使用【主密码保护存储的密码】 一文会告诉您如何防止这种情况，以及如何在计算机丢失或被盗的情况下保护您的信息。 上面引用Firefox官网文章，跟Chrome差不多，但我注意到了一个【主密码保护】。 后面在Google搜了一圈，大多也是说这个弱加密，容易被爆破 https://www.cyclonis.com/zh-hans/why-should-not-rely-firefoxs-master-password/ https://nosec.org/home/detail/2875.html 其实我的目的是这样的，系统的密码肯定是第一道防线，电脑肯定不会借给他人。如果借给他人，也是另外开一个系统用户（后面会验证一下这个方法，是否能使用我的密码）。但是，如果我的电脑感染了后门，这个主密码是否能成为我的第二道防线？！这个是我需要验证的。 我的实验结果是，开启了火狐的主密码保护后，nirsoft的软件无法获取到火狐保存的账号密码，而且每次网页要调用登录时，都需要输入主密码。嗯，确实好多了，给火狐点赞 另外，Chrome 和 Firefox 的密码文件默认都放置在 当前用户的AppData目录下面。别人借你电脑，你开另外一个普通权限用户账户，应该是看不到你的账号密码了。我进入PE环境运行nirsoft的软件，发现chrome和Firefox都看不到记录了。 结论从上面的分析，可以得出 设置了【主密码保护】后的火狐比Chrome好（前提不考虑爆破的问题） 设置火狐【主密码保护】，一定要设置一个很复杂的密码，才不容易被爆破。另外这个主密码一但忘记，是可以取消的，具体的方法自己查，但是吶，你保存的网页密码都会不见 如果你是个注重安全的人，电脑不要借给别人 在搜索资料的时候，在V2EX上面有个“chorme网页保存的密码是明文”的讨论，虽说那个楼主的说法表述有问题，但是看了一些言论，莫名搞笑，比如：“总有刁民想害朕” 。感觉大伙的安全意识还有待提高啊！ https://www.v2ex.com/t/302006 如果你每次打开火狐后，发现一会就弹出主密码输入框，那是你登录了火狐的账号。退出火狐账号之后，就不会出现这个情况 如果火狐设置里面出现“你的浏览器由你的组织管理”这种情况，可能是杀毒软件（比如：AVG）造成的，卸载杀毒即可。网上说可以删除注册表项，但是重新开机后，还是出现该提示，没用 如果你不需要火狐的密码管理，可以禁用它","categories":[],"tags":[]},{"title":"V2ray 防检测部署","slug":"V2ray防检测部署","date":"2019-09-19T14:30:41.000Z","updated":"2021-12-14T14:33:51.391Z","comments":true,"path":"2019/09/19/v2ray-fang-jian-ce-bu-shu/","link":"","permalink":"https://blog.bingfengs.xyz/2019/09/19/v2ray-fang-jian-ce-bu-shu/","excerpt":"","text":"v2ray WebSocket+TLS+Web 实现方法 以前用的都是最基本的配置方法，没有开启 tlc。时不时就断连，作为Google的重度使用者，接受不了，就用WebSocket+TLS+Web结合的方式 建议：用这个方法搭建，你起码要会使用一些基本的Linux 命令，一些常见的报错也要看得懂，不然会很吃力 安装 v2ray 与Shadowsocks 不同，从软件上 V2Ray 不区分服务器版和客户端版，也就是说在服务器和客户端运行的 V2Ray 是同一个软件，区别只是配置文件的不同。 校准时间对于 V2Ray，它的验证方式包含时间，就算是配置没有任何问题，如果时间不正确，也无法连接 V2Ray 服务器的，服务器会认为你这是不合法的请求。所以系统时间一定要正确，只要保证时间误差在90秒之内就没问题。 查看时间 date -R 修改时间，等号后面接要更改的时间 date --set=&quot;2017-01-22 16:16:23&quot; 有时候VPS的时间是正确的,只是时区不一样,更改时区的方法依次运行下方的命令,然后重启电脑 [root@linux-node ~]# echo &quot;ZONE&#x3D;Asia&#x2F;Shanghai&quot; &gt;&gt; &#x2F;etc&#x2F;sysconfig&#x2F;clock [root@linux-node ~]# rm -f &#x2F;etc&#x2F;localtime #链接到上海时区文件 [root@linux-node ~]# ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime ———————————————— 原文链接：https:&#x2F;&#x2F;blog.csdn.net&#x2F;m0_37886429&#x2F;article&#x2F;details&#x2F;78477638 下载并安装v2rayhttps://github.com/v2fly/fhs-install-v2ray # curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh # curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-dat-release.sh 安裝和更新 V2Ray # bash install-release.sh 安裝最新發行的 geoip.dat 和 geosite.dat # bash install-dat-release.sh 移除 V2Ray # bash install-release.sh --remove 让v2ray服务开机自启，关闭SELinux，不然无法enable sestatus #查看 selinux的状态 setenforce 0 # 临时关闭 selinux 永久关闭,可以修改配置文件&#x2F;etc&#x2F;selinux&#x2F;config,将其中SELINUX设置为disabled https:&#x2F;&#x2F;blog.csdn.net&#x2F;edide&#x2F;article&#x2F;details&#x2F;52389946 systemctl enable v2ray 到这里，V2ray就安装完成了，后面我们开始配置其他东西 注册域名这一步开开启 TLS 你可以从一些知名的域名服务商那里获取域名，我们使用免费的就可以了购买域名的方法，请Google 注册好域名之后务必记得添加一个 A 记录 指向你的 VPS的 IP地址! 这一步是在域名服务商的管理后台操作的 证书安装 证书有两种，一种是 ECC 证书（内置公钥是 ECDSA 公钥），一种是 RSA 证书（内置 RSA 公钥）。简单来说，同等长度 ECC 比 RSA 更安全,也就是说在具有同样安全性的情况下，ECC 的密钥长度比 RSA 短得多（加密解密会更快）。但问题是 ECC 的兼容性会差一些，Android 4.x 以下和 Windows XP 不支持。只要您的设备不是非常老的老古董，强烈建议使用 ECC 证书。 获取 acme.sh 脚本这个是用来帮助你获取 Let’s Encrypt 的免费证书的 下载 curl https://get.acme.sh | sh ———————重要———————— 过程中如果提示 standalone模式(下图)，请根据提示下载缺失的软件 yum install socat 看到 “Install success!” 代表成功 安装成功后执行 source ~/.bashrc 以确保脚本所设置的命令别名生效。 生成证书以下命令，请把 mydomain.me 替换成你的域名 以下的命令会临时监听 80 端口，请确保执行该命令前 80 端口没有使用 sudo ~/.acme.sh/acme.sh --issue -d mydomain.me --standalone -k ec-256 -k 表示密钥长度，后面的值可以是 ec-256 、ec-384、2048、3072、4096、8192，带有 ec 表示生成的是 ECC 证书，没有则是 RSA 证书。在安全性上 256 位的 ECC 证书等同于 3072 位的 RSA 证书。 更新证书由于 Let’s Encrypt 的证书有效期只有 3 个月，因此需要 90 天至少要更新一次证书，acme.sh 脚本会每 60 天自动更新证书。也可以手动更新。 手动更新 ECC 证书，执行： $ sudo ~/.acme.sh/acme.sh --renew -d mydomain.com --force --ecc 安装证书以下命令，请把 mydomain.me 替换成你的域名 将证书和密钥安装到 /etc/v2ray 中： $ sudo ~&#x2F;.acme.sh&#x2F;acme.sh --installcert -d mydomain.me --fullchainpath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt --keypath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key --ecc 由于本例中将证书生成到 /etc/v2ray/ 文件夹，更新证书之后还得把新证书生成到 /etc/v2ray 无论什么情况，密钥(即上面的v2ray.key)都不能泄漏，如果你不幸泄漏了密钥，可以使用 acme.sh 将原证书吊销，再生成新的证书，吊销方法请自行参考 acme.sh 的手册 安装nginx这里我们选择用源码编译的方法来安装 到nginx官网下载 http://nginx.org/en/download.html 一般选择“nginx-1.17.3”字样就是源码 可以用 wget 命令 下载到 你的vps上，准备编译用 安装编译用的工具 yum -y install gcc gcc-c++ automake pcre pcre-devel zlib zlib-devel open openssl-devel 编译nginx tar xf nginx-1.17.3.tar.gz cd nginx-1.17.3 .&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx --with-http_stub_status_module --with-http_ssl_module configure 一定要指定上面的参数。--prefix 是编译好后nginx安装的位置. http_ssl_module 是 ssl 需要的，切记要加上去.不然，后面又要再编译一次，很麻烦 如果需要重新编译，方法见下面链接 https://imshusheng.com/linux/173.html 我们继续： $ make $ make install 更多关于nginx的信息(重要) https://www.jianshu.com/p/320a48fcef57 设置nginx开机自启vi &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;nginx.service 填写如下信息 [Unit] Description&#x3D;nginx After&#x3D;network.target [Service] Type&#x3D;forking ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx ExecReload&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reload ExecStop&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s quit PrivateTmp&#x3D;true [Install] WantedBy&#x3D;multi-user.target 让nginx开机自动动 systemctl enable nginx.service 查看nginx是否启动成功 systemctl status nginx.service 更详细的信息，请参考 https://www.jianshu.com/p/ca5ee5f7075c 配置服务器v2ray和nginx这里，我们只需要更改 /etc/v2ray/config.json 和 /usr/local/nginx/conf/nginx.conf 这两个文件就行 参考下面的教程： https://toutyrater.github.io/advanced/wss_and_web.html v2ray 配置将文件所有的内容替换为如下 &#123; &quot;inbounds&quot;: [ &#123; &quot;port&quot;: 10000, &quot;listen&quot;:&quot;127.0.0.1&quot;,&#x2F;&#x2F;只监听 127.0.0.1，避免除本机外的机器探测到开放了 10000 端口 &quot;protocol&quot;: &quot;vmess&quot;, &quot;settings&quot;: &#123; &quot;clients&quot;: [ &#123; &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;, &#x2F;&#x2F;id更改为自己的 &quot;alterId&quot;: 64 &#125; ] &#125;, &quot;streamSettings&quot;: &#123; &quot;network&quot;: &quot;ws&quot;, &quot;wsSettings&quot;: &#123; &quot;path&quot;: &quot;&#x2F;ray&quot; &#125; &#125; &#125; ], &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot;, &quot;settings&quot;: &#123;&#125; &#125; ] &#125; nginx 配置将nginx的配置文件里面 原 server 花括号里的内容替换为如下.请注意格式以及内容,不然启动不了nginx的 server &#123; listen 443 ssl; # 后续如果开了防火墙，记得开放该端口 ssl on; ssl_certificate &#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt; #这里调用我们TLS那里生成的证书 ssl_certificate_key &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key; #这里调用我们TLS那里生成的证书 ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; server_name mydomain.me; location &#x2F;ray &#123; # 与 V2Ray 配置中的 path 保持一致 proxy_redirect off; proxy_pass http:&#x2F;&#x2F;127.0.0.1:10000;#假设WebSocket监听在环回地址的10000端口上 proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;upgrade&quot;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125; &#125; 如果你配置后,实际使用的时候会出现错误。查了资料，别的人也有这个问题 https://github.com/v2ray/v2ray-core/issues/1588 看一下你nginx的配置文件,是不是重复了下面的配置 proxy_set_header Host $http_host; proxy_set_header Host $host; 這兩個重複了，刪除一個即可正常 客户端这里，我贴一张我客户端的设置界面 后续服务端更新找到脚本，然后执行 &gt; bash go.sh Linux 防火墙注意：部署服务端的时候，请暂时关闭防火墙。部署完后如果开启防火墙，把必须的端口开放 下面时Centos7防火墙的一些基本操作。centos7默认使用firewall-cmd，以前的iptable已经不用了 查看防火墙状态 firewall-cmd --state 停止 systemctl stop firewalld.service 禁止 firewall 开机启动 systemctl disable firewalld.service 查看已经开放的端口 firewall-cmd --list-ports 开启端口 firewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent --zone # 作用域 --permanent # 永久生效，没有此参数重启后失效 重启防火墙 firewall-cmd --reload 移除端口 firewall-cmd --remove-port&#x3D;9998&#x2F;udp --permanent 来自 https:&#x2F;&#x2F;blog.csdn.net&#x2F;zj_jim&#x2F;article&#x2F;details&#x2F;53841516 官方教程 https://toutyrater.github.io/advanced/tls.html https://toutyrater.github.io/advanced/wss_and_web.html 道高一尺，魔高一丈。不存在一劳永逸的翻墙方法，最重要的是不断学习提高，搞不好哪天这个教程就失效了呢。祝各位早日看到外面的世界","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"翻墙","slug":"翻墙","permalink":"https://blog.bingfengs.xyz/tags/%E7%BF%BB%E5%A2%99/"}]},{"title":"Hello World","slug":"Hello World","date":"2019-02-20T12:24:49.000Z","updated":"2020-06-14T03:40:00.654Z","comments":true,"path":"2019/02/20/hello-world/","link":"","permalink":"https://blog.bingfengs.xyz/2019/02/20/hello-world/","excerpt":"","text":"Welcome to My Blog! This is a Hello World post.","categories":[],"tags":[{"name":"建站","slug":"建站","permalink":"https://blog.bingfengs.xyz/tags/%E5%BB%BA%E7%AB%99/"},{"name":"Hexo","slug":"Hexo","permalink":"https://blog.bingfengs.xyz/tags/Hexo/"}]}],"categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.bingfengs.xyz/tags/Linux/"},{"name":"翻墙","slug":"翻墙","permalink":"https://blog.bingfengs.xyz/tags/%E7%BF%BB%E5%A2%99/"},{"name":"编程","slug":"编程","permalink":"https://blog.bingfengs.xyz/tags/%E7%BC%96%E7%A8%8B/"},{"name":"自动化","slug":"自动化","permalink":"https://blog.bingfengs.xyz/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"网络","slug":"网络","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%BB%9C/"},{"name":"抓包","slug":"抓包","permalink":"https://blog.bingfengs.xyz/tags/%E6%8A%93%E5%8C%85/"},{"name":"Docker","slug":"Docker","permalink":"https://blog.bingfengs.xyz/tags/Docker/"},{"name":"养生","slug":"养生","permalink":"https://blog.bingfengs.xyz/tags/%E5%85%BB%E7%94%9F/"},{"name":"看病","slug":"看病","permalink":"https://blog.bingfengs.xyz/tags/%E7%9C%8B%E7%97%85/"},{"name":"笔记","slug":"笔记","permalink":"https://blog.bingfengs.xyz/tags/%E7%AC%94%E8%AE%B0/"},{"name":"废话","slug":"废话","permalink":"https://blog.bingfengs.xyz/tags/%E5%BA%9F%E8%AF%9D/"},{"name":"硬件","slug":"硬件","permalink":"https://blog.bingfengs.xyz/tags/%E7%A1%AC%E4%BB%B6/"},{"name":"Windows","slug":"Windows","permalink":"https://blog.bingfengs.xyz/tags/Windows/"},{"name":"英文","slug":"英文","permalink":"https://blog.bingfengs.xyz/tags/%E8%8B%B1%E6%96%87/"},{"name":"破解","slug":"破解","permalink":"https://blog.bingfengs.xyz/tags/%E7%A0%B4%E8%A7%A3/"},{"name":"设计","slug":"设计","permalink":"https://blog.bingfengs.xyz/tags/%E8%AE%BE%E8%AE%A1/"},{"name":"RFID","slug":"RFID","permalink":"https://blog.bingfengs.xyz/tags/RFID/"},{"name":"Html","slug":"Html","permalink":"https://blog.bingfengs.xyz/tags/Html/"},{"name":"网站","slug":"网站","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%AB%99/"},{"name":"虚拟化","slug":"虚拟化","permalink":"https://blog.bingfengs.xyz/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/"},{"name":"安全","slug":"安全","permalink":"https://blog.bingfengs.xyz/tags/%E5%AE%89%E5%85%A8/"},{"name":"网络 - Linux","slug":"网络-Linux","permalink":"https://blog.bingfengs.xyz/tags/%E7%BD%91%E7%BB%9C-Linux/"},{"name":"前端","slug":"前端","permalink":"https://blog.bingfengs.xyz/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Chrome","slug":"Chrome","permalink":"https://blog.bingfengs.xyz/tags/Chrome/"},{"name":"JS","slug":"JS","permalink":"https://blog.bingfengs.xyz/tags/JS/"},{"name":"NPM","slug":"NPM","permalink":"https://blog.bingfengs.xyz/tags/NPM/"},{"name":"Hexo","slug":"Hexo","permalink":"https://blog.bingfengs.xyz/tags/Hexo/"},{"name":"Git","slug":"Git","permalink":"https://blog.bingfengs.xyz/tags/Git/"},{"name":"防火墙","slug":"防火墙","permalink":"https://blog.bingfengs.xyz/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"交换机","slug":"交换机","permalink":"https://blog.bingfengs.xyz/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"},{"name":"PVE","slug":"PVE","permalink":"https://blog.bingfengs.xyz/tags/PVE/"},{"name":"Raid","slug":"Raid","permalink":"https://blog.bingfengs.xyz/tags/Raid/"},{"name":"存储","slug":"存储","permalink":"https://blog.bingfengs.xyz/tags/%E5%AD%98%E5%82%A8/"},{"name":"LVM","slug":"LVM","permalink":"https://blog.bingfengs.xyz/tags/LVM/"},{"name":"域","slug":"域","permalink":"https://blog.bingfengs.xyz/tags/%E5%9F%9F/"},{"name":"Github","slug":"Github","permalink":"https://blog.bingfengs.xyz/tags/Github/"},{"name":"WiFi","slug":"WiFi","permalink":"https://blog.bingfengs.xyz/tags/WiFi/"},{"name":"百度云","slug":"百度云","permalink":"https://blog.bingfengs.xyz/tags/%E7%99%BE%E5%BA%A6%E4%BA%91/"},{"name":"计划任务","slug":"计划任务","permalink":"https://blog.bingfengs.xyz/tags/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/"},{"name":"建站","slug":"建站","permalink":"https://blog.bingfengs.xyz/tags/%E5%BB%BA%E7%AB%99/"}]}